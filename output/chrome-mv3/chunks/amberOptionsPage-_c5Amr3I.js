const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["chunks/index.es-DoWJMNcW.js","chunks/tailwind-DxjCb10A.js","assets/tailwind-DvKaYXCx.css","chunks/dropdown-menu-Cyhb5NKU.js","chunks/x-CGqs90RB.js","chunks/languages-Bk6uXq1L.js","chunks/card-DHg66BDP.js"])))=>i.map(i=>d[i]);
var t2=Object.defineProperty;var n2=(n,t,e)=>t in n?t2(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var pn=(n,t,e)=>n2(n,typeof t!="symbol"?t+"":t,e);import{c as yn,r as B,j as g,a as Vt,u as Hn,d as rh,S as r2,e as i2,B as rn,f as rt,g as a2,b as Hi,h as o2,i as s2,R as l2}from"./tailwind-DxjCb10A.js";import{P as mn,u as c2,a as ca,d as u2,b as Vi,c as Nl,e as Rs,f as ts,g as ih,h as ah,R as oh,F as sh,i as f2,T as d2,j as h2,k as p2,l as m2,m as g2,n as lh,o as Ds,p as En,D as Bl,q as zl,E as ql,r as Ul,s as ki,t as Hl,G as ks,v as v2,w as ch,x as b2,y as y2,A as w2,z as uh,V as x2,B as _2,C as N2,H as S2,I as A2,J as k2,K as fh,M as L2,S as P2}from"./dropdown-menu-Cyhb5NKU.js";import{X as oo,C as Io,F as Ms,a as dh,b as j2}from"./x-CGqs90RB.js";import{F as C2,L as E2,m as I2}from"./languages-Bk6uXq1L.js";import{C as Ls,b as Ps,c as js,a as Cs}from"./card-DHg66BDP.js";/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],O2=yn("brain",T2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],bu=yn("chevron-down",R2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],M2=yn("chevron-right",D2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],B2=yn("chevron-up",F2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],q2=yn("circle-plus",z2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],H2=yn("cloud-upload",U2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],V2=yn("copy",W2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Fs=yn("download",K2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],hh=yn("external-link",$2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],ph=yn("file-plus",G2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],mh=yn("folder-plus",Y2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]],gh=yn("folder-tree",X2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],vh=yn("grip-vertical",J2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m8 11 4 4 4-4",key:"1dohi6"}],["path",{d:"M8 5H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-4",key:"1ywtjm"}]],bh=yn("import",Z2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],yh=yn("layers",Q2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const em=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],tm=yn("link-2",em);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Bs=yn("loader-circle",nm);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rm=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],df=yn("log-out",rm);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const im=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],am=yn("panel-left",im);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],sm=yn("pen",om);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],wh=yn("pencil",lm);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],hf=yn("play",cm);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const um=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],fm=yn("rocket",um);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],hm=yn("rotate-ccw",dm);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Sl=yn("search",pm);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=[["path",{d:"M21 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h6",key:"y09zxi"}],["path",{d:"m21 3-9 9",key:"mpx6sq"}],["path",{d:"M15 3h6v6",key:"1q9fwt"}]],gm=yn("square-arrow-out-up-right",mm);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],pf=yn("square-check-big",vm);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],mf=yn("square-x",bm);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],xh=yn("star",ym);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],xm=yn("upload",wm),xc=768;function _m(){const[n,t]=B.useState(void 0);return B.useEffect(()=>{const e=window.matchMedia(`(max-width: ${xc-1}px)`),r=()=>{t(window.innerWidth<xc)};return e.addEventListener("change",r),t(window.innerWidth<xc),()=>e.removeEventListener("change",r)},[]),!!n}function ss({className:n,type:t,...e}){return g.jsx("input",{type:t,"data-slot":"input",className:Vt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...e})}var Nm="Separator",gf="horizontal",Sm=["horizontal","vertical"],_h=B.forwardRef((n,t)=>{const{decorative:e,orientation:r=gf,...a}=n,i=Am(r)?r:gf,s=e?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return g.jsx(mn.div,{"data-orientation":i,...s,...a,ref:t})});_h.displayName=Nm;function Am(n){return Sm.includes(n)}var km=_h;function Lm({className:n,orientation:t="horizontal",decorative:e=!0,...r}){return g.jsx(km,{"data-slot":"separator",decorative:e,orientation:t,className:Vt("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",n),...r})}function io(n,t,{checkForDefaultPrevented:e=!0}={}){return function(a){if(n==null||n(a),e===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}var Pm="DismissableLayer",Jc="dismissableLayer.update",jm="dismissableLayer.pointerDownOutside",Cm="dismissableLayer.focusOutside",vf,Nh=B.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Sh=B.forwardRef((n,t)=>{const{disableOutsidePointerEvents:e=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:c,onDismiss:s,...u}=n,d=B.useContext(Nh),[m,b]=B.useState(null),x=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=B.useState({}),L=Hn(t,re=>b(re)),k=Array.from(d.layers),[C]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),S=k.indexOf(C),F=m?k.indexOf(m):-1,V=d.layersWithOutsidePointerEventsDisabled.size>0,W=F>=S,be=Tm(re=>{const Q=re.target,H=[...d.branches].some(de=>de.contains(Q));!W||H||(a==null||a(re),c==null||c(re),re.defaultPrevented||s==null||s())},x),ue=Om(re=>{const Q=re.target;[...d.branches].some(de=>de.contains(Q))||(i==null||i(re),c==null||c(re),re.defaultPrevented||s==null||s())},x);return c2(re=>{F===d.layers.size-1&&(r==null||r(re),!re.defaultPrevented&&s&&(re.preventDefault(),s()))},x),B.useEffect(()=>{if(m)return e&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(vf=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(m)),d.layers.add(m),bf(),()=>{e&&d.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=vf)}},[m,x,e,d]),B.useEffect(()=>()=>{m&&(d.layers.delete(m),d.layersWithOutsidePointerEventsDisabled.delete(m),bf())},[m,d]),B.useEffect(()=>{const re=()=>p({});return document.addEventListener(Jc,re),()=>document.removeEventListener(Jc,re)},[]),g.jsx(mn.div,{...u,ref:L,style:{pointerEvents:V?W?"auto":"none":void 0,...n.style},onFocusCapture:io(n.onFocusCapture,ue.onFocusCapture),onBlurCapture:io(n.onBlurCapture,ue.onBlurCapture),onPointerDownCapture:io(n.onPointerDownCapture,be.onPointerDownCapture)})});Sh.displayName=Pm;var Em="DismissableLayerBranch",Im=B.forwardRef((n,t)=>{const e=B.useContext(Nh),r=B.useRef(null),a=Hn(t,r);return B.useEffect(()=>{const i=r.current;if(i)return e.branches.add(i),()=>{e.branches.delete(i)}},[e.branches]),g.jsx(mn.div,{...n,ref:a})});Im.displayName=Em;function Tm(n,t=globalThis==null?void 0:globalThis.document){const e=ca(n),r=B.useRef(!1),a=B.useRef(()=>{});return B.useEffect(()=>{const i=s=>{if(s.target&&!r.current){let u=function(){Ah(jm,e,d,{discrete:!0})};const d={originalEvent:s};s.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=u,t.addEventListener("click",a.current,{once:!0})):u()}else t.removeEventListener("click",a.current);r.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,e]),{onPointerDownCapture:()=>r.current=!0}}function Om(n,t=globalThis==null?void 0:globalThis.document){const e=ca(n),r=B.useRef(!1);return B.useEffect(()=>{const a=i=>{i.target&&!r.current&&Ah(Cm,e,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,e]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function bf(){const n=new CustomEvent(Jc);document.dispatchEvent(n)}function Ah(n,t,e,{discrete:r}){const a=e.originalEvent.target,i=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:e});t&&a.addEventListener(n,t,{once:!0}),r?u2(a,i):a.dispatchEvent(i)}function Rm(n,t){return B.useReducer((e,r)=>t[e][r]??e,n)}var Wl=n=>{const{present:t,children:e}=n,r=Dm(t),a=typeof e=="function"?e({present:r.isPresent}):B.Children.only(e),i=Hn(r.ref,Mm(a));return typeof e=="function"||r.isPresent?B.cloneElement(a,{ref:i}):null};Wl.displayName="Presence";function Dm(n){const[t,e]=B.useState(),r=B.useRef(null),a=B.useRef(n),i=B.useRef("none"),c=n?"mounted":"unmounted",[s,u]=Rm(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return B.useEffect(()=>{const d=nl(r.current);i.current=s==="mounted"?d:"none"},[s]),Vi(()=>{const d=r.current,m=a.current;if(m!==n){const x=i.current,p=nl(d);n?u("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?u("UNMOUNT"):u(m&&x!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=n}},[n,u]),Vi(()=>{if(t){let d;const m=t.ownerDocument.defaultView??window,b=p=>{const k=nl(r.current).includes(CSS.escape(p.animationName));if(p.target===t&&k&&(u("ANIMATION_END"),!a.current)){const C=t.style.animationFillMode;t.style.animationFillMode="forwards",d=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=C)})}},x=p=>{p.target===t&&(i.current=nl(r.current))};return t.addEventListener("animationstart",x),t.addEventListener("animationcancel",b),t.addEventListener("animationend",b),()=>{m.clearTimeout(d),t.removeEventListener("animationstart",x),t.removeEventListener("animationcancel",b),t.removeEventListener("animationend",b)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:B.useCallback(d=>{r.current=d?getComputedStyle(d):null,e(d)},[])}}function nl(n){return(n==null?void 0:n.animationName)||"none"}function Mm(n){var r,a;let t=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?n.ref:(t=(a=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:a.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?n.props.ref:n.props.ref||n.ref)}var _c=0;function Fm(){B.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??yf()),document.body.insertAdjacentElement("beforeend",n[1]??yf()),_c++,()=>{_c===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),_c--}},[])}function yf(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var Vl="Dialog",[kh,sx]=Rs(Vl),[Bm,$i]=kh(Vl),Lh=n=>{const{__scopeDialog:t,children:e,open:r,defaultOpen:a,onOpenChange:i,modal:c=!0}=n,s=B.useRef(null),u=B.useRef(null),[d,m]=Nl({prop:r,defaultProp:a??!1,onChange:i,caller:Vl});return g.jsx(Bm,{scope:t,triggerRef:s,contentRef:u,contentId:ts(),titleId:ts(),descriptionId:ts(),open:d,onOpenChange:m,onOpenToggle:B.useCallback(()=>m(b=>!b),[m]),modal:c,children:e})};Lh.displayName=Vl;var Ph="DialogTrigger",jh=B.forwardRef((n,t)=>{const{__scopeDialog:e,...r}=n,a=$i(Ph,e),i=Hn(t,a.triggerRef);return g.jsx(mn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":xu(a.open),...r,ref:i,onClick:io(n.onClick,a.onOpenToggle)})});jh.displayName=Ph;var yu="DialogPortal",[zm,Ch]=kh(yu,{forceMount:void 0}),Eh=n=>{const{__scopeDialog:t,forceMount:e,children:r,container:a}=n,i=$i(yu,t);return g.jsx(zm,{scope:t,forceMount:e,children:B.Children.map(r,c=>g.jsx(Wl,{present:e||i.open,children:g.jsx(ih,{asChild:!0,container:a,children:c})}))})};Eh.displayName=yu;var Al="DialogOverlay",Ih=B.forwardRef((n,t)=>{const e=Ch(Al,n.__scopeDialog),{forceMount:r=e.forceMount,...a}=n,i=$i(Al,n.__scopeDialog);return i.modal?g.jsx(Wl,{present:r||i.open,children:g.jsx(Um,{...a,ref:t})}):null});Ih.displayName=Al;var qm=rh("DialogOverlay.RemoveScroll"),Um=B.forwardRef((n,t)=>{const{__scopeDialog:e,...r}=n,a=$i(Al,e);return g.jsx(oh,{as:qm,allowPinchZoom:!0,shards:[a.contentRef],children:g.jsx(mn.div,{"data-state":xu(a.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),To="DialogContent",Th=B.forwardRef((n,t)=>{const e=Ch(To,n.__scopeDialog),{forceMount:r=e.forceMount,...a}=n,i=$i(To,n.__scopeDialog);return g.jsx(Wl,{present:r||i.open,children:i.modal?g.jsx(Hm,{...a,ref:t}):g.jsx(Wm,{...a,ref:t})})});Th.displayName=To;var Hm=B.forwardRef((n,t)=>{const e=$i(To,n.__scopeDialog),r=B.useRef(null),a=Hn(t,e.contentRef,r);return B.useEffect(()=>{const i=r.current;if(i)return ah(i)},[]),g.jsx(Oh,{...n,ref:a,trapFocus:e.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:io(n.onCloseAutoFocus,i=>{var c;i.preventDefault(),(c=e.triggerRef.current)==null||c.focus()}),onPointerDownOutside:io(n.onPointerDownOutside,i=>{const c=i.detail.originalEvent,s=c.button===0&&c.ctrlKey===!0;(c.button===2||s)&&i.preventDefault()}),onFocusOutside:io(n.onFocusOutside,i=>i.preventDefault())})}),Wm=B.forwardRef((n,t)=>{const e=$i(To,n.__scopeDialog),r=B.useRef(!1),a=B.useRef(!1);return g.jsx(Oh,{...n,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var c,s;(c=n.onCloseAutoFocus)==null||c.call(n,i),i.defaultPrevented||(r.current||(s=e.triggerRef.current)==null||s.focus(),i.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:i=>{var u,d;(u=n.onInteractOutside)==null||u.call(n,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=i.target;((d=e.triggerRef.current)==null?void 0:d.contains(c))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),Oh=B.forwardRef((n,t)=>{const{__scopeDialog:e,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,...c}=n,s=$i(To,e),u=B.useRef(null),d=Hn(t,u);return Fm(),g.jsxs(g.Fragment,{children:[g.jsx(sh,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i,children:g.jsx(Sh,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":xu(s.open),...c,ref:d,onDismiss:()=>s.onOpenChange(!1)})}),g.jsxs(g.Fragment,{children:[g.jsx(Vm,{titleId:s.titleId}),g.jsx($m,{contentRef:u,descriptionId:s.descriptionId})]})]})}),wu="DialogTitle",Rh=B.forwardRef((n,t)=>{const{__scopeDialog:e,...r}=n,a=$i(wu,e);return g.jsx(mn.h2,{id:a.titleId,...r,ref:t})});Rh.displayName=wu;var Dh="DialogDescription",Mh=B.forwardRef((n,t)=>{const{__scopeDialog:e,...r}=n,a=$i(Dh,e);return g.jsx(mn.p,{id:a.descriptionId,...r,ref:t})});Mh.displayName=Dh;var Fh="DialogClose",Bh=B.forwardRef((n,t)=>{const{__scopeDialog:e,...r}=n,a=$i(Fh,e);return g.jsx(mn.button,{type:"button",...r,ref:t,onClick:io(n.onClick,()=>a.onOpenChange(!1))})});Bh.displayName=Fh;function xu(n){return n?"open":"closed"}var zh="DialogTitleWarning",[lx,qh]=f2(zh,{contentName:To,titleName:wu,docsSlug:"dialog"}),Vm=({titleId:n})=>{const t=qh(zh),e=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return B.useEffect(()=>{n&&(document.getElementById(n)||console.error(e))},[e,n]),null},Km="DialogDescriptionWarning",$m=({contentRef:n,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${qh(Km).contentName}}.`;return B.useEffect(()=>{var i;const a=(i=n.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,n,t]),null},Uh=Lh,Gm=jh,Hh=Eh,Wh=Ih,Vh=Th,Kh=Rh,$h=Mh,Gh=Bh;function Ym({...n}){return g.jsx(Uh,{"data-slot":"sheet",...n})}function Xm({...n}){return g.jsx(Hh,{"data-slot":"sheet-portal",...n})}function Jm({className:n,...t}){return g.jsx(Wh,{"data-slot":"sheet-overlay",className:Vt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),...t})}function Zm({className:n,children:t,side:e="right",...r}){return g.jsxs(Xm,{children:[g.jsx(Jm,{}),g.jsxs(Vh,{"data-slot":"sheet-content",className:Vt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",e==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",e==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",e==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",e==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",n),...r,children:[t,g.jsxs(Gh,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[g.jsx(oo,{className:"size-4"}),g.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Qm({className:n,...t}){return g.jsx("div",{"data-slot":"sheet-header",className:Vt("flex flex-col gap-1.5 p-4",n),...t})}function eg({className:n,...t}){return g.jsx(Kh,{"data-slot":"sheet-title",className:Vt("text-foreground font-semibold",n),...t})}function tg({className:n,...t}){return g.jsx($h,{"data-slot":"sheet-description",className:Vt("text-muted-foreground text-sm",n),...t})}const ng="sidebar_state",rg=60*60*24*7,ig="16rem",ag="18rem",og="3rem",sg="b",Yh=B.createContext(null);function Kl(){const n=B.useContext(Yh);if(!n)throw new Error("useSidebar must be used within a SidebarProvider.");return n}function lg({defaultOpen:n=!0,open:t,onOpenChange:e,className:r,style:a,children:i,...c}){const s=_m(),[u,d]=B.useState(!1),[m,b]=B.useState(n),x=t??m,p=B.useCallback(S=>{const F=typeof S=="function"?S(x):S;e?e(F):b(F),document.cookie=`${ng}=${F}; path=/; max-age=${rg}`},[e,x]),L=B.useCallback(()=>s?d(S=>!S):p(S=>!S),[s,p,d]);B.useEffect(()=>{const S=F=>{F.key===sg&&(F.metaKey||F.ctrlKey)&&(F.preventDefault(),L())};return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[L]);const k=x?"expanded":"collapsed",C=B.useMemo(()=>({state:k,open:x,setOpen:p,isMobile:s,openMobile:u,setOpenMobile:d,toggleSidebar:L}),[k,x,p,s,u,d,L]);return g.jsx(Yh.Provider,{value:C,children:g.jsx(d2,{delayDuration:0,children:g.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":ig,"--sidebar-width-icon":og,...a},className:Vt("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",r),...c,children:i})})})}function cg({side:n="left",variant:t="sidebar",collapsible:e="offcanvas",className:r,children:a,...i}){const{isMobile:c,state:s,openMobile:u,setOpenMobile:d}=Kl();return e==="none"?g.jsx("div",{"data-slot":"sidebar",className:Vt("bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",r),...i,children:a}):c?g.jsx(Ym,{open:u,onOpenChange:d,...i,children:g.jsxs(Zm,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden",style:{"--sidebar-width":ag},side:n,children:[g.jsxs(Qm,{className:"sr-only",children:[g.jsx(eg,{children:"Sidebar"}),g.jsx(tg,{children:"Displays the mobile sidebar."})]}),g.jsx("div",{className:"flex h-full w-full flex-col",children:a})]})}):g.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":s,"data-collapsible":s==="collapsed"?e:"","data-variant":t,"data-side":n,"data-slot":"sidebar",children:[g.jsx("div",{"data-slot":"sidebar-gap",className:Vt("relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)")}),g.jsx("div",{"data-slot":"sidebar-container",className:Vt("fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex",n==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...i,children:g.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:a})})]})}function ug({className:n,onClick:t,...e}){const{toggleSidebar:r}=Kl();return g.jsxs(rn,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:Vt("size-7",n),onClick:a=>{t==null||t(a),r()},...e,children:[g.jsx(am,{}),g.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function fg({className:n,...t}){return g.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:Vt("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",n),...t})}function dg({className:n,...t}){return g.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:Vt("relative flex w-full min-w-0 flex-col p-2",n),...t})}function hg({className:n,...t}){return g.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:Vt("w-full text-sm",n),...t})}function pg({className:n,...t}){return g.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:Vt("flex w-full min-w-0 flex-col gap-1",n),...t})}function mg({className:n,...t}){return g.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:Vt("group/menu-item relative",n),...t})}const gg=i2("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function vg({asChild:n=!1,isActive:t=!1,variant:e="default",size:r="default",tooltip:a,className:i,...c}){const s=n?r2:"button",{isMobile:u,state:d}=Kl(),m=g.jsx(s,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":r,"data-active":t,className:Vt(gg({variant:e,size:r}),i),...c});return a?(typeof a=="string"&&(a={children:a}),g.jsxs(h2,{children:[g.jsx(p2,{asChild:!0,children:m}),g.jsx(m2,{side:"right",align:"center",hidden:d!=="collapsed"||u,...a})]})):m}function bg(n){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",t.appendChild(e),e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}const yg=n=>{switch(n){case"success":return _g;case"info":return Sg;case"warning":return Ng;case"error":return Ag;default:return null}},wg=Array(12).fill(0),xg=({visible:n,className:t})=>rt.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":n},rt.createElement("div",{className:"sonner-spinner"},wg.map((e,r)=>rt.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),_g=rt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},rt.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Ng=rt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},rt.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Sg=rt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},rt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Ag=rt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},rt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),kg=rt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},rt.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),rt.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Lg=()=>{const[n,t]=rt.useState(document.hidden);return rt.useEffect(()=>{const e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),n};let Zc=1;class Pg{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;const{message:r,...a}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Zc++,c=this.toasts.find(u=>u.id===i),s=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),c?this.toasts=this.toasts.map(u=>u.id===i?(this.publish({...u,...t,id:i,title:r}),{...u,...t,id:i,dismissible:s,title:r}):u):this.addToast({title:r,...a,dismissible:s,id:i}),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(e=>e({id:t,dismiss:!0})))):this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));const a=Promise.resolve(t instanceof Function?t():t);let i=r!==void 0,c;const s=a.then(async d=>{if(c=["resolve",d],rt.isValidElement(d))i=!1,this.create({id:r,type:"default",message:d});else if(Cg(d)&&!d.ok){i=!1;const b=typeof e.error=="function"?await e.error(`HTTP error! status: ${d.status}`):e.error,x=typeof e.description=="function"?await e.description(`HTTP error! status: ${d.status}`):e.description,L=typeof b=="object"&&!rt.isValidElement(b)?b:{message:b};this.create({id:r,type:"error",description:x,...L})}else if(d instanceof Error){i=!1;const b=typeof e.error=="function"?await e.error(d):e.error,x=typeof e.description=="function"?await e.description(d):e.description,L=typeof b=="object"&&!rt.isValidElement(b)?b:{message:b};this.create({id:r,type:"error",description:x,...L})}else if(e.success!==void 0){i=!1;const b=typeof e.success=="function"?await e.success(d):e.success,x=typeof e.description=="function"?await e.description(d):e.description,L=typeof b=="object"&&!rt.isValidElement(b)?b:{message:b};this.create({id:r,type:"success",description:x,...L})}}).catch(async d=>{if(c=["reject",d],e.error!==void 0){i=!1;const m=typeof e.error=="function"?await e.error(d):e.error,b=typeof e.description=="function"?await e.description(d):e.description,p=typeof m=="object"&&!rt.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:b,...p})}}).finally(()=>{i&&(this.dismiss(r),r=void 0),e.finally==null||e.finally.call(e)}),u=()=>new Promise((d,m)=>s.then(()=>c[0]==="reject"?m(c[1]):d(c[1])).catch(m));return typeof r!="string"&&typeof r!="number"?{unwrap:u}:Object.assign(r,{unwrap:u})},this.custom=(t,e)=>{const r=(e==null?void 0:e.id)||Zc++;return this.create({jsx:t(r),id:r,...e}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Zr=new Pg,jg=(n,t)=>{const e=(t==null?void 0:t.id)||Zc++;return Zr.addToast({title:n,...t,id:e}),e},Cg=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",Eg=jg,Ig=()=>Zr.toasts,Tg=()=>Zr.getActiveToasts(),rl=Object.assign(Eg,{success:Zr.success,info:Zr.info,warning:Zr.warning,error:Zr.error,custom:Zr.custom,message:Zr.message,promise:Zr.promise,dismiss:Zr.dismiss,loading:Zr.loading},{getHistory:Ig,getToasts:Tg});bg("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function il(n){return n.label!==void 0}const Og=3,Rg="24px",Dg="16px",wf=4e3,Mg=356,Fg=14,Bg=45,zg=200;function oa(...n){return n.filter(Boolean).join(" ")}function qg(n){const[t,e]=n.split("-"),r=[];return t&&r.push(t),e&&r.push(e),r}const Ug=n=>{var t,e,r,a,i,c,s,u,d;const{invert:m,toast:b,unstyled:x,interacting:p,setHeights:L,visibleToasts:k,heights:C,index:S,toasts:F,expanded:V,removeToast:W,defaultRichColors:be,closeButton:ue,style:re,cancelButtonStyle:Q,actionButtonStyle:H,className:de="",descriptionClassName:O="",duration:R,position:ee,gap:ne,expandByDefault:Se,classNames:we,icons:je,closeButtonAriaLabel:Ne="Close toast"}=n,[Te,Ve]=rt.useState(null),[Be,T]=rt.useState(null),[D,q]=rt.useState(!1),[X,te]=rt.useState(!1),[Z,le]=rt.useState(!1),[ae,Le]=rt.useState(!1),[De,Re]=rt.useState(!1),[Ke,Ie]=rt.useState(0),[J,Ot]=rt.useState(0),St=rt.useRef(b.duration||R||wf),ut=rt.useRef(null),$e=rt.useRef(null),gt=S===0,Qe=S+1<=k,xt=b.type,ft=b.dismissible!==!1,an=b.className||"",Tt=b.descriptionClassName||"",Ct=rt.useMemo(()=>C.findIndex(st=>st.toastId===b.id)||0,[C,b.id]),Qt=rt.useMemo(()=>{var st;return(st=b.closeButton)!=null?st:ue},[b.closeButton,ue]),Rt=rt.useMemo(()=>b.duration||R||wf,[b.duration,R]),ht=rt.useRef(0),At=rt.useRef(0),wt=rt.useRef(0),Yt=rt.useRef(null),[en,vt]=ee.split("-"),Et=rt.useMemo(()=>C.reduce((st,vn,on)=>on>=Ct?st:st+vn.height,0),[C,Ct]),tt=Lg(),kt=b.invert||m,zt=xt==="loading";At.current=rt.useMemo(()=>Ct*ne+Et,[Ct,Et]),rt.useEffect(()=>{St.current=Rt},[Rt]),rt.useEffect(()=>{q(!0)},[]),rt.useEffect(()=>{const st=$e.current;if(st){const vn=st.getBoundingClientRect().height;return Ot(vn),L(on=>[{toastId:b.id,height:vn,position:b.position},...on]),()=>L(on=>on.filter(Tn=>Tn.toastId!==b.id))}},[L,b.id]),rt.useLayoutEffect(()=>{if(!D)return;const st=$e.current,vn=st.style.height;st.style.height="auto";const on=st.getBoundingClientRect().height;st.style.height=vn,Ot(on),L(Tn=>Tn.find(lt=>lt.toastId===b.id)?Tn.map(lt=>lt.toastId===b.id?{...lt,height:on}:lt):[{toastId:b.id,height:on,position:b.position},...Tn])},[D,b.title,b.description,L,b.id,b.jsx,b.action,b.cancel]);const jt=rt.useCallback(()=>{te(!0),Ie(At.current),L(st=>st.filter(vn=>vn.toastId!==b.id)),setTimeout(()=>{W(b)},zg)},[b,W,L,At]);rt.useEffect(()=>{if(b.promise&&xt==="loading"||b.duration===1/0||b.type==="loading")return;let st;return V||p||tt?(()=>{if(wt.current<ht.current){const Tn=new Date().getTime()-ht.current;St.current=St.current-Tn}wt.current=new Date().getTime()})():(()=>{St.current!==1/0&&(ht.current=new Date().getTime(),st=setTimeout(()=>{b.onAutoClose==null||b.onAutoClose.call(b,b),jt()},St.current))})(),()=>clearTimeout(st)},[V,p,b,xt,tt,jt]),rt.useEffect(()=>{b.delete&&(jt(),b.onDismiss==null||b.onDismiss.call(b,b))},[jt,b.delete]);function Xe(){var st;if(je!=null&&je.loading){var vn;return rt.createElement("div",{className:oa(we==null?void 0:we.loader,b==null||(vn=b.classNames)==null?void 0:vn.loader,"sonner-loader"),"data-visible":xt==="loading"},je.loading)}return rt.createElement(xg,{className:oa(we==null?void 0:we.loader,b==null||(st=b.classNames)==null?void 0:st.loader),visible:xt==="loading"})}const In=b.icon||(je==null?void 0:je[xt])||yg(xt);var dn,It;return rt.createElement("li",{tabIndex:0,ref:$e,className:oa(de,an,we==null?void 0:we.toast,b==null||(t=b.classNames)==null?void 0:t.toast,we==null?void 0:we.default,we==null?void 0:we[xt],b==null||(e=b.classNames)==null?void 0:e[xt]),"data-sonner-toast":"","data-rich-colors":(dn=b.richColors)!=null?dn:be,"data-styled":!(b.jsx||b.unstyled||x),"data-mounted":D,"data-promise":!!b.promise,"data-swiped":De,"data-removed":X,"data-visible":Qe,"data-y-position":en,"data-x-position":vt,"data-index":S,"data-front":gt,"data-swiping":Z,"data-dismissible":ft,"data-type":xt,"data-invert":kt,"data-swipe-out":ae,"data-swipe-direction":Be,"data-expanded":!!(V||Se&&D),"data-testid":b.testId,style:{"--index":S,"--toasts-before":S,"--z-index":F.length-S,"--offset":`${X?Ke:At.current}px`,"--initial-height":Se?"auto":`${J}px`,...re,...b.style},onDragEnd:()=>{le(!1),Ve(null),Yt.current=null},onPointerDown:st=>{st.button!==2&&(zt||!ft||(ut.current=new Date,Ie(At.current),st.target.setPointerCapture(st.pointerId),st.target.tagName!=="BUTTON"&&(le(!0),Yt.current={x:st.clientX,y:st.clientY})))},onPointerUp:()=>{var st,vn,on;if(ae||!ft)return;Yt.current=null;const Tn=Number(((st=$e.current)==null?void 0:st.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Kn=Number(((vn=$e.current)==null?void 0:vn.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),lt=new Date().getTime()-((on=ut.current)==null?void 0:on.getTime()),Pn=Te==="x"?Tn:Kn,cr=Math.abs(Pn)/lt;if(Math.abs(Pn)>=Bg||cr>.11){Ie(At.current),b.onDismiss==null||b.onDismiss.call(b,b),T(Te==="x"?Tn>0?"right":"left":Kn>0?"down":"up"),jt(),Le(!0);return}else{var Dt,Kt;(Dt=$e.current)==null||Dt.style.setProperty("--swipe-amount-x","0px"),(Kt=$e.current)==null||Kt.style.setProperty("--swipe-amount-y","0px")}Re(!1),le(!1),Ve(null)},onPointerMove:st=>{var vn,on,Tn;if(!Yt.current||!ft||((vn=window.getSelection())==null?void 0:vn.toString().length)>0)return;const lt=st.clientY-Yt.current.y,Pn=st.clientX-Yt.current.x;var cr;const Dt=(cr=n.swipeDirections)!=null?cr:qg(ee);!Te&&(Math.abs(Pn)>1||Math.abs(lt)>1)&&Ve(Math.abs(Pn)>Math.abs(lt)?"x":"y");let Kt={x:0,y:0};const Sn=gn=>1/(1.5+Math.abs(gn)/20);if(Te==="y"){if(Dt.includes("top")||Dt.includes("bottom"))if(Dt.includes("top")&&lt<0||Dt.includes("bottom")&&lt>0)Kt.y=lt;else{const gn=lt*Sn(lt);Kt.y=Math.abs(gn)<Math.abs(lt)?gn:lt}}else if(Te==="x"&&(Dt.includes("left")||Dt.includes("right")))if(Dt.includes("left")&&Pn<0||Dt.includes("right")&&Pn>0)Kt.x=Pn;else{const gn=Pn*Sn(Pn);Kt.x=Math.abs(gn)<Math.abs(Pn)?gn:Pn}(Math.abs(Kt.x)>0||Math.abs(Kt.y)>0)&&Re(!0),(on=$e.current)==null||on.style.setProperty("--swipe-amount-x",`${Kt.x}px`),(Tn=$e.current)==null||Tn.style.setProperty("--swipe-amount-y",`${Kt.y}px`)}},Qt&&!b.jsx&&xt!=="loading"?rt.createElement("button",{"aria-label":Ne,"data-disabled":zt,"data-close-button":!0,onClick:zt||!ft?()=>{}:()=>{jt(),b.onDismiss==null||b.onDismiss.call(b,b)},className:oa(we==null?void 0:we.closeButton,b==null||(r=b.classNames)==null?void 0:r.closeButton)},(It=je==null?void 0:je.close)!=null?It:kg):null,(xt||b.icon||b.promise)&&b.icon!==null&&((je==null?void 0:je[xt])!==null||b.icon)?rt.createElement("div",{"data-icon":"",className:oa(we==null?void 0:we.icon,b==null||(a=b.classNames)==null?void 0:a.icon)},b.promise||b.type==="loading"&&!b.icon?b.icon||Xe():null,b.type!=="loading"?In:null):null,rt.createElement("div",{"data-content":"",className:oa(we==null?void 0:we.content,b==null||(i=b.classNames)==null?void 0:i.content)},rt.createElement("div",{"data-title":"",className:oa(we==null?void 0:we.title,b==null||(c=b.classNames)==null?void 0:c.title)},b.jsx?b.jsx:typeof b.title=="function"?b.title():b.title),b.description?rt.createElement("div",{"data-description":"",className:oa(O,Tt,we==null?void 0:we.description,b==null||(s=b.classNames)==null?void 0:s.description)},typeof b.description=="function"?b.description():b.description):null),rt.isValidElement(b.cancel)?b.cancel:b.cancel&&il(b.cancel)?rt.createElement("button",{"data-button":!0,"data-cancel":!0,style:b.cancelButtonStyle||Q,onClick:st=>{il(b.cancel)&&ft&&(b.cancel.onClick==null||b.cancel.onClick.call(b.cancel,st),jt())},className:oa(we==null?void 0:we.cancelButton,b==null||(u=b.classNames)==null?void 0:u.cancelButton)},b.cancel.label):null,rt.isValidElement(b.action)?b.action:b.action&&il(b.action)?rt.createElement("button",{"data-button":!0,"data-action":!0,style:b.actionButtonStyle||H,onClick:st=>{il(b.action)&&(b.action.onClick==null||b.action.onClick.call(b.action,st),!st.defaultPrevented&&jt())},className:oa(we==null?void 0:we.actionButton,b==null||(d=b.classNames)==null?void 0:d.actionButton)},b.action.label):null)};function xf(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function Hg(n,t){const e={};return[n,t].forEach((r,a)=>{const i=a===1,c=i?"--mobile-offset":"--offset",s=i?Dg:Rg;function u(d){["top","right","bottom","left"].forEach(m=>{e[`${c}-${m}`]=typeof d=="number"?`${d}px`:d})}typeof r=="number"||typeof r=="string"?u(r):typeof r=="object"?["top","right","bottom","left"].forEach(d=>{r[d]===void 0?e[`${c}-${d}`]=s:e[`${c}-${d}`]=typeof r[d]=="number"?`${r[d]}px`:r[d]}):u(s)}),e}const Wg=rt.forwardRef(function(t,e){const{id:r,invert:a,position:i="bottom-right",hotkey:c=["altKey","KeyT"],expand:s,closeButton:u,className:d,offset:m,mobileOffset:b,theme:x="light",richColors:p,duration:L,style:k,visibleToasts:C=Og,toastOptions:S,dir:F=xf(),gap:V=Fg,icons:W,containerAriaLabel:be="Notifications"}=t,[ue,re]=rt.useState([]),Q=rt.useMemo(()=>r?ue.filter(D=>D.toasterId===r):ue.filter(D=>!D.toasterId),[ue,r]),H=rt.useMemo(()=>Array.from(new Set([i].concat(Q.filter(D=>D.position).map(D=>D.position)))),[Q,i]),[de,O]=rt.useState([]),[R,ee]=rt.useState(!1),[ne,Se]=rt.useState(!1),[we,je]=rt.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Ne=rt.useRef(null),Te=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),Ve=rt.useRef(null),Be=rt.useRef(!1),T=rt.useCallback(D=>{re(q=>{var X;return(X=q.find(te=>te.id===D.id))!=null&&X.delete||Zr.dismiss(D.id),q.filter(({id:te})=>te!==D.id)})},[]);return rt.useEffect(()=>Zr.subscribe(D=>{if(D.dismiss){requestAnimationFrame(()=>{re(q=>q.map(X=>X.id===D.id?{...X,delete:!0}:X))});return}setTimeout(()=>{g2.flushSync(()=>{re(q=>{const X=q.findIndex(te=>te.id===D.id);return X!==-1?[...q.slice(0,X),{...q[X],...D},...q.slice(X+1)]:[D,...q]})})})}),[ue]),rt.useEffect(()=>{if(x!=="system"){je(x);return}if(x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?je("dark"):je("light")),typeof window>"u")return;const D=window.matchMedia("(prefers-color-scheme: dark)");try{D.addEventListener("change",({matches:q})=>{je(q?"dark":"light")})}catch{D.addListener(({matches:X})=>{try{je(X?"dark":"light")}catch(te){console.error(te)}})}},[x]),rt.useEffect(()=>{ue.length<=1&&ee(!1)},[ue]),rt.useEffect(()=>{const D=q=>{var X;if(c.every(le=>q[le]||q.code===le)){var Z;ee(!0),(Z=Ne.current)==null||Z.focus()}q.code==="Escape"&&(document.activeElement===Ne.current||(X=Ne.current)!=null&&X.contains(document.activeElement))&&ee(!1)};return document.addEventListener("keydown",D),()=>document.removeEventListener("keydown",D)},[c]),rt.useEffect(()=>{if(Ne.current)return()=>{Ve.current&&(Ve.current.focus({preventScroll:!0}),Ve.current=null,Be.current=!1)}},[Ne.current]),rt.createElement("section",{ref:e,"aria-label":`${be} ${Te}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},H.map((D,q)=>{var X;const[te,Z]=D.split("-");return Q.length?rt.createElement("ol",{key:D,dir:F==="auto"?xf():F,tabIndex:-1,ref:Ne,className:d,"data-sonner-toaster":!0,"data-sonner-theme":we,"data-y-position":te,"data-x-position":Z,style:{"--front-toast-height":`${((X=de[0])==null?void 0:X.height)||0}px`,"--width":`${Mg}px`,"--gap":`${V}px`,...k,...Hg(m,b)},onBlur:le=>{Be.current&&!le.currentTarget.contains(le.relatedTarget)&&(Be.current=!1,Ve.current&&(Ve.current.focus({preventScroll:!0}),Ve.current=null))},onFocus:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||Be.current||(Be.current=!0,Ve.current=le.relatedTarget)},onMouseEnter:()=>ee(!0),onMouseMove:()=>ee(!0),onMouseLeave:()=>{ne||ee(!1)},onDragEnd:()=>ee(!1),onPointerDown:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||Se(!0)},onPointerUp:()=>Se(!1)},Q.filter(le=>!le.position&&q===0||le.position===D).map((le,ae)=>{var Le,De;return rt.createElement(Ug,{key:le.id,icons:W,index:ae,toast:le,defaultRichColors:p,duration:(Le=S==null?void 0:S.duration)!=null?Le:L,className:S==null?void 0:S.className,descriptionClassName:S==null?void 0:S.descriptionClassName,invert:a,visibleToasts:C,closeButton:(De=S==null?void 0:S.closeButton)!=null?De:u,interacting:ne,position:D,style:S==null?void 0:S.style,unstyled:S==null?void 0:S.unstyled,classNames:S==null?void 0:S.classNames,cancelButtonStyle:S==null?void 0:S.cancelButtonStyle,actionButtonStyle:S==null?void 0:S.actionButtonStyle,closeButtonAriaLabel:S==null?void 0:S.closeButtonAriaLabel,removeToast:T,toasts:Q.filter(Re=>Re.position==le.position),heights:de.filter(Re=>Re.position==le.position),setHeights:O,expandByDefault:s,gap:V,expanded:R,swipeDirections:t.swipeDirections})})):null}))}),$l=B.createContext(null);$l.displayName="PanelGroupContext";const Xn={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},_u=10,Co=B.useLayoutEffect,_f=a2.useId,Vg=typeof _f=="function"?_f:()=>null;let Kg=0;function Nu(n=null){const t=Vg(),e=B.useRef(n||t||null);return e.current===null&&(e.current=""+Kg++),n??e.current}function Xh({children:n,className:t="",collapsedSize:e,collapsible:r,defaultSize:a,forwardedRef:i,id:c,maxSize:s,minSize:u,onCollapse:d,onExpand:m,onResize:b,order:x,style:p,tagName:L="div",...k}){const C=B.useContext($l);if(C===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:S,expandPanel:F,getPanelSize:V,getPanelStyle:W,groupId:be,isPanelCollapsed:ue,reevaluatePanelConstraints:re,registerPanel:Q,resizePanel:H,unregisterPanel:de}=C,O=Nu(c),R=B.useRef({callbacks:{onCollapse:d,onExpand:m,onResize:b},constraints:{collapsedSize:e,collapsible:r,defaultSize:a,maxSize:s,minSize:u},id:O,idIsFromProps:c!==void 0,order:x});B.useRef({didLogMissingDefaultSizeWarning:!1}),Co(()=>{const{callbacks:ne,constraints:Se}=R.current,we={...Se};R.current.id=O,R.current.idIsFromProps=c!==void 0,R.current.order=x,ne.onCollapse=d,ne.onExpand=m,ne.onResize=b,Se.collapsedSize=e,Se.collapsible=r,Se.defaultSize=a,Se.maxSize=s,Se.minSize=u,(we.collapsedSize!==Se.collapsedSize||we.collapsible!==Se.collapsible||we.maxSize!==Se.maxSize||we.minSize!==Se.minSize)&&re(R.current,we)}),Co(()=>{const ne=R.current;return Q(ne),()=>{de(ne)}},[x,O,Q,de]),B.useImperativeHandle(i,()=>({collapse:()=>{S(R.current)},expand:ne=>{F(R.current,ne)},getId(){return O},getSize(){return V(R.current)},isCollapsed(){return ue(R.current)},isExpanded(){return!ue(R.current)},resize:ne=>{H(R.current,ne)}}),[S,F,V,ue,O,H]);const ee=W(R.current,a);return B.createElement(L,{...k,children:n,className:t,id:O,style:{...ee,...p},[Xn.groupId]:be,[Xn.panel]:"",[Xn.panelCollapsible]:r||void 0,[Xn.panelId]:O,[Xn.panelSize]:parseFloat(""+ee.flexGrow).toFixed(1)})}const Jh=B.forwardRef((n,t)=>B.createElement(Xh,{...n,forwardedRef:t}));Xh.displayName="Panel";Jh.displayName="forwardRef(Panel)";let Qc=null,ml=-1,to=null;function $g(n,t,e){const r=(t&np)!==0,a=(t&rp)!==0,i=(t&ip)!==0,c=(t&ap)!==0;if(t){if(r)return i?"se-resize":c?"ne-resize":"e-resize";if(a)return i?"sw-resize":c?"nw-resize":"w-resize";if(i)return"s-resize";if(c)return"n-resize"}switch(n){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function Gg(){to!==null&&(document.head.removeChild(to),Qc=null,to=null,ml=-1)}function Nc(n,t,e){var r,a;const i=$g(n,t);if(Qc!==i){if(Qc=i,to===null&&(to=document.createElement("style"),document.head.appendChild(to)),ml>=0){var c;(c=to.sheet)===null||c===void 0||c.removeRule(ml)}ml=(r=(a=to.sheet)===null||a===void 0?void 0:a.insertRule(`*{cursor: ${i} !important;}`))!==null&&r!==void 0?r:-1}}function Zh(n){return n.type==="keydown"}function Qh(n){return n.type.startsWith("pointer")}function ep(n){return n.type.startsWith("mouse")}function Gl(n){if(Qh(n)){if(n.isPrimary)return{x:n.clientX,y:n.clientY}}else if(ep(n))return{x:n.clientX,y:n.clientY};return{x:1/0,y:1/0}}function Yg(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function Xg(n,t,e){return n.x<t.x+t.width&&n.x+n.width>t.x&&n.y<t.y+t.height&&n.y+n.height>t.y}function Jg(n,t){if(n===t)throw new Error("Cannot compare node with itself");const e={a:Af(n),b:Af(t)};let r;for(;e.a.at(-1)===e.b.at(-1);)n=e.a.pop(),t=e.b.pop(),r=n;Zt(r,"Stacking order can only be calculated for elements with a common ancestor");const a={a:Sf(Nf(e.a)),b:Sf(Nf(e.b))};if(a.a===a.b){const i=r.childNodes,c={a:e.a.at(-1),b:e.b.at(-1)};let s=i.length;for(;s--;){const u=i[s];if(u===c.a)return 1;if(u===c.b)return-1}}return Math.sign(a.a-a.b)}const Zg=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function Qg(n){var t;const e=getComputedStyle((t=tp(n))!==null&&t!==void 0?t:n).display;return e==="flex"||e==="inline-flex"}function e5(n){const t=getComputedStyle(n);return!!(t.position==="fixed"||t.zIndex!=="auto"&&(t.position!=="static"||Qg(n))||+t.opacity<1||"transform"in t&&t.transform!=="none"||"webkitTransform"in t&&t.webkitTransform!=="none"||"mixBlendMode"in t&&t.mixBlendMode!=="normal"||"filter"in t&&t.filter!=="none"||"webkitFilter"in t&&t.webkitFilter!=="none"||"isolation"in t&&t.isolation==="isolate"||Zg.test(t.willChange)||t.webkitOverflowScrolling==="touch")}function Nf(n){let t=n.length;for(;t--;){const e=n[t];if(Zt(e,"Missing node"),e5(e))return e}return null}function Sf(n){return n&&Number(getComputedStyle(n).zIndex)||0}function Af(n){const t=[];for(;n;)t.push(n),n=tp(n);return t}function tp(n){const{parentNode:t}=n;return t&&t instanceof ShadowRoot?t.host:t}const np=1,rp=2,ip=4,ap=8,t5=Yg()==="coarse";let Wi=[],ns=!1,no=new Map,Yl=new Map;const Es=new Set;function n5(n,t,e,r,a){var i;const{ownerDocument:c}=t,s={direction:e,element:t,hitAreaMargins:r,setResizeHandlerState:a},u=(i=no.get(c))!==null&&i!==void 0?i:0;return no.set(c,u+1),Es.add(s),kl(),function(){var m;Yl.delete(n),Es.delete(s);const b=(m=no.get(c))!==null&&m!==void 0?m:1;if(no.set(c,b-1),kl(),b===1&&no.delete(c),Wi.includes(s)){const x=Wi.indexOf(s);x>=0&&Wi.splice(x,1),Xl(),a("up",!0,null)}}}function r5(n){const{target:t}=n,{x:e,y:r}=Gl(n);ns=!0,Su({target:t,x:e,y:r}),kl(),Wi.length>0&&(Ll("down",n),Xl(),n.preventDefault(),op(t)||n.stopImmediatePropagation())}function Sc(n){const{x:t,y:e}=Gl(n);if(ns&&n.type!=="pointerleave"&&n.buttons===0&&(ns=!1,Ll("up",n)),!ns){const{target:r}=n;Su({target:r,x:t,y:e})}Ll("move",n),Xl(),Wi.length>0&&n.preventDefault()}function Ac(n){const{target:t}=n,{x:e,y:r}=Gl(n);Yl.clear(),ns=!1,Wi.length>0&&(n.preventDefault(),op(t)||n.stopImmediatePropagation()),Ll("up",n),Su({target:t,x:e,y:r}),Xl(),kl()}function op(n){let t=n;for(;t;){if(t.hasAttribute(Xn.resizeHandle))return!0;t=t.parentElement}return!1}function Su({target:n,x:t,y:e}){Wi.splice(0);let r=null;(n instanceof HTMLElement||n instanceof SVGElement)&&(r=n),Es.forEach(a=>{const{element:i,hitAreaMargins:c}=a,s=i.getBoundingClientRect(),{bottom:u,left:d,right:m,top:b}=s,x=t5?c.coarse:c.fine;if(t>=d-x&&t<=m+x&&e>=b-x&&e<=u+x){if(r!==null&&document.contains(r)&&i!==r&&!i.contains(r)&&!r.contains(i)&&Jg(r,i)>0){let L=r,k=!1;for(;L&&!L.contains(i);){if(Xg(L.getBoundingClientRect(),s)){k=!0;break}L=L.parentElement}if(k)return}Wi.push(a)}})}function kc(n,t){Yl.set(n,t)}function Xl(){let n=!1,t=!1;Wi.forEach(r=>{const{direction:a}=r;a==="horizontal"?n=!0:t=!0});let e=0;Yl.forEach(r=>{e|=r}),n&&t?Nc("intersection",e):n?Nc("horizontal",e):t?Nc("vertical",e):Gg()}let Lc;function kl(){var n;(n=Lc)===null||n===void 0||n.abort(),Lc=new AbortController;const t={capture:!0,signal:Lc.signal};Es.size&&(ns?(Wi.length>0&&no.forEach((e,r)=>{const{body:a}=r;e>0&&(a.addEventListener("contextmenu",Ac,t),a.addEventListener("pointerleave",Sc,t),a.addEventListener("pointermove",Sc,t))}),no.forEach((e,r)=>{const{body:a}=r;a.addEventListener("pointerup",Ac,t),a.addEventListener("pointercancel",Ac,t)})):no.forEach((e,r)=>{const{body:a}=r;e>0&&(a.addEventListener("pointerdown",r5,t),a.addEventListener("pointermove",Sc,t))}))}function Ll(n,t){Es.forEach(e=>{const{setResizeHandlerState:r}=e,a=Wi.includes(e);r(n,a,t)})}function i5(){const[n,t]=B.useState(0);return B.useCallback(()=>t(e=>e+1),[])}function Zt(n,t){if(!n)throw console.error(t),Error(t)}function Oo(n,t,e=_u){return n.toFixed(e)===t.toFixed(e)?0:n>t?1:-1}function Da(n,t,e=_u){return Oo(n,t,e)===0}function gi(n,t,e){return Oo(n,t,e)===0}function a5(n,t,e){if(n.length!==t.length)return!1;for(let r=0;r<n.length;r++){const a=n[r],i=t[r];if(!gi(a,i,e))return!1}return!0}function Qo({panelConstraints:n,panelIndex:t,size:e}){const r=n[t];Zt(r!=null,`Panel constraints not found for index ${t}`);let{collapsedSize:a=0,collapsible:i,maxSize:c=100,minSize:s=0}=r;if(Oo(e,s)<0)if(i){const u=(a+s)/2;Oo(e,u)<0?e=a:e=s}else e=s;return e=Math.min(c,e),e=parseFloat(e.toFixed(_u)),e}function xs({delta:n,initialLayout:t,panelConstraints:e,pivotIndices:r,prevLayout:a,trigger:i}){if(gi(n,0))return t;const c=[...t],[s,u]=r;Zt(s!=null,"Invalid first pivot index"),Zt(u!=null,"Invalid second pivot index");let d=0;if(i==="keyboard"){{const b=n<0?u:s,x=e[b];Zt(x,`Panel constraints not found for index ${b}`);const{collapsedSize:p=0,collapsible:L,minSize:k=0}=x;if(L){const C=t[b];if(Zt(C!=null,`Previous layout not found for panel index ${b}`),gi(C,p)){const S=k-C;Oo(S,Math.abs(n))>0&&(n=n<0?0-S:S)}}}{const b=n<0?s:u,x=e[b];Zt(x,`No panel constraints found for index ${b}`);const{collapsedSize:p=0,collapsible:L,minSize:k=0}=x;if(L){const C=t[b];if(Zt(C!=null,`Previous layout not found for panel index ${b}`),gi(C,k)){const S=C-p;Oo(S,Math.abs(n))>0&&(n=n<0?0-S:S)}}}}{const b=n<0?1:-1;let x=n<0?u:s,p=0;for(;;){const k=t[x];Zt(k!=null,`Previous layout not found for panel index ${x}`);const S=Qo({panelConstraints:e,panelIndex:x,size:100})-k;if(p+=S,x+=b,x<0||x>=e.length)break}const L=Math.min(Math.abs(n),Math.abs(p));n=n<0?0-L:L}{let x=n<0?s:u;for(;x>=0&&x<e.length;){const p=Math.abs(n)-Math.abs(d),L=t[x];Zt(L!=null,`Previous layout not found for panel index ${x}`);const k=L-p,C=Qo({panelConstraints:e,panelIndex:x,size:k});if(!gi(L,C)&&(d+=L-C,c[x]=C,d.toFixed(3).localeCompare(Math.abs(n).toFixed(3),void 0,{numeric:!0})>=0))break;n<0?x--:x++}}if(a5(a,c))return a;{const b=n<0?u:s,x=t[b];Zt(x!=null,`Previous layout not found for panel index ${b}`);const p=x+d,L=Qo({panelConstraints:e,panelIndex:b,size:p});if(c[b]=L,!gi(L,p)){let k=p-L,S=n<0?u:s;for(;S>=0&&S<e.length;){const F=c[S];Zt(F!=null,`Previous layout not found for panel index ${S}`);const V=F+k,W=Qo({panelConstraints:e,panelIndex:S,size:V});if(gi(F,W)||(k-=W-F,c[S]=W),gi(k,0))break;n>0?S--:S++}}}const m=c.reduce((b,x)=>x+b,0);return gi(m,100)?c:a}function o5({layout:n,panelsArray:t,pivotIndices:e}){let r=0,a=100,i=0,c=0;const s=e[0];Zt(s!=null,"No pivot index found"),t.forEach((b,x)=>{const{constraints:p}=b,{maxSize:L=100,minSize:k=0}=p;x===s?(r=k,a=L):(i+=k,c+=L)});const u=Math.min(a,100-i),d=Math.max(r,100-c),m=n[s];return{valueMax:u,valueMin:d,valueNow:m}}function Is(n,t=document){return Array.from(t.querySelectorAll(`[${Xn.resizeHandleId}][data-panel-group-id="${n}"]`))}function sp(n,t,e=document){const a=Is(n,e).findIndex(i=>i.getAttribute(Xn.resizeHandleId)===t);return a??null}function lp(n,t,e){const r=sp(n,t,e);return r!=null?[r,r+1]:[-1,-1]}function s5(n){return n instanceof HTMLElement?!0:typeof n=="object"&&n!==null&&"tagName"in n&&"getAttribute"in n}function cp(n,t=document){if(s5(t)&&t.dataset.panelGroupId==n)return t;const e=t.querySelector(`[data-panel-group][data-panel-group-id="${n}"]`);return e||null}function Jl(n,t=document){const e=t.querySelector(`[${Xn.resizeHandleId}="${n}"]`);return e||null}function l5(n,t,e,r=document){var a,i,c,s;const u=Jl(t,r),d=Is(n,r),m=u?d.indexOf(u):-1,b=(a=(i=e[m])===null||i===void 0?void 0:i.id)!==null&&a!==void 0?a:null,x=(c=(s=e[m+1])===null||s===void 0?void 0:s.id)!==null&&c!==void 0?c:null;return[b,x]}function c5({committedValuesRef:n,eagerValuesRef:t,groupId:e,layout:r,panelDataArray:a,panelGroupElement:i,setLayout:c}){B.useRef({didWarnAboutMissingResizeHandle:!1}),Co(()=>{if(!i)return;const s=Is(e,i);for(let u=0;u<a.length-1;u++){const{valueMax:d,valueMin:m,valueNow:b}=o5({layout:r,panelsArray:a,pivotIndices:[u,u+1]}),x=s[u];if(x!=null){const p=a[u];Zt(p,`No panel data found for index "${u}"`),x.setAttribute("aria-controls",p.id),x.setAttribute("aria-valuemax",""+Math.round(d)),x.setAttribute("aria-valuemin",""+Math.round(m)),x.setAttribute("aria-valuenow",b!=null?""+Math.round(b):"")}}return()=>{s.forEach((u,d)=>{u.removeAttribute("aria-controls"),u.removeAttribute("aria-valuemax"),u.removeAttribute("aria-valuemin"),u.removeAttribute("aria-valuenow")})}},[e,r,a,i]),B.useEffect(()=>{if(!i)return;const s=t.current;Zt(s,"Eager values not found");const{panelDataArray:u}=s,d=cp(e,i);Zt(d!=null,`No group found for id "${e}"`);const m=Is(e,i);Zt(m,`No resize handles found for group id "${e}"`);const b=m.map(x=>{const p=x.getAttribute(Xn.resizeHandleId);Zt(p,"Resize handle element has no handle id attribute");const[L,k]=l5(e,p,u,i);if(L==null||k==null)return()=>{};const C=S=>{if(!S.defaultPrevented)switch(S.key){case"Enter":{S.preventDefault();const F=u.findIndex(V=>V.id===L);if(F>=0){const V=u[F];Zt(V,`No panel data found for index ${F}`);const W=r[F],{collapsedSize:be=0,collapsible:ue,minSize:re=0}=V.constraints;if(W!=null&&ue){const Q=xs({delta:gi(W,be)?re-be:be-W,initialLayout:r,panelConstraints:u.map(H=>H.constraints),pivotIndices:lp(e,p,i),prevLayout:r,trigger:"keyboard"});r!==Q&&c(Q)}}break}}};return x.addEventListener("keydown",C),()=>{x.removeEventListener("keydown",C)}});return()=>{b.forEach(x=>x())}},[i,n,t,e,r,a,c])}function kf(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;e++)if(n[e]!==t[e])return!1;return!0}function up(n,t){const e=n==="horizontal",{x:r,y:a}=Gl(t);return e?r:a}function u5(n,t,e,r,a){const i=e==="horizontal",c=Jl(t,a);Zt(c,`No resize handle element found for id "${t}"`);const s=c.getAttribute(Xn.groupId);Zt(s,"Resize handle element has no group id attribute");let{initialCursorPosition:u}=r;const d=up(e,n),m=cp(s,a);Zt(m,`No group element found for id "${s}"`);const b=m.getBoundingClientRect(),x=i?b.width:b.height;return(d-u)/x*100}function f5(n,t,e,r,a,i){if(Zh(n)){const c=e==="horizontal";let s=0;n.shiftKey?s=100:a!=null?s=a:s=10;let u=0;switch(n.key){case"ArrowDown":u=c?0:s;break;case"ArrowLeft":u=c?-s:0;break;case"ArrowRight":u=c?s:0;break;case"ArrowUp":u=c?0:-s;break;case"End":u=100;break;case"Home":u=-100;break}return u}else return r==null?0:u5(n,t,e,r,i)}function d5({panelDataArray:n}){const t=Array(n.length),e=n.map(i=>i.constraints);let r=0,a=100;for(let i=0;i<n.length;i++){const c=e[i];Zt(c,`Panel constraints not found for index ${i}`);const{defaultSize:s}=c;s!=null&&(r++,t[i]=s,a-=s)}for(let i=0;i<n.length;i++){const c=e[i];Zt(c,`Panel constraints not found for index ${i}`);const{defaultSize:s}=c;if(s!=null)continue;const u=n.length-r,d=a/u;r++,t[i]=d,a-=d}return t}function Ko(n,t,e){t.forEach((r,a)=>{const i=n[a];Zt(i,`Panel data not found for index ${a}`);const{callbacks:c,constraints:s,id:u}=i,{collapsedSize:d=0,collapsible:m}=s,b=e[u];if(b==null||r!==b){e[u]=r;const{onCollapse:x,onExpand:p,onResize:L}=c;L&&L(r,b),m&&(x||p)&&(p&&(b==null||Da(b,d))&&!Da(r,d)&&p(),x&&(b==null||!Da(b,d))&&Da(r,d)&&x())}})}function al(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;e++)if(n[e]!=t[e])return!1;return!0}function h5({defaultSize:n,dragState:t,layout:e,panelData:r,panelIndex:a,precision:i=3}){const c=e[a];let s;return c==null?s=n!=null?n.toFixed(i):"1":r.length===1?s="1":s=c.toFixed(i),{flexBasis:0,flexGrow:s,flexShrink:1,overflow:"hidden",pointerEvents:t!==null?"none":void 0}}function p5(n,t=10){let e=null;return(...a)=>{e!==null&&clearTimeout(e),e=setTimeout(()=>{n(...a)},t)}}function Lf(n){try{if(typeof localStorage<"u")n.getItem=t=>localStorage.getItem(t),n.setItem=(t,e)=>{localStorage.setItem(t,e)};else throw new Error("localStorage not supported in this environment")}catch(t){console.error(t),n.getItem=()=>null,n.setItem=()=>{}}}function fp(n){return`react-resizable-panels:${n}`}function dp(n){return n.map(t=>{const{constraints:e,id:r,idIsFromProps:a,order:i}=t;return a?r:i?`${i}:${JSON.stringify(e)}`:JSON.stringify(e)}).sort((t,e)=>t.localeCompare(e)).join(",")}function hp(n,t){try{const e=fp(n),r=t.getItem(e);if(r){const a=JSON.parse(r);if(typeof a=="object"&&a!=null)return a}}catch{}return null}function m5(n,t,e){var r,a;const i=(r=hp(n,e))!==null&&r!==void 0?r:{},c=dp(t);return(a=i[c])!==null&&a!==void 0?a:null}function g5(n,t,e,r,a){var i;const c=fp(n),s=dp(t),u=(i=hp(n,a))!==null&&i!==void 0?i:{};u[s]={expandToSizes:Object.fromEntries(e.entries()),layout:r};try{a.setItem(c,JSON.stringify(u))}catch(d){console.error(d)}}function Pf({layout:n,panelConstraints:t}){const e=[...n],r=e.reduce((i,c)=>i+c,0);if(e.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${e.map(i=>`${i}%`).join(", ")}`);if(!gi(r,100)&&e.length>0)for(let i=0;i<t.length;i++){const c=e[i];Zt(c!=null,`No layout data found for index ${i}`);const s=100/r*c;e[i]=s}let a=0;for(let i=0;i<t.length;i++){const c=e[i];Zt(c!=null,`No layout data found for index ${i}`);const s=Qo({panelConstraints:t,panelIndex:i,size:c});c!=s&&(a+=c-s,e[i]=s)}if(!gi(a,0))for(let i=0;i<t.length;i++){const c=e[i];Zt(c!=null,`No layout data found for index ${i}`);const s=c+a,u=Qo({panelConstraints:t,panelIndex:i,size:s});if(c!==u&&(a-=u-c,e[i]=u,gi(a,0)))break}return e}const v5=100,_s={getItem:n=>(Lf(_s),_s.getItem(n)),setItem:(n,t)=>{Lf(_s),_s.setItem(n,t)}},jf={};function pp({autoSaveId:n=null,children:t,className:e="",direction:r,forwardedRef:a,id:i=null,onLayout:c=null,keyboardResizeBy:s=null,storage:u=_s,style:d,tagName:m="div",...b}){const x=Nu(i),p=B.useRef(null),[L,k]=B.useState(null),[C,S]=B.useState([]),F=i5(),V=B.useRef({}),W=B.useRef(new Map),be=B.useRef(0),ue=B.useRef({autoSaveId:n,direction:r,dragState:L,id:x,keyboardResizeBy:s,onLayout:c,storage:u}),re=B.useRef({layout:C,panelDataArray:[],panelDataArrayChanged:!1});B.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),B.useImperativeHandle(a,()=>({getId:()=>ue.current.id,getLayout:()=>{const{layout:D}=re.current;return D},setLayout:D=>{const{onLayout:q}=ue.current,{layout:X,panelDataArray:te}=re.current,Z=Pf({layout:D,panelConstraints:te.map(le=>le.constraints)});kf(X,Z)||(S(Z),re.current.layout=Z,q&&q(Z),Ko(te,Z,V.current))}}),[]),Co(()=>{ue.current.autoSaveId=n,ue.current.direction=r,ue.current.dragState=L,ue.current.id=x,ue.current.onLayout=c,ue.current.storage=u}),c5({committedValuesRef:ue,eagerValuesRef:re,groupId:x,layout:C,panelDataArray:re.current.panelDataArray,setLayout:S,panelGroupElement:p.current}),B.useEffect(()=>{const{panelDataArray:D}=re.current;if(n){if(C.length===0||C.length!==D.length)return;let q=jf[n];q==null&&(q=p5(g5,v5),jf[n]=q);const X=[...D],te=new Map(W.current);q(n,X,te,C,u)}},[n,C,u]),B.useEffect(()=>{});const Q=B.useCallback(D=>{const{onLayout:q}=ue.current,{layout:X,panelDataArray:te}=re.current;if(D.constraints.collapsible){const Z=te.map(De=>De.constraints),{collapsedSize:le=0,panelSize:ae,pivotIndices:Le}=Lo(te,D,X);if(Zt(ae!=null,`Panel size not found for panel "${D.id}"`),!Da(ae,le)){W.current.set(D.id,ae);const Re=Xo(te,D)===te.length-1?ae-le:le-ae,Ke=xs({delta:Re,initialLayout:X,panelConstraints:Z,pivotIndices:Le,prevLayout:X,trigger:"imperative-api"});al(X,Ke)||(S(Ke),re.current.layout=Ke,q&&q(Ke),Ko(te,Ke,V.current))}}},[]),H=B.useCallback((D,q)=>{const{onLayout:X}=ue.current,{layout:te,panelDataArray:Z}=re.current;if(D.constraints.collapsible){const le=Z.map(Ie=>Ie.constraints),{collapsedSize:ae=0,panelSize:Le=0,minSize:De=0,pivotIndices:Re}=Lo(Z,D,te),Ke=q??De;if(Da(Le,ae)){const Ie=W.current.get(D.id),J=Ie!=null&&Ie>=Ke?Ie:Ke,St=Xo(Z,D)===Z.length-1?Le-J:J-Le,ut=xs({delta:St,initialLayout:te,panelConstraints:le,pivotIndices:Re,prevLayout:te,trigger:"imperative-api"});al(te,ut)||(S(ut),re.current.layout=ut,X&&X(ut),Ko(Z,ut,V.current))}}},[]),de=B.useCallback(D=>{const{layout:q,panelDataArray:X}=re.current,{panelSize:te}=Lo(X,D,q);return Zt(te!=null,`Panel size not found for panel "${D.id}"`),te},[]),O=B.useCallback((D,q)=>{const{panelDataArray:X}=re.current,te=Xo(X,D);return h5({defaultSize:q,dragState:L,layout:C,panelData:X,panelIndex:te})},[L,C]),R=B.useCallback(D=>{const{layout:q,panelDataArray:X}=re.current,{collapsedSize:te=0,collapsible:Z,panelSize:le}=Lo(X,D,q);return Zt(le!=null,`Panel size not found for panel "${D.id}"`),Z===!0&&Da(le,te)},[]),ee=B.useCallback(D=>{const{layout:q,panelDataArray:X}=re.current,{collapsedSize:te=0,collapsible:Z,panelSize:le}=Lo(X,D,q);return Zt(le!=null,`Panel size not found for panel "${D.id}"`),!Z||Oo(le,te)>0},[]),ne=B.useCallback(D=>{const{panelDataArray:q}=re.current;q.push(D),q.sort((X,te)=>{const Z=X.order,le=te.order;return Z==null&&le==null?0:Z==null?-1:le==null?1:Z-le}),re.current.panelDataArrayChanged=!0,F()},[F]);Co(()=>{if(re.current.panelDataArrayChanged){re.current.panelDataArrayChanged=!1;const{autoSaveId:D,onLayout:q,storage:X}=ue.current,{layout:te,panelDataArray:Z}=re.current;let le=null;if(D){const Le=m5(D,Z,X);Le&&(W.current=new Map(Object.entries(Le.expandToSizes)),le=Le.layout)}le==null&&(le=d5({panelDataArray:Z}));const ae=Pf({layout:le,panelConstraints:Z.map(Le=>Le.constraints)});kf(te,ae)||(S(ae),re.current.layout=ae,q&&q(ae),Ko(Z,ae,V.current))}}),Co(()=>{const D=re.current;return()=>{D.layout=[]}},[]);const Se=B.useCallback(D=>{let q=!1;const X=p.current;return X&&window.getComputedStyle(X,null).getPropertyValue("direction")==="rtl"&&(q=!0),function(Z){Z.preventDefault();const le=p.current;if(!le)return()=>null;const{direction:ae,dragState:Le,id:De,keyboardResizeBy:Re,onLayout:Ke}=ue.current,{layout:Ie,panelDataArray:J}=re.current,{initialLayout:Ot}=Le??{},St=lp(De,D,le);let ut=f5(Z,D,ae,Le,Re,le);const $e=ae==="horizontal";$e&&q&&(ut=-ut);const gt=J.map(ft=>ft.constraints),Qe=xs({delta:ut,initialLayout:Ot??Ie,panelConstraints:gt,pivotIndices:St,prevLayout:Ie,trigger:Zh(Z)?"keyboard":"mouse-or-touch"}),xt=!al(Ie,Qe);(Qh(Z)||ep(Z))&&be.current!=ut&&(be.current=ut,!xt&&ut!==0?$e?kc(D,ut<0?np:rp):kc(D,ut<0?ip:ap):kc(D,0)),xt&&(S(Qe),re.current.layout=Qe,Ke&&Ke(Qe),Ko(J,Qe,V.current))}},[]),we=B.useCallback((D,q)=>{const{onLayout:X}=ue.current,{layout:te,panelDataArray:Z}=re.current,le=Z.map(Ie=>Ie.constraints),{panelSize:ae,pivotIndices:Le}=Lo(Z,D,te);Zt(ae!=null,`Panel size not found for panel "${D.id}"`);const Re=Xo(Z,D)===Z.length-1?ae-q:q-ae,Ke=xs({delta:Re,initialLayout:te,panelConstraints:le,pivotIndices:Le,prevLayout:te,trigger:"imperative-api"});al(te,Ke)||(S(Ke),re.current.layout=Ke,X&&X(Ke),Ko(Z,Ke,V.current))},[]),je=B.useCallback((D,q)=>{const{layout:X,panelDataArray:te}=re.current,{collapsedSize:Z=0,collapsible:le}=q,{collapsedSize:ae=0,collapsible:Le,maxSize:De=100,minSize:Re=0}=D.constraints,{panelSize:Ke}=Lo(te,D,X);Ke!=null&&(le&&Le&&Da(Ke,Z)?Da(Z,ae)||we(D,ae):Ke<Re?we(D,Re):Ke>De&&we(D,De))},[we]),Ne=B.useCallback((D,q)=>{const{direction:X}=ue.current,{layout:te}=re.current;if(!p.current)return;const Z=Jl(D,p.current);Zt(Z,`Drag handle element not found for id "${D}"`);const le=up(X,q);k({dragHandleId:D,dragHandleRect:Z.getBoundingClientRect(),initialCursorPosition:le,initialLayout:te})},[]),Te=B.useCallback(()=>{k(null)},[]),Ve=B.useCallback(D=>{const{panelDataArray:q}=re.current,X=Xo(q,D);X>=0&&(q.splice(X,1),delete V.current[D.id],re.current.panelDataArrayChanged=!0,F())},[F]),Be=B.useMemo(()=>({collapsePanel:Q,direction:r,dragState:L,expandPanel:H,getPanelSize:de,getPanelStyle:O,groupId:x,isPanelCollapsed:R,isPanelExpanded:ee,reevaluatePanelConstraints:je,registerPanel:ne,registerResizeHandle:Se,resizePanel:we,startDragging:Ne,stopDragging:Te,unregisterPanel:Ve,panelGroupElement:p.current}),[Q,L,r,H,de,O,x,R,ee,je,ne,Se,we,Ne,Te,Ve]),T={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return B.createElement($l.Provider,{value:Be},B.createElement(m,{...b,children:t,className:e,id:i,ref:p,style:{...T,...d},[Xn.group]:"",[Xn.groupDirection]:r,[Xn.groupId]:x}))}const mp=B.forwardRef((n,t)=>B.createElement(pp,{...n,forwardedRef:t}));pp.displayName="PanelGroup";mp.displayName="forwardRef(PanelGroup)";function Xo(n,t){return n.findIndex(e=>e===t||e.id===t.id)}function Lo(n,t,e){const r=Xo(n,t),i=r===n.length-1?[r-1,r]:[r,r+1],c=e[r];return{...t.constraints,panelSize:c,pivotIndices:i}}function b5({disabled:n,handleId:t,resizeHandler:e,panelGroupElement:r}){B.useEffect(()=>{if(n||e==null||r==null)return;const a=Jl(t,r);if(a==null)return;const i=c=>{if(!c.defaultPrevented)switch(c.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{c.preventDefault(),e(c);break}case"F6":{c.preventDefault();const s=a.getAttribute(Xn.groupId);Zt(s,`No group element found for id "${s}"`);const u=Is(s,r),d=sp(s,t,r);Zt(d!==null,`No resize element found for id "${t}"`);const m=c.shiftKey?d>0?d-1:u.length-1:d+1<u.length?d+1:0;u[m].focus();break}}};return a.addEventListener("keydown",i),()=>{a.removeEventListener("keydown",i)}},[r,n,t,e])}function gp({children:n=null,className:t="",disabled:e=!1,hitAreaMargins:r,id:a,onBlur:i,onClick:c,onDragging:s,onFocus:u,onPointerDown:d,onPointerUp:m,style:b={},tabIndex:x=0,tagName:p="div",...L}){var k,C;const S=B.useRef(null),F=B.useRef({onClick:c,onDragging:s,onPointerDown:d,onPointerUp:m});B.useEffect(()=>{F.current.onClick=c,F.current.onDragging=s,F.current.onPointerDown=d,F.current.onPointerUp=m});const V=B.useContext($l);if(V===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:W,groupId:be,registerResizeHandle:ue,startDragging:re,stopDragging:Q,panelGroupElement:H}=V,de=Nu(a),[O,R]=B.useState("inactive"),[ee,ne]=B.useState(!1),[Se,we]=B.useState(null),je=B.useRef({state:O});Co(()=>{je.current.state=O}),B.useEffect(()=>{if(e)we(null);else{const Be=ue(de);we(()=>Be)}},[e,de,ue]);const Ne=(k=r==null?void 0:r.coarse)!==null&&k!==void 0?k:15,Te=(C=r==null?void 0:r.fine)!==null&&C!==void 0?C:5;B.useEffect(()=>{if(e||Se==null)return;const Be=S.current;Zt(Be,"Element ref not attached");let T=!1;return n5(de,Be,W,{coarse:Ne,fine:Te},(q,X,te)=>{if(!X){R("inactive");return}switch(q){case"down":{R("drag"),T=!1,Zt(te,'Expected event to be defined for "down" action'),re(de,te);const{onDragging:Z,onPointerDown:le}=F.current;Z==null||Z(!0),le==null||le();break}case"move":{const{state:Z}=je.current;T=!0,Z!=="drag"&&R("hover"),Zt(te,'Expected event to be defined for "move" action'),Se(te);break}case"up":{R("hover"),Q();const{onClick:Z,onDragging:le,onPointerUp:ae}=F.current;le==null||le(!1),ae==null||ae(),T||Z==null||Z();break}}})},[Ne,W,e,Te,ue,de,Se,re,Q]),b5({disabled:e,handleId:de,resizeHandler:Se,panelGroupElement:H});const Ve={touchAction:"none",userSelect:"none"};return B.createElement(p,{...L,children:n,className:t,id:a,onBlur:()=>{ne(!1),i==null||i()},onFocus:()=>{ne(!0),u==null||u()},ref:S,role:"separator",style:{...Ve,...b},tabIndex:x,[Xn.groupDirection]:W,[Xn.groupId]:be,[Xn.resizeHandle]:"",[Xn.resizeHandleActive]:O==="drag"?"pointer":ee?"keyboard":void 0,[Xn.resizeHandleEnabled]:!e,[Xn.resizeHandleId]:de,[Xn.resizeHandleState]:O})}gp.displayName="PanelResizeHandle";function vp({className:n,...t}){return g.jsx(mp,{"data-slot":"resizable-panel-group",className:Vt("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",n),...t})}function Pl({...n}){return g.jsx(Jh,{"data-slot":"resizable-panel",...n})}function bp({withHandle:n,className:t,...e}){return g.jsx(gp,{"data-slot":"resizable-handle",className:Vt("bg-border focus-visible:ring-ring relative flex w-px items-center justify-center after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:ring-1 focus-visible:ring-offset-1 focus-visible:outline-hidden data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:translate-x-0 data-[panel-group-direction=vertical]:after:-translate-y-1/2 [&[data-panel-group-direction=vertical]>div]:rotate-90",t),...e,children:n&&g.jsx("div",{className:"bg-border z-10 flex h-4 w-3 items-center justify-center rounded-xs border",children:g.jsx(vh,{className:"size-2.5"})})})}function eu(n,[t,e]){return Math.min(e,Math.max(t,n))}function y5(n,t){return B.useReducer((e,r)=>t[e][r]??e,n)}var Au="ScrollArea",[yp,cx]=Rs(Au),[w5,Pi]=yp(Au),wp=B.forwardRef((n,t)=>{const{__scopeScrollArea:e,type:r="hover",dir:a,scrollHideDelay:i=600,...c}=n,[s,u]=B.useState(null),[d,m]=B.useState(null),[b,x]=B.useState(null),[p,L]=B.useState(null),[k,C]=B.useState(null),[S,F]=B.useState(0),[V,W]=B.useState(0),[be,ue]=B.useState(!1),[re,Q]=B.useState(!1),H=Hn(t,O=>u(O)),de=lh(a);return g.jsx(w5,{scope:e,type:r,dir:de,scrollHideDelay:i,scrollArea:s,viewport:d,onViewportChange:m,content:b,onContentChange:x,scrollbarX:p,onScrollbarXChange:L,scrollbarXEnabled:be,onScrollbarXEnabledChange:ue,scrollbarY:k,onScrollbarYChange:C,scrollbarYEnabled:re,onScrollbarYEnabledChange:Q,onCornerWidthChange:F,onCornerHeightChange:W,children:g.jsx(mn.div,{dir:de,...c,ref:H,style:{position:"relative","--radix-scroll-area-corner-width":S+"px","--radix-scroll-area-corner-height":V+"px",...n.style}})})});wp.displayName=Au;var xp="ScrollAreaViewport",_p=B.forwardRef((n,t)=>{const{__scopeScrollArea:e,children:r,nonce:a,...i}=n,c=Pi(xp,e),s=B.useRef(null),u=Hn(t,s,c.onViewportChange);return g.jsxs(g.Fragment,{children:[g.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),g.jsx(mn.div,{"data-radix-scroll-area-viewport":"",...i,ref:u,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...n.style},children:g.jsx("div",{ref:c.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});_p.displayName=xp;var fa="ScrollAreaScrollbar",Np=B.forwardRef((n,t)=>{const{forceMount:e,...r}=n,a=Pi(fa,n.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:c}=a,s=n.orientation==="horizontal";return B.useEffect(()=>(s?i(!0):c(!0),()=>{s?i(!1):c(!1)}),[s,i,c]),a.type==="hover"?g.jsx(x5,{...r,ref:t,forceMount:e}):a.type==="scroll"?g.jsx(_5,{...r,ref:t,forceMount:e}):a.type==="auto"?g.jsx(Sp,{...r,ref:t,forceMount:e}):a.type==="always"?g.jsx(ku,{...r,ref:t}):null});Np.displayName=fa;var x5=B.forwardRef((n,t)=>{const{forceMount:e,...r}=n,a=Pi(fa,n.__scopeScrollArea),[i,c]=B.useState(!1);return B.useEffect(()=>{const s=a.scrollArea;let u=0;if(s){const d=()=>{window.clearTimeout(u),c(!0)},m=()=>{u=window.setTimeout(()=>c(!1),a.scrollHideDelay)};return s.addEventListener("pointerenter",d),s.addEventListener("pointerleave",m),()=>{window.clearTimeout(u),s.removeEventListener("pointerenter",d),s.removeEventListener("pointerleave",m)}}},[a.scrollArea,a.scrollHideDelay]),g.jsx(Ds,{present:e||i,children:g.jsx(Sp,{"data-state":i?"visible":"hidden",...r,ref:t})})}),_5=B.forwardRef((n,t)=>{const{forceMount:e,...r}=n,a=Pi(fa,n.__scopeScrollArea),i=n.orientation==="horizontal",c=Ql(()=>u("SCROLL_END"),100),[s,u]=y5("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return B.useEffect(()=>{if(s==="idle"){const d=window.setTimeout(()=>u("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(d)}},[s,a.scrollHideDelay,u]),B.useEffect(()=>{const d=a.viewport,m=i?"scrollLeft":"scrollTop";if(d){let b=d[m];const x=()=>{const p=d[m];b!==p&&(u("SCROLL"),c()),b=p};return d.addEventListener("scroll",x),()=>d.removeEventListener("scroll",x)}},[a.viewport,i,u,c]),g.jsx(Ds,{present:e||s!=="hidden",children:g.jsx(ku,{"data-state":s==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:En(n.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:En(n.onPointerLeave,()=>u("POINTER_LEAVE"))})})}),Sp=B.forwardRef((n,t)=>{const e=Pi(fa,n.__scopeScrollArea),{forceMount:r,...a}=n,[i,c]=B.useState(!1),s=n.orientation==="horizontal",u=Ql(()=>{if(e.viewport){const d=e.viewport.offsetWidth<e.viewport.scrollWidth,m=e.viewport.offsetHeight<e.viewport.scrollHeight;c(s?d:m)}},10);return ls(e.viewport,u),ls(e.content,u),g.jsx(Ds,{present:r||i,children:g.jsx(ku,{"data-state":i?"visible":"hidden",...a,ref:t})})}),ku=B.forwardRef((n,t)=>{const{orientation:e="vertical",...r}=n,a=Pi(fa,n.__scopeScrollArea),i=B.useRef(null),c=B.useRef(0),[s,u]=B.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=jp(s.viewport,s.content),m={...r,sizes:s,onSizesChange:u,hasThumb:d>0&&d<1,onThumbChange:x=>i.current=x,onThumbPointerUp:()=>c.current=0,onThumbPointerDown:x=>c.current=x};function b(x,p){return P5(x,c.current,s,p)}return e==="horizontal"?g.jsx(N5,{...m,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const x=a.viewport.scrollLeft,p=Cf(x,s,a.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:x=>{a.viewport&&(a.viewport.scrollLeft=x)},onDragScroll:x=>{a.viewport&&(a.viewport.scrollLeft=b(x,a.dir))}}):e==="vertical"?g.jsx(S5,{...m,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const x=a.viewport.scrollTop,p=Cf(x,s);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:x=>{a.viewport&&(a.viewport.scrollTop=x)},onDragScroll:x=>{a.viewport&&(a.viewport.scrollTop=b(x))}}):null}),N5=B.forwardRef((n,t)=>{const{sizes:e,onSizesChange:r,...a}=n,i=Pi(fa,n.__scopeScrollArea),[c,s]=B.useState(),u=B.useRef(null),d=Hn(t,u,i.onScrollbarXChange);return B.useEffect(()=>{u.current&&s(getComputedStyle(u.current))},[u]),g.jsx(kp,{"data-orientation":"horizontal",...a,ref:d,sizes:e,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Zl(e)+"px",...n.style},onThumbPointerDown:m=>n.onThumbPointerDown(m.x),onDragScroll:m=>n.onDragScroll(m.x),onWheelScroll:(m,b)=>{if(i.viewport){const x=i.viewport.scrollLeft+m.deltaX;n.onWheelScroll(x),Ep(x,b)&&m.preventDefault()}},onResize:()=>{u.current&&i.viewport&&c&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:Cl(c.paddingLeft),paddingEnd:Cl(c.paddingRight)}})}})}),S5=B.forwardRef((n,t)=>{const{sizes:e,onSizesChange:r,...a}=n,i=Pi(fa,n.__scopeScrollArea),[c,s]=B.useState(),u=B.useRef(null),d=Hn(t,u,i.onScrollbarYChange);return B.useEffect(()=>{u.current&&s(getComputedStyle(u.current))},[u]),g.jsx(kp,{"data-orientation":"vertical",...a,ref:d,sizes:e,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Zl(e)+"px",...n.style},onThumbPointerDown:m=>n.onThumbPointerDown(m.y),onDragScroll:m=>n.onDragScroll(m.y),onWheelScroll:(m,b)=>{if(i.viewport){const x=i.viewport.scrollTop+m.deltaY;n.onWheelScroll(x),Ep(x,b)&&m.preventDefault()}},onResize:()=>{u.current&&i.viewport&&c&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:Cl(c.paddingTop),paddingEnd:Cl(c.paddingBottom)}})}})}),[A5,Ap]=yp(fa),kp=B.forwardRef((n,t)=>{const{__scopeScrollArea:e,sizes:r,hasThumb:a,onThumbChange:i,onThumbPointerUp:c,onThumbPointerDown:s,onThumbPositionChange:u,onDragScroll:d,onWheelScroll:m,onResize:b,...x}=n,p=Pi(fa,e),[L,k]=B.useState(null),C=Hn(t,H=>k(H)),S=B.useRef(null),F=B.useRef(""),V=p.viewport,W=r.content-r.viewport,be=ca(m),ue=ca(u),re=Ql(b,10);function Q(H){if(S.current){const de=H.clientX-S.current.left,O=H.clientY-S.current.top;d({x:de,y:O})}}return B.useEffect(()=>{const H=de=>{const O=de.target;(L==null?void 0:L.contains(O))&&be(de,W)};return document.addEventListener("wheel",H,{passive:!1}),()=>document.removeEventListener("wheel",H,{passive:!1})},[V,L,W,be]),B.useEffect(ue,[r,ue]),ls(L,re),ls(p.content,re),g.jsx(A5,{scope:e,scrollbar:L,hasThumb:a,onThumbChange:ca(i),onThumbPointerUp:ca(c),onThumbPositionChange:ue,onThumbPointerDown:ca(s),children:g.jsx(mn.div,{...x,ref:C,style:{position:"absolute",...x.style},onPointerDown:En(n.onPointerDown,H=>{H.button===0&&(H.target.setPointerCapture(H.pointerId),S.current=L.getBoundingClientRect(),F.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),Q(H))}),onPointerMove:En(n.onPointerMove,Q),onPointerUp:En(n.onPointerUp,H=>{const de=H.target;de.hasPointerCapture(H.pointerId)&&de.releasePointerCapture(H.pointerId),document.body.style.webkitUserSelect=F.current,p.viewport&&(p.viewport.style.scrollBehavior=""),S.current=null})})})}),jl="ScrollAreaThumb",Lp=B.forwardRef((n,t)=>{const{forceMount:e,...r}=n,a=Ap(jl,n.__scopeScrollArea);return g.jsx(Ds,{present:e||a.hasThumb,children:g.jsx(k5,{ref:t,...r})})}),k5=B.forwardRef((n,t)=>{const{__scopeScrollArea:e,style:r,...a}=n,i=Pi(jl,e),c=Ap(jl,e),{onThumbPositionChange:s}=c,u=Hn(t,b=>c.onThumbChange(b)),d=B.useRef(void 0),m=Ql(()=>{d.current&&(d.current(),d.current=void 0)},100);return B.useEffect(()=>{const b=i.viewport;if(b){const x=()=>{if(m(),!d.current){const p=j5(b,s);d.current=p,s()}};return s(),b.addEventListener("scroll",x),()=>b.removeEventListener("scroll",x)}},[i.viewport,m,s]),g.jsx(mn.div,{"data-state":c.hasThumb?"visible":"hidden",...a,ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:En(n.onPointerDownCapture,b=>{const p=b.target.getBoundingClientRect(),L=b.clientX-p.left,k=b.clientY-p.top;c.onThumbPointerDown({x:L,y:k})}),onPointerUp:En(n.onPointerUp,c.onThumbPointerUp)})});Lp.displayName=jl;var Lu="ScrollAreaCorner",Pp=B.forwardRef((n,t)=>{const e=Pi(Lu,n.__scopeScrollArea),r=!!(e.scrollbarX&&e.scrollbarY);return e.type!=="scroll"&&r?g.jsx(L5,{...n,ref:t}):null});Pp.displayName=Lu;var L5=B.forwardRef((n,t)=>{const{__scopeScrollArea:e,...r}=n,a=Pi(Lu,e),[i,c]=B.useState(0),[s,u]=B.useState(0),d=!!(i&&s);return ls(a.scrollbarX,()=>{var b;const m=((b=a.scrollbarX)==null?void 0:b.offsetHeight)||0;a.onCornerHeightChange(m),u(m)}),ls(a.scrollbarY,()=>{var b;const m=((b=a.scrollbarY)==null?void 0:b.offsetWidth)||0;a.onCornerWidthChange(m),c(m)}),d?g.jsx(mn.div,{...r,ref:t,style:{width:i,height:s,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...n.style}}):null});function Cl(n){return n?parseInt(n,10):0}function jp(n,t){const e=n/t;return isNaN(e)?0:e}function Zl(n){const t=jp(n.viewport,n.content),e=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,r=(n.scrollbar.size-e)*t;return Math.max(r,18)}function P5(n,t,e,r="ltr"){const a=Zl(e),i=a/2,c=t||i,s=a-c,u=e.scrollbar.paddingStart+c,d=e.scrollbar.size-e.scrollbar.paddingEnd-s,m=e.content-e.viewport,b=r==="ltr"?[0,m]:[m*-1,0];return Cp([u,d],b)(n)}function Cf(n,t,e="ltr"){const r=Zl(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,c=t.content-t.viewport,s=i-r,u=e==="ltr"?[0,c]:[c*-1,0],d=eu(n,u);return Cp([0,c],[0,s])(d)}function Cp(n,t){return e=>{if(n[0]===n[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(n[1]-n[0]);return t[0]+r*(e-n[0])}}function Ep(n,t){return n>0&&n<t}var j5=(n,t=()=>{})=>{let e={left:n.scrollLeft,top:n.scrollTop},r=0;return function a(){const i={left:n.scrollLeft,top:n.scrollTop},c=e.left!==i.left,s=e.top!==i.top;(c||s)&&t(),e=i,r=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(r)};function Ql(n,t){const e=ca(n),r=B.useRef(0);return B.useEffect(()=>()=>window.clearTimeout(r.current),[]),B.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(e,t)},[e,t])}function ls(n,t){const e=ca(t);Vi(()=>{let r=0;if(n){const a=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(e)});return a.observe(n),()=>{window.cancelAnimationFrame(r),a.unobserve(n)}}},[n,e])}var C5=wp,E5=_p,I5=Pp;function so({className:n,children:t,...e}){return g.jsxs(C5,{"data-slot":"scroll-area",className:Vt("relative",n),...e,children:[g.jsx(E5,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),g.jsx(T5,{}),g.jsx(I5,{})]})}function T5({className:n,orientation:t="vertical",...e}){return g.jsx(Np,{"data-slot":"scroll-area-scrollbar",orientation:t,className:Vt("flex touch-none p-px transition-colors select-none",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",n),...e,children:g.jsx(Lp,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function Ip({className:n,...t}){return g.jsx("textarea",{"data-slot":"textarea",className:Vt("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),...t})}function O5({selectedWebsite:n,websiteHighlights:t,setWebsiteHighlights:e,handleDeleteHighlight:r}){const[a,i]=B.useState(null),[c,s]=B.useState(""),u=b=>{i(b.id),s(b.notes||"")},d=async b=>{try{const x=await Hi.runtime.sendMessage({action:"updateHighlight",data:{id:b,updates:{notes:c}}});x!=null&&x.success?e(p=>p.map(L=>L.id===b?{...L,notes:c}:L)):console.warn("Failed to update notes:",x==null?void 0:x.error)}catch(x){console.error("Error updating notes:",x)}finally{i(null),s("")}},m=()=>{i(null),s("")};return n?t.length===0?g.jsx("div",{className:"h-full flex items-center justify-center text-muted-foreground italic text-sm",children:"No highlights yet."}):g.jsx(so,{className:"flex-1 h-full p-4 max-h-screen pb-14 w-full",children:g.jsx("div",{className:"space-y-3 w-full",children:t.map(b=>g.jsxs("div",{className:"bg-background group rounded-md border flex overflow-hidden",children:[g.jsx("div",{className:"w-2",style:{background:(b==null?void 0:b.color)||"yellow"}}),g.jsxs("div",{className:"flex-1 p-3 flex flex-col gap-1 w-full overflow-auto",children:[g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsx("h3",{className:"text-sm tracking-wide font-medium flex-1 pr-2 break-words whitespace-pre-wrap",children:b.selectionString}),g.jsxs(Bl,{children:[g.jsx(zl,{asChild:!0,children:g.jsx(rn,{variant:"ghost",size:"icon-sm",className:"opacity-0 group-hover:opacity-100 transition-opacity",onClick:x=>x.stopPropagation(),children:g.jsx(ql,{className:"h-4 w-4"})})}),g.jsxs(Ul,{align:"end",className:"w-36",children:[b!=null&&b.notes?g.jsxs(ki,{onClick:()=>u(b),children:[g.jsx(wh,{className:"mr-2 h-4 w-4"})," Edit Notes"]}):g.jsxs(ki,{onClick:()=>u(b),children:[g.jsx(ph,{className:"mr-2 h-4 w-4"})," Add Notes"]}),g.jsxs(ki,{onClick:()=>r(b.id),className:"text-destructive focus:text-destructive",children:[g.jsx(Hl,{className:"mr-2 h-4 w-4"})," Delete"]})]})]})]}),a===b.id?g.jsxs("div",{className:"mt-2 ml-6 space-y-2",children:[g.jsx(Ip,{value:c,onChange:x=>s(x.target.value),placeholder:"Write your note here...",className:"text-sm"}),g.jsxs("div",{className:"flex gap-2 justify-end",children:[g.jsxs(rn,{size:"sm",variant:"secondary",onClick:m,children:[g.jsx(oo,{className:"h-4 w-4 mr-1"})," Cancel"]}),g.jsxs(rn,{size:"sm",onClick:()=>d(b.id),children:[g.jsx(Io,{className:"h-4 w-4 mr-1"})," Save"]})]})]}):b.notes?g.jsx("p",{className:"text-sm text-muted-foreground leading-snug mt-1 ml-6 break-all whitespace-pre-wrap",children:b.notes}):null]})]},b.id))})}):g.jsx("div",{className:"h-full flex items-center justify-center text-muted-foreground italic text-sm",children:"Select a website to view its highlights."})}const R5="modulepreload",D5=function(n){return"/"+n},Ef={},Pc=function(t,e,r){let a=Promise.resolve();if(e&&e.length>0){let c=function(d){return Promise.all(d.map(m=>Promise.resolve(m).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),u=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));a=c(e.map(d=>{if(d=D5(d),d in Ef)return;Ef[d]=!0;const m=d.endsWith(".css"),b=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${b}`))return;const x=document.createElement("link");if(x.rel=m?"stylesheet":R5,m||(x.as="script"),x.crossOrigin="",x.href=d,u&&x.setAttribute("nonce",u),document.head.appendChild(x),m)return new Promise((p,L)=>{x.addEventListener("load",p),x.addEventListener("error",()=>L(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(c){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=c,window.dispatchEvent(s),!s.defaultPrevented)throw c}return a.then(c=>{for(const s of c||[])s.status==="rejected"&&i(s.reason);return t().catch(i)})};function _n(n){"@babel/helpers - typeof";return _n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_n(n)}var Ki=Uint8Array,vi=Uint16Array,Pu=Int32Array,ju=new Ki([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Cu=new Ki([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),If=new Ki([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Tp=function(n,t){for(var e=new vi(31),r=0;r<31;++r)e[r]=t+=1<<n[r-1];for(var a=new Pu(e[30]),r=1;r<30;++r)for(var i=e[r];i<e[r+1];++i)a[i]=i-e[r]<<5|r;return{b:e,r:a}},Op=Tp(ju,2),M5=Op.b,tu=Op.r;M5[28]=258,tu[258]=28;var F5=Tp(Cu,0),Tf=F5.r,nu=new vi(32768);for(var Bn=0;Bn<32768;++Bn){var Qa=(Bn&43690)>>1|(Bn&21845)<<1;Qa=(Qa&52428)>>2|(Qa&13107)<<2,Qa=(Qa&61680)>>4|(Qa&3855)<<4,nu[Bn]=((Qa&65280)>>8|(Qa&255)<<8)>>1}var Ss=function(n,t,e){for(var r=n.length,a=0,i=new vi(t);a<r;++a)n[a]&&++i[n[a]-1];var c=new vi(t);for(a=1;a<t;++a)c[a]=c[a-1]+i[a-1]<<1;var s;if(e){s=new vi(1<<t);var u=15-t;for(a=0;a<r;++a)if(n[a])for(var d=a<<4|n[a],m=t-n[a],b=c[n[a]-1]++<<m,x=b|(1<<m)-1;b<=x;++b)s[nu[b]>>u]=d}else for(s=new vi(r),a=0;a<r;++a)n[a]&&(s[a]=nu[c[n[a]-1]++]>>15-n[a]);return s},Ro=new Ki(288);for(var Bn=0;Bn<144;++Bn)Ro[Bn]=8;for(var Bn=144;Bn<256;++Bn)Ro[Bn]=9;for(var Bn=256;Bn<280;++Bn)Ro[Bn]=7;for(var Bn=280;Bn<288;++Bn)Ro[Bn]=8;var El=new Ki(32);for(var Bn=0;Bn<32;++Bn)El[Bn]=5;var B5=Ss(Ro,9,0),z5=Ss(El,5,0),Rp=function(n){return(n+7)/8|0},q5=function(n,t,e){return(e==null||e>n.length)&&(e=n.length),new Ki(n.subarray(t,e))},Ta=function(n,t,e){e<<=t&7;var r=t/8|0;n[r]|=e,n[r+1]|=e>>8},ys=function(n,t,e){e<<=t&7;var r=t/8|0;n[r]|=e,n[r+1]|=e>>8,n[r+2]|=e>>16},jc=function(n,t){for(var e=[],r=0;r<n.length;++r)n[r]&&e.push({s:r,f:n[r]});var a=e.length,i=e.slice();if(!a)return{t:Mp,l:0};if(a==1){var c=new Ki(e[0].s+1);return c[e[0].s]=1,{t:c,l:1}}e.sort(function(be,ue){return be.f-ue.f}),e.push({s:-1,f:25001});var s=e[0],u=e[1],d=0,m=1,b=2;for(e[0]={s:-1,f:s.f+u.f,l:s,r:u};m!=a-1;)s=e[e[d].f<e[b].f?d++:b++],u=e[d!=m&&e[d].f<e[b].f?d++:b++],e[m++]={s:-1,f:s.f+u.f,l:s,r:u};for(var x=i[0].s,r=1;r<a;++r)i[r].s>x&&(x=i[r].s);var p=new vi(x+1),L=ru(e[m-1],p,0);if(L>t){var r=0,k=0,C=L-t,S=1<<C;for(i.sort(function(ue,re){return p[re.s]-p[ue.s]||ue.f-re.f});r<a;++r){var F=i[r].s;if(p[F]>t)k+=S-(1<<L-p[F]),p[F]=t;else break}for(k>>=C;k>0;){var V=i[r].s;p[V]<t?k-=1<<t-p[V]++-1:++r}for(;r>=0&&k;--r){var W=i[r].s;p[W]==t&&(--p[W],++k)}L=t}return{t:new Ki(p),l:L}},ru=function(n,t,e){return n.s==-1?Math.max(ru(n.l,t,e+1),ru(n.r,t,e+1)):t[n.s]=e},Of=function(n){for(var t=n.length;t&&!n[--t];);for(var e=new vi(++t),r=0,a=n[0],i=1,c=function(u){e[r++]=u},s=1;s<=t;++s)if(n[s]==a&&s!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)c(32754);i>2&&(c(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(c(a),--i;i>6;i-=6)c(8304);i>2&&(c(i-3<<5|8208),i=0)}for(;i--;)c(a);i=1,a=n[s]}return{c:e.subarray(0,r),n:t}},ws=function(n,t){for(var e=0,r=0;r<t.length;++r)e+=n[r]*t[r];return e},Dp=function(n,t,e){var r=e.length,a=Rp(t+2);n[a]=r&255,n[a+1]=r>>8,n[a+2]=n[a]^255,n[a+3]=n[a+1]^255;for(var i=0;i<r;++i)n[a+i+4]=e[i];return(a+4+r)*8},Rf=function(n,t,e,r,a,i,c,s,u,d,m){Ta(t,m++,e),++a[256];for(var b=jc(a,15),x=b.t,p=b.l,L=jc(i,15),k=L.t,C=L.l,S=Of(x),F=S.c,V=S.n,W=Of(k),be=W.c,ue=W.n,re=new vi(19),Q=0;Q<F.length;++Q)++re[F[Q]&31];for(var Q=0;Q<be.length;++Q)++re[be[Q]&31];for(var H=jc(re,7),de=H.t,O=H.l,R=19;R>4&&!de[If[R-1]];--R);var ee=d+5<<3,ne=ws(a,Ro)+ws(i,El)+c,Se=ws(a,x)+ws(i,k)+c+14+3*R+ws(re,de)+2*re[16]+3*re[17]+7*re[18];if(u>=0&&ee<=ne&&ee<=Se)return Dp(t,m,n.subarray(u,u+d));var we,je,Ne,Te;if(Ta(t,m,1+(Se<ne)),m+=2,Se<ne){we=Ss(x,p,0),je=x,Ne=Ss(k,C,0),Te=k;var Ve=Ss(de,O,0);Ta(t,m,V-257),Ta(t,m+5,ue-1),Ta(t,m+10,R-4),m+=14;for(var Q=0;Q<R;++Q)Ta(t,m+3*Q,de[If[Q]]);m+=3*R;for(var Be=[F,be],T=0;T<2;++T)for(var D=Be[T],Q=0;Q<D.length;++Q){var q=D[Q]&31;Ta(t,m,Ve[q]),m+=de[q],q>15&&(Ta(t,m,D[Q]>>5&127),m+=D[Q]>>12)}}else we=B5,je=Ro,Ne=z5,Te=El;for(var Q=0;Q<s;++Q){var X=r[Q];if(X>255){var q=X>>18&31;ys(t,m,we[q+257]),m+=je[q+257],q>7&&(Ta(t,m,X>>23&31),m+=ju[q]);var te=X&31;ys(t,m,Ne[te]),m+=Te[te],te>3&&(ys(t,m,X>>5&8191),m+=Cu[te])}else ys(t,m,we[X]),m+=je[X]}return ys(t,m,we[256]),m+je[256]},U5=new Pu([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Mp=new Ki(0),H5=function(n,t,e,r,a,i){var c=i.z||n.length,s=new Ki(r+c+5*(1+Math.ceil(c/7e3))+a),u=s.subarray(r,s.length-a),d=i.l,m=(i.r||0)&7;if(t){m&&(u[0]=i.r>>3);for(var b=U5[t-1],x=b>>13,p=b&8191,L=(1<<e)-1,k=i.p||new vi(32768),C=i.h||new vi(L+1),S=Math.ceil(e/3),F=2*S,V=function(Ie){return(n[Ie]^n[Ie+1]<<S^n[Ie+2]<<F)&L},W=new Pu(25e3),be=new vi(288),ue=new vi(32),re=0,Q=0,H=i.i||0,de=0,O=i.w||0,R=0;H+2<c;++H){var ee=V(H),ne=H&32767,Se=C[ee];if(k[ne]=Se,C[ee]=ne,O<=H){var we=c-H;if((re>7e3||de>24576)&&(we>423||!d)){m=Rf(n,u,0,W,be,ue,Q,de,R,H-R,m),de=re=Q=0,R=H;for(var je=0;je<286;++je)be[je]=0;for(var je=0;je<30;++je)ue[je]=0}var Ne=2,Te=0,Ve=p,Be=ne-Se&32767;if(we>2&&ee==V(H-Be))for(var T=Math.min(x,we)-1,D=Math.min(32767,H),q=Math.min(258,we);Be<=D&&--Ve&&ne!=Se;){if(n[H+Ne]==n[H+Ne-Be]){for(var X=0;X<q&&n[H+X]==n[H+X-Be];++X);if(X>Ne){if(Ne=X,Te=Be,X>T)break;for(var te=Math.min(Be,X-2),Z=0,je=0;je<te;++je){var le=H-Be+je&32767,ae=k[le],Le=le-ae&32767;Le>Z&&(Z=Le,Se=le)}}}ne=Se,Se=k[ne],Be+=ne-Se&32767}if(Te){W[de++]=268435456|tu[Ne]<<18|Tf[Te];var De=tu[Ne]&31,Re=Tf[Te]&31;Q+=ju[De]+Cu[Re],++be[257+De],++ue[Re],O=H+Ne,++re}else W[de++]=n[H],++be[n[H]]}}for(H=Math.max(H,O);H<c;++H)W[de++]=n[H],++be[n[H]];m=Rf(n,u,d,W,be,ue,Q,de,R,H-R,m),d||(i.r=m&7|u[m/8|0]<<3,m-=7,i.h=C,i.p=k,i.i=H,i.w=O)}else{for(var H=i.w||0;H<c+d;H+=65535){var Ke=H+65535;Ke>=c&&(u[m/8|0]=d,Ke=c),m=Dp(u,m+1,n.subarray(H,Ke))}i.i=c}return q5(s,0,r+Rp(m)+a)},Fp=function(){var n=1,t=0;return{p:function(e){for(var r=n,a=t,i=e.length|0,c=0;c!=i;){for(var s=Math.min(c+2655,i);c<s;++c)a+=r+=e[c];r=(r&65535)+15*(r>>16),a=(a&65535)+15*(a>>16)}n=r,t=a},d:function(){return n%=65521,t%=65521,(n&255)<<24|(n&65280)<<8|(t&255)<<8|t>>8}}},W5=function(n,t,e,r,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),c=new Ki(i.length+n.length);c.set(i),c.set(n,i.length),n=c,a.w=i.length}return H5(n,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+t.mem,e,r,a)},Bp=function(n,t,e){for(;e;++t)n[t]=e,e>>>=8},V5=function(n,t){var e=t.level,r=e==0?0:e<6?1:e==9?3:2;if(n[0]=120,n[1]=r<<6|(t.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,t.dictionary){var a=Fp();a.p(t.dictionary),Bp(n,2,a.d())}};function iu(n,t){t||(t={});var e=Fp();e.p(n);var r=W5(n,t,t.dictionary?6:2,4);return V5(r,t),Bp(r,r.length-4,e.d()),r}var K5=typeof TextDecoder<"u"&&new TextDecoder,$5=0;try{K5.decode(Mp,{stream:!0}),$5=1}catch{}function G5(n){if(Array.isArray(n))return n}function Y5(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var r,a,i,c,s=[],u=!0,d=!1;try{if(i=(e=e.call(n)).next,t!==0)for(;!(u=(r=i.call(e)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(m){d=!0,a=m}finally{try{if(!u&&e.return!=null&&(c=e.return(),Object(c)!==c))return}finally{if(d)throw a}}return s}}function Df(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=Array(t);e<t;e++)r[e]=n[e];return r}function X5(n,t){if(n){if(typeof n=="string")return Df(n,t);var e={}.toString.call(n).slice(8,-1);return e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set"?Array.from(n):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?Df(n,t):void 0}}function J5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mf(n,t){return G5(n)||Y5(n,t)||X5(n,t)||J5()}function Ff(n,t="utf8"){return new TextDecoder(t).decode(n)}const Z5=new TextEncoder;function Q5(n){return Z5.encode(n)}const ev=1024*8,tv=(()=>{const n=new Uint8Array(4),t=new Uint32Array(n.buffer);return!((t[0]=1)&n[0])})(),Cc={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Eu{constructor(t=ev,e={}){pn(this,"buffer");pn(this,"byteLength");pn(this,"byteOffset");pn(this,"length");pn(this,"offset");pn(this,"lastWrittenByte");pn(this,"littleEndian");pn(this,"_data");pn(this,"_mark");pn(this,"_marks");let r=!1;typeof t=="number"?t=new ArrayBuffer(t):(r=!0,this.lastWrittenByte=t.byteLength);const a=e.offset?e.offset>>>0:0,i=t.byteLength-a;let c=a;(ArrayBuffer.isView(t)||t instanceof Eu)&&(t.byteLength!==t.buffer.byteLength&&(c=t.byteOffset+a),t=t.buffer),r?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=c,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,c,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const r=(this.offset+t)*2,a=new Uint8Array(r);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,e){const r=Cc[e].BYTES_PER_ELEMENT*t,a=this.byteOffset+this.offset,i=this.buffer.slice(a,a+r);if(this.littleEndian===tv&&e!=="uint8"&&e!=="int8"){const s=new Uint8Array(this.buffer.slice(a,a+r));s.reverse();const u=new Cc[e](s.buffer);return this.offset+=r,u.reverse(),u}const c=new Cc[e](i);return this.offset+=r,c}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let e="";for(let r=0;r<t;r++)e+=this.readChar();return e}readUtf8(t=1){return Ff(this.readBytes(t))}decodeText(t=1,e="utf8"){return Ff(this.readBytes(t),e)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let e=0;e<t.length;e++)this._data.setUint8(this.offset++,t[e]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let e=0;e<t.length;e++)this.writeUint8(t.charCodeAt(e));return this}writeUtf8(t){return this.writeBytes(Q5(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function cs(n){let t=n.length;for(;--t>=0;)n[t]=0}const nv=3,rv=258,zp=29,iv=256,av=iv+1+zp,qp=30,ov=512,sv=new Array((av+2)*2);cs(sv);const lv=new Array(qp*2);cs(lv);const cv=new Array(ov);cs(cv);const uv=new Array(rv-nv+1);cs(uv);const fv=new Array(zp);cs(fv);const dv=new Array(qp);cs(dv);const hv=(n,t,e,r)=>{let a=n&65535|0,i=n>>>16&65535|0,c=0;for(;e!==0;){c=e>2e3?2e3:e,e-=c;do a=a+t[r++]|0,i=i+a|0;while(--c);a%=65521,i%=65521}return a|i<<16|0};var au=hv;const pv=()=>{let n,t=[];for(var e=0;e<256;e++){n=e;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;t[e]=n}return t},mv=new Uint32Array(pv()),gv=(n,t,e,r)=>{const a=mv,i=r+e;n^=-1;for(let c=r;c<i;c++)n=n>>>8^a[(n^t[c])&255];return n^-1};var sa=gv,ou={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Up={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const vv=(n,t)=>Object.prototype.hasOwnProperty.call(n,t);var bv=function(n){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const e=t.shift();if(e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(const r in e)vv(e,r)&&(n[r]=e[r])}}return n},yv=n=>{let t=0;for(let r=0,a=n.length;r<a;r++)t+=n[r].length;const e=new Uint8Array(t);for(let r=0,a=0,i=n.length;r<i;r++){let c=n[r];e.set(c,a),a+=c.length}return e},Hp={assign:bv,flattenChunks:yv};let Wp=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Wp=!1}const Ts=new Uint8Array(256);for(let n=0;n<256;n++)Ts[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;Ts[254]=Ts[254]=1;var wv=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let t,e,r,a,i,c=n.length,s=0;for(a=0;a<c;a++)e=n.charCodeAt(a),(e&64512)===55296&&a+1<c&&(r=n.charCodeAt(a+1),(r&64512)===56320&&(e=65536+(e-55296<<10)+(r-56320),a++)),s+=e<128?1:e<2048?2:e<65536?3:4;for(t=new Uint8Array(s),i=0,a=0;i<s;a++)e=n.charCodeAt(a),(e&64512)===55296&&a+1<c&&(r=n.charCodeAt(a+1),(r&64512)===56320&&(e=65536+(e-55296<<10)+(r-56320),a++)),e<128?t[i++]=e:e<2048?(t[i++]=192|e>>>6,t[i++]=128|e&63):e<65536?(t[i++]=224|e>>>12,t[i++]=128|e>>>6&63,t[i++]=128|e&63):(t[i++]=240|e>>>18,t[i++]=128|e>>>12&63,t[i++]=128|e>>>6&63,t[i++]=128|e&63);return t};const xv=(n,t)=>{if(t<65534&&n.subarray&&Wp)return String.fromCharCode.apply(null,n.length===t?n:n.subarray(0,t));let e="";for(let r=0;r<t;r++)e+=String.fromCharCode(n[r]);return e};var _v=(n,t)=>{const e=t||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,t));let r,a;const i=new Array(e*2);for(a=0,r=0;r<e;){let c=n[r++];if(c<128){i[a++]=c;continue}let s=Ts[c];if(s>4){i[a++]=65533,r+=s-1;continue}for(c&=s===2?31:s===3?15:7;s>1&&r<e;)c=c<<6|n[r++]&63,s--;if(s>1){i[a++]=65533;continue}c<65536?i[a++]=c:(c-=65536,i[a++]=55296|c>>10&1023,i[a++]=56320|c&1023)}return xv(i,a)},Nv=(n,t)=>{t=t||n.length,t>n.length&&(t=n.length);let e=t-1;for(;e>=0&&(n[e]&192)===128;)e--;return e<0||e===0?t:e+Ts[n[e]]>t?e:t},su={string2buf:wv,buf2string:_v,utf8border:Nv};function Sv(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Av=Sv;const ol=16209,kv=16191;var Lv=function(t,e){let r,a,i,c,s,u,d,m,b,x,p,L,k,C,S,F,V,W,be,ue,re,Q,H,de;const O=t.state;r=t.next_in,H=t.input,a=r+(t.avail_in-5),i=t.next_out,de=t.output,c=i-(e-t.avail_out),s=i+(t.avail_out-257),u=O.dmax,d=O.wsize,m=O.whave,b=O.wnext,x=O.window,p=O.hold,L=O.bits,k=O.lencode,C=O.distcode,S=(1<<O.lenbits)-1,F=(1<<O.distbits)-1;e:do{L<15&&(p+=H[r++]<<L,L+=8,p+=H[r++]<<L,L+=8),V=k[p&S];t:for(;;){if(W=V>>>24,p>>>=W,L-=W,W=V>>>16&255,W===0)de[i++]=V&65535;else if(W&16){be=V&65535,W&=15,W&&(L<W&&(p+=H[r++]<<L,L+=8),be+=p&(1<<W)-1,p>>>=W,L-=W),L<15&&(p+=H[r++]<<L,L+=8,p+=H[r++]<<L,L+=8),V=C[p&F];n:for(;;){if(W=V>>>24,p>>>=W,L-=W,W=V>>>16&255,W&16){if(ue=V&65535,W&=15,L<W&&(p+=H[r++]<<L,L+=8,L<W&&(p+=H[r++]<<L,L+=8)),ue+=p&(1<<W)-1,ue>u){t.msg="invalid distance too far back",O.mode=ol;break e}if(p>>>=W,L-=W,W=i-c,ue>W){if(W=ue-W,W>m&&O.sane){t.msg="invalid distance too far back",O.mode=ol;break e}if(re=0,Q=x,b===0){if(re+=d-W,W<be){be-=W;do de[i++]=x[re++];while(--W);re=i-ue,Q=de}}else if(b<W){if(re+=d+b-W,W-=b,W<be){be-=W;do de[i++]=x[re++];while(--W);if(re=0,b<be){W=b,be-=W;do de[i++]=x[re++];while(--W);re=i-ue,Q=de}}}else if(re+=b-W,W<be){be-=W;do de[i++]=x[re++];while(--W);re=i-ue,Q=de}for(;be>2;)de[i++]=Q[re++],de[i++]=Q[re++],de[i++]=Q[re++],be-=3;be&&(de[i++]=Q[re++],be>1&&(de[i++]=Q[re++]))}else{re=i-ue;do de[i++]=de[re++],de[i++]=de[re++],de[i++]=de[re++],be-=3;while(be>2);be&&(de[i++]=de[re++],be>1&&(de[i++]=de[re++]))}}else if((W&64)===0){V=C[(V&65535)+(p&(1<<W)-1)];continue n}else{t.msg="invalid distance code",O.mode=ol;break e}break}}else if((W&64)===0){V=k[(V&65535)+(p&(1<<W)-1)];continue t}else if(W&32){O.mode=kv;break e}else{t.msg="invalid literal/length code",O.mode=ol;break e}break}}while(r<a&&i<s);be=L>>3,r-=be,L-=be<<3,p&=(1<<L)-1,t.next_in=r,t.next_out=i,t.avail_in=r<a?5+(a-r):5-(r-a),t.avail_out=i<s?257+(s-i):257-(i-s),O.hold=p,O.bits=L};const $o=15,Bf=852,zf=592,qf=0,Ec=1,Uf=2,Pv=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),jv=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Cv=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Ev=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Iv=(n,t,e,r,a,i,c,s)=>{const u=s.bits;let d=0,m=0,b=0,x=0,p=0,L=0,k=0,C=0,S=0,F=0,V,W,be,ue,re,Q=null,H;const de=new Uint16Array($o+1),O=new Uint16Array($o+1);let R=null,ee,ne,Se;for(d=0;d<=$o;d++)de[d]=0;for(m=0;m<r;m++)de[t[e+m]]++;for(p=u,x=$o;x>=1&&de[x]===0;x--);if(p>x&&(p=x),x===0)return a[i++]=1<<24|64<<16|0,a[i++]=1<<24|64<<16|0,s.bits=1,0;for(b=1;b<x&&de[b]===0;b++);for(p<b&&(p=b),C=1,d=1;d<=$o;d++)if(C<<=1,C-=de[d],C<0)return-1;if(C>0&&(n===qf||x!==1))return-1;for(O[1]=0,d=1;d<$o;d++)O[d+1]=O[d]+de[d];for(m=0;m<r;m++)t[e+m]!==0&&(c[O[t[e+m]]++]=m);if(n===qf?(Q=R=c,H=20):n===Ec?(Q=Pv,R=jv,H=257):(Q=Cv,R=Ev,H=0),F=0,m=0,d=b,re=i,L=p,k=0,be=-1,S=1<<p,ue=S-1,n===Ec&&S>Bf||n===Uf&&S>zf)return 1;for(;;){ee=d-k,c[m]+1<H?(ne=0,Se=c[m]):c[m]>=H?(ne=R[c[m]-H],Se=Q[c[m]-H]):(ne=96,Se=0),V=1<<d-k,W=1<<L,b=W;do W-=V,a[re+(F>>k)+W]=ee<<24|ne<<16|Se|0;while(W!==0);for(V=1<<d-1;F&V;)V>>=1;if(V!==0?(F&=V-1,F+=V):F=0,m++,--de[d]===0){if(d===x)break;d=t[e+c[m]]}if(d>p&&(F&ue)!==be){for(k===0&&(k=p),re+=b,L=d-k,C=1<<L;L+k<x&&(C-=de[L+k],!(C<=0));)L++,C<<=1;if(S+=1<<L,n===Ec&&S>Bf||n===Uf&&S>zf)return 1;be=F&ue,a[be]=p<<24|L<<16|re-i|0}}return F!==0&&(a[re+F]=d-k<<24|64<<16|0),s.bits=p,0};var As=Iv;const Tv=0,Vp=1,Kp=2,{Z_FINISH:Hf,Z_BLOCK:Ov,Z_TREES:sl,Z_OK:Do,Z_STREAM_END:Rv,Z_NEED_DICT:Dv,Z_STREAM_ERROR:Li,Z_DATA_ERROR:$p,Z_MEM_ERROR:Gp,Z_BUF_ERROR:Mv,Z_DEFLATED:Wf}=Up,ec=16180,Vf=16181,Kf=16182,$f=16183,Gf=16184,Yf=16185,Xf=16186,Jf=16187,Zf=16188,Qf=16189,Il=16190,Oa=16191,Ic=16192,ed=16193,Tc=16194,td=16195,nd=16196,rd=16197,id=16198,ll=16199,cl=16200,ad=16201,od=16202,sd=16203,ld=16204,cd=16205,Oc=16206,ud=16207,fd=16208,Un=16209,Yp=16210,Xp=16211,Fv=852,Bv=592,zv=15,qv=zv,dd=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function Uv(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Bo=n=>{if(!n)return 1;const t=n.state;return!t||t.strm!==n||t.mode<ec||t.mode>Xp?1:0},Jp=n=>{if(Bo(n))return Li;const t=n.state;return n.total_in=n.total_out=t.total=0,n.msg="",t.wrap&&(n.adler=t.wrap&1),t.mode=ec,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(Fv),t.distcode=t.distdyn=new Int32Array(Bv),t.sane=1,t.back=-1,Do},Zp=n=>{if(Bo(n))return Li;const t=n.state;return t.wsize=0,t.whave=0,t.wnext=0,Jp(n)},Qp=(n,t)=>{let e;if(Bo(n))return Li;const r=n.state;return t<0?(e=0,t=-t):(e=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Li:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=e,r.wbits=t,Zp(n))},e1=(n,t)=>{if(!n)return Li;const e=new Uv;n.state=e,e.strm=n,e.window=null,e.mode=ec;const r=Qp(n,t);return r!==Do&&(n.state=null),r},Hv=n=>e1(n,qv);let hd=!0,Rc,Dc;const Wv=n=>{if(hd){Rc=new Int32Array(512),Dc=new Int32Array(32);let t=0;for(;t<144;)n.lens[t++]=8;for(;t<256;)n.lens[t++]=9;for(;t<280;)n.lens[t++]=7;for(;t<288;)n.lens[t++]=8;for(As(Vp,n.lens,0,288,Rc,0,n.work,{bits:9}),t=0;t<32;)n.lens[t++]=5;As(Kp,n.lens,0,32,Dc,0,n.work,{bits:5}),hd=!1}n.lencode=Rc,n.lenbits=9,n.distcode=Dc,n.distbits=5},t1=(n,t,e,r)=>{let a;const i=n.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(t.subarray(e-i.wsize,e),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>r&&(a=r),i.window.set(t.subarray(e-r,e-r+a),i.wnext),r-=a,r?(i.window.set(t.subarray(e-r,e),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},Vv=(n,t)=>{let e,r,a,i,c,s,u,d,m,b,x,p,L,k,C=0,S,F,V,W,be,ue,re,Q;const H=new Uint8Array(4);let de,O;const R=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Bo(n)||!n.output||!n.input&&n.avail_in!==0)return Li;e=n.state,e.mode===Oa&&(e.mode=Ic),c=n.next_out,a=n.output,u=n.avail_out,i=n.next_in,r=n.input,s=n.avail_in,d=e.hold,m=e.bits,b=s,x=u,Q=Do;e:for(;;)switch(e.mode){case ec:if(e.wrap===0){e.mode=Ic;break}for(;m<16;){if(s===0)break e;s--,d+=r[i++]<<m,m+=8}if(e.wrap&2&&d===35615){e.wbits===0&&(e.wbits=15),e.check=0,H[0]=d&255,H[1]=d>>>8&255,e.check=sa(e.check,H,2,0),d=0,m=0,e.mode=Vf;break}if(e.head&&(e.head.done=!1),!(e.wrap&1)||(((d&255)<<8)+(d>>8))%31){n.msg="incorrect header check",e.mode=Un;break}if((d&15)!==Wf){n.msg="unknown compression method",e.mode=Un;break}if(d>>>=4,m-=4,re=(d&15)+8,e.wbits===0&&(e.wbits=re),re>15||re>e.wbits){n.msg="invalid window size",e.mode=Un;break}e.dmax=1<<e.wbits,e.flags=0,n.adler=e.check=1,e.mode=d&512?Qf:Oa,d=0,m=0;break;case Vf:for(;m<16;){if(s===0)break e;s--,d+=r[i++]<<m,m+=8}if(e.flags=d,(e.flags&255)!==Wf){n.msg="unknown compression method",e.mode=Un;break}if(e.flags&57344){n.msg="unknown header flags set",e.mode=Un;break}e.head&&(e.head.text=d>>8&1),e.flags&512&&e.wrap&4&&(H[0]=d&255,H[1]=d>>>8&255,e.check=sa(e.check,H,2,0)),d=0,m=0,e.mode=Kf;case Kf:for(;m<32;){if(s===0)break e;s--,d+=r[i++]<<m,m+=8}e.head&&(e.head.time=d),e.flags&512&&e.wrap&4&&(H[0]=d&255,H[1]=d>>>8&255,H[2]=d>>>16&255,H[3]=d>>>24&255,e.check=sa(e.check,H,4,0)),d=0,m=0,e.mode=$f;case $f:for(;m<16;){if(s===0)break e;s--,d+=r[i++]<<m,m+=8}e.head&&(e.head.xflags=d&255,e.head.os=d>>8),e.flags&512&&e.wrap&4&&(H[0]=d&255,H[1]=d>>>8&255,e.check=sa(e.check,H,2,0)),d=0,m=0,e.mode=Gf;case Gf:if(e.flags&1024){for(;m<16;){if(s===0)break e;s--,d+=r[i++]<<m,m+=8}e.length=d,e.head&&(e.head.extra_len=d),e.flags&512&&e.wrap&4&&(H[0]=d&255,H[1]=d>>>8&255,e.check=sa(e.check,H,2,0)),d=0,m=0}else e.head&&(e.head.extra=null);e.mode=Yf;case Yf:if(e.flags&1024&&(p=e.length,p>s&&(p=s),p&&(e.head&&(re=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(r.subarray(i,i+p),re)),e.flags&512&&e.wrap&4&&(e.check=sa(e.check,r,p,i)),s-=p,i+=p,e.length-=p),e.length))break e;e.length=0,e.mode=Xf;case Xf:if(e.flags&2048){if(s===0)break e;p=0;do re=r[i+p++],e.head&&re&&e.length<65536&&(e.head.name+=String.fromCharCode(re));while(re&&p<s);if(e.flags&512&&e.wrap&4&&(e.check=sa(e.check,r,p,i)),s-=p,i+=p,re)break e}else e.head&&(e.head.name=null);e.length=0,e.mode=Jf;case Jf:if(e.flags&4096){if(s===0)break e;p=0;do re=r[i+p++],e.head&&re&&e.length<65536&&(e.head.comment+=String.fromCharCode(re));while(re&&p<s);if(e.flags&512&&e.wrap&4&&(e.check=sa(e.check,r,p,i)),s-=p,i+=p,re)break e}else e.head&&(e.head.comment=null);e.mode=Zf;case Zf:if(e.flags&512){for(;m<16;){if(s===0)break e;s--,d+=r[i++]<<m,m+=8}if(e.wrap&4&&d!==(e.check&65535)){n.msg="header crc mismatch",e.mode=Un;break}d=0,m=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),n.adler=e.check=0,e.mode=Oa;break;case Qf:for(;m<32;){if(s===0)break e;s--,d+=r[i++]<<m,m+=8}n.adler=e.check=dd(d),d=0,m=0,e.mode=Il;case Il:if(e.havedict===0)return n.next_out=c,n.avail_out=u,n.next_in=i,n.avail_in=s,e.hold=d,e.bits=m,Dv;n.adler=e.check=1,e.mode=Oa;case Oa:if(t===Ov||t===sl)break e;case Ic:if(e.last){d>>>=m&7,m-=m&7,e.mode=Oc;break}for(;m<3;){if(s===0)break e;s--,d+=r[i++]<<m,m+=8}switch(e.last=d&1,d>>>=1,m-=1,d&3){case 0:e.mode=ed;break;case 1:if(Wv(e),e.mode=ll,t===sl){d>>>=2,m-=2;break e}break;case 2:e.mode=nd;break;case 3:n.msg="invalid block type",e.mode=Un}d>>>=2,m-=2;break;case ed:for(d>>>=m&7,m-=m&7;m<32;){if(s===0)break e;s--,d+=r[i++]<<m,m+=8}if((d&65535)!==(d>>>16^65535)){n.msg="invalid stored block lengths",e.mode=Un;break}if(e.length=d&65535,d=0,m=0,e.mode=Tc,t===sl)break e;case Tc:e.mode=td;case td:if(p=e.length,p){if(p>s&&(p=s),p>u&&(p=u),p===0)break e;a.set(r.subarray(i,i+p),c),s-=p,i+=p,u-=p,c+=p,e.length-=p;break}e.mode=Oa;break;case nd:for(;m<14;){if(s===0)break e;s--,d+=r[i++]<<m,m+=8}if(e.nlen=(d&31)+257,d>>>=5,m-=5,e.ndist=(d&31)+1,d>>>=5,m-=5,e.ncode=(d&15)+4,d>>>=4,m-=4,e.nlen>286||e.ndist>30){n.msg="too many length or distance symbols",e.mode=Un;break}e.have=0,e.mode=rd;case rd:for(;e.have<e.ncode;){for(;m<3;){if(s===0)break e;s--,d+=r[i++]<<m,m+=8}e.lens[R[e.have++]]=d&7,d>>>=3,m-=3}for(;e.have<19;)e.lens[R[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,de={bits:e.lenbits},Q=As(Tv,e.lens,0,19,e.lencode,0,e.work,de),e.lenbits=de.bits,Q){n.msg="invalid code lengths set",e.mode=Un;break}e.have=0,e.mode=id;case id:for(;e.have<e.nlen+e.ndist;){for(;C=e.lencode[d&(1<<e.lenbits)-1],S=C>>>24,F=C>>>16&255,V=C&65535,!(S<=m);){if(s===0)break e;s--,d+=r[i++]<<m,m+=8}if(V<16)d>>>=S,m-=S,e.lens[e.have++]=V;else{if(V===16){for(O=S+2;m<O;){if(s===0)break e;s--,d+=r[i++]<<m,m+=8}if(d>>>=S,m-=S,e.have===0){n.msg="invalid bit length repeat",e.mode=Un;break}re=e.lens[e.have-1],p=3+(d&3),d>>>=2,m-=2}else if(V===17){for(O=S+3;m<O;){if(s===0)break e;s--,d+=r[i++]<<m,m+=8}d>>>=S,m-=S,re=0,p=3+(d&7),d>>>=3,m-=3}else{for(O=S+7;m<O;){if(s===0)break e;s--,d+=r[i++]<<m,m+=8}d>>>=S,m-=S,re=0,p=11+(d&127),d>>>=7,m-=7}if(e.have+p>e.nlen+e.ndist){n.msg="invalid bit length repeat",e.mode=Un;break}for(;p--;)e.lens[e.have++]=re}}if(e.mode===Un)break;if(e.lens[256]===0){n.msg="invalid code -- missing end-of-block",e.mode=Un;break}if(e.lenbits=9,de={bits:e.lenbits},Q=As(Vp,e.lens,0,e.nlen,e.lencode,0,e.work,de),e.lenbits=de.bits,Q){n.msg="invalid literal/lengths set",e.mode=Un;break}if(e.distbits=6,e.distcode=e.distdyn,de={bits:e.distbits},Q=As(Kp,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,de),e.distbits=de.bits,Q){n.msg="invalid distances set",e.mode=Un;break}if(e.mode=ll,t===sl)break e;case ll:e.mode=cl;case cl:if(s>=6&&u>=258){n.next_out=c,n.avail_out=u,n.next_in=i,n.avail_in=s,e.hold=d,e.bits=m,Lv(n,x),c=n.next_out,a=n.output,u=n.avail_out,i=n.next_in,r=n.input,s=n.avail_in,d=e.hold,m=e.bits,e.mode===Oa&&(e.back=-1);break}for(e.back=0;C=e.lencode[d&(1<<e.lenbits)-1],S=C>>>24,F=C>>>16&255,V=C&65535,!(S<=m);){if(s===0)break e;s--,d+=r[i++]<<m,m+=8}if(F&&(F&240)===0){for(W=S,be=F,ue=V;C=e.lencode[ue+((d&(1<<W+be)-1)>>W)],S=C>>>24,F=C>>>16&255,V=C&65535,!(W+S<=m);){if(s===0)break e;s--,d+=r[i++]<<m,m+=8}d>>>=W,m-=W,e.back+=W}if(d>>>=S,m-=S,e.back+=S,e.length=V,F===0){e.mode=cd;break}if(F&32){e.back=-1,e.mode=Oa;break}if(F&64){n.msg="invalid literal/length code",e.mode=Un;break}e.extra=F&15,e.mode=ad;case ad:if(e.extra){for(O=e.extra;m<O;){if(s===0)break e;s--,d+=r[i++]<<m,m+=8}e.length+=d&(1<<e.extra)-1,d>>>=e.extra,m-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=od;case od:for(;C=e.distcode[d&(1<<e.distbits)-1],S=C>>>24,F=C>>>16&255,V=C&65535,!(S<=m);){if(s===0)break e;s--,d+=r[i++]<<m,m+=8}if((F&240)===0){for(W=S,be=F,ue=V;C=e.distcode[ue+((d&(1<<W+be)-1)>>W)],S=C>>>24,F=C>>>16&255,V=C&65535,!(W+S<=m);){if(s===0)break e;s--,d+=r[i++]<<m,m+=8}d>>>=W,m-=W,e.back+=W}if(d>>>=S,m-=S,e.back+=S,F&64){n.msg="invalid distance code",e.mode=Un;break}e.offset=V,e.extra=F&15,e.mode=sd;case sd:if(e.extra){for(O=e.extra;m<O;){if(s===0)break e;s--,d+=r[i++]<<m,m+=8}e.offset+=d&(1<<e.extra)-1,d>>>=e.extra,m-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){n.msg="invalid distance too far back",e.mode=Un;break}e.mode=ld;case ld:if(u===0)break e;if(p=x-u,e.offset>p){if(p=e.offset-p,p>e.whave&&e.sane){n.msg="invalid distance too far back",e.mode=Un;break}p>e.wnext?(p-=e.wnext,L=e.wsize-p):L=e.wnext-p,p>e.length&&(p=e.length),k=e.window}else k=a,L=c-e.offset,p=e.length;p>u&&(p=u),u-=p,e.length-=p;do a[c++]=k[L++];while(--p);e.length===0&&(e.mode=cl);break;case cd:if(u===0)break e;a[c++]=e.length,u--,e.mode=cl;break;case Oc:if(e.wrap){for(;m<32;){if(s===0)break e;s--,d|=r[i++]<<m,m+=8}if(x-=u,n.total_out+=x,e.total+=x,e.wrap&4&&x&&(n.adler=e.check=e.flags?sa(e.check,a,x,c-x):au(e.check,a,x,c-x)),x=u,e.wrap&4&&(e.flags?d:dd(d))!==e.check){n.msg="incorrect data check",e.mode=Un;break}d=0,m=0}e.mode=ud;case ud:if(e.wrap&&e.flags){for(;m<32;){if(s===0)break e;s--,d+=r[i++]<<m,m+=8}if(e.wrap&4&&d!==(e.total&4294967295)){n.msg="incorrect length check",e.mode=Un;break}d=0,m=0}e.mode=fd;case fd:Q=Rv;break e;case Un:Q=$p;break e;case Yp:return Gp;case Xp:default:return Li}return n.next_out=c,n.avail_out=u,n.next_in=i,n.avail_in=s,e.hold=d,e.bits=m,(e.wsize||x!==n.avail_out&&e.mode<Un&&(e.mode<Oc||t!==Hf))&&t1(n,n.output,n.next_out,x-n.avail_out),b-=n.avail_in,x-=n.avail_out,n.total_in+=b,n.total_out+=x,e.total+=x,e.wrap&4&&x&&(n.adler=e.check=e.flags?sa(e.check,a,x,n.next_out-x):au(e.check,a,x,n.next_out-x)),n.data_type=e.bits+(e.last?64:0)+(e.mode===Oa?128:0)+(e.mode===ll||e.mode===Tc?256:0),(b===0&&x===0||t===Hf)&&Q===Do&&(Q=Mv),Q},Kv=n=>{if(Bo(n))return Li;let t=n.state;return t.window&&(t.window=null),n.state=null,Do},$v=(n,t)=>{if(Bo(n))return Li;const e=n.state;return(e.wrap&2)===0?Li:(e.head=t,t.done=!1,Do)},Gv=(n,t)=>{const e=t.length;let r,a,i;return Bo(n)||(r=n.state,r.wrap!==0&&r.mode!==Il)?Li:r.mode===Il&&(a=1,a=au(a,t,e,0),a!==r.check)?$p:(i=t1(n,t,e,e),i?(r.mode=Yp,Gp):(r.havedict=1,Do))};var Yv=Zp,Xv=Qp,Jv=Jp,Zv=Hv,Qv=e1,eb=Vv,tb=Kv,nb=$v,rb=Gv,ib="pako inflate (from Nodeca project)",Ra={inflateReset:Yv,inflateReset2:Xv,inflateResetKeep:Jv,inflateInit:Zv,inflateInit2:Qv,inflate:eb,inflateEnd:tb,inflateGetHeader:nb,inflateSetDictionary:rb,inflateInfo:ib};function ab(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var ob=ab;const n1=Object.prototype.toString,{Z_NO_FLUSH:sb,Z_FINISH:lb,Z_OK:Os,Z_STREAM_END:Mc,Z_NEED_DICT:Fc,Z_STREAM_ERROR:cb,Z_DATA_ERROR:pd,Z_MEM_ERROR:ub}=Up;function zs(n){this.options=Hp.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(n&&n.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Av,this.strm.avail_out=0;let e=Ra.inflateInit2(this.strm,t.windowBits);if(e!==Os)throw new Error(ou[e]);if(this.header=new ob,Ra.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=su.string2buf(t.dictionary):n1.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(e=Ra.inflateSetDictionary(this.strm,t.dictionary),e!==Os)))throw new Error(ou[e])}zs.prototype.push=function(n,t){const e=this.strm,r=this.options.chunkSize,a=this.options.dictionary;let i,c,s;if(this.ended)return!1;for(t===~~t?c=t:c=t===!0?lb:sb,n1.call(n)==="[object ArrayBuffer]"?e.input=new Uint8Array(n):e.input=n,e.next_in=0,e.avail_in=e.input.length;;){for(e.avail_out===0&&(e.output=new Uint8Array(r),e.next_out=0,e.avail_out=r),i=Ra.inflate(e,c),i===Fc&&a&&(i=Ra.inflateSetDictionary(e,a),i===Os?i=Ra.inflate(e,c):i===pd&&(i=Fc));e.avail_in>0&&i===Mc&&e.state.wrap>0&&n[e.next_in]!==0;)Ra.inflateReset(e),i=Ra.inflate(e,c);switch(i){case cb:case pd:case Fc:case ub:return this.onEnd(i),this.ended=!0,!1}if(s=e.avail_out,e.next_out&&(e.avail_out===0||i===Mc))if(this.options.to==="string"){let u=su.utf8border(e.output,e.next_out),d=e.next_out-u,m=su.buf2string(e.output,u);e.next_out=d,e.avail_out=r-d,d&&e.output.set(e.output.subarray(u,u+d),0),this.onData(m)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(!(i===Os&&s===0)){if(i===Mc)return i=Ra.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(e.avail_in===0)break}}return!0};zs.prototype.onData=function(n){this.chunks.push(n)};zs.prototype.onEnd=function(n){n===Os&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Hp.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function fb(n,t){const e=new zs(t);if(e.push(n),e.err)throw e.msg||ou[e.err];return e.result}var db=zs,hb=fb,pb={Inflate:db,inflate:hb};const{Inflate:mb,inflate:gb}=pb;var md=mb,vb=gb;const r1=[];for(let n=0;n<256;n++){let t=n;for(let e=0;e<8;e++)t&1?t=3988292384^t>>>1:t=t>>>1;r1[n]=t}const gd=4294967295;function bb(n,t,e){let r=n;for(let a=0;a<e;a++)r=r1[(r^t[a])&255]^r>>>8;return r}function yb(n,t){return(bb(gd,n,t)^gd)>>>0}function vd(n,t,e){const r=n.readUint32(),a=yb(new Uint8Array(n.buffer,n.byteOffset+n.offset-t-4,t),t);if(a!==r)throw new Error(`CRC mismatch for chunk ${e}. Expected ${r}, found ${a}`)}function i1(n,t,e){for(let r=0;r<e;r++)t[r]=n[r]}function a1(n,t,e,r){let a=0;for(;a<r;a++)t[a]=n[a];for(;a<e;a++)t[a]=n[a]+t[a-r]&255}function o1(n,t,e,r){let a=0;if(e.length===0)for(;a<r;a++)t[a]=n[a];else for(;a<r;a++)t[a]=n[a]+e[a]&255}function s1(n,t,e,r,a){let i=0;if(e.length===0){for(;i<a;i++)t[i]=n[i];for(;i<r;i++)t[i]=n[i]+(t[i-a]>>1)&255}else{for(;i<a;i++)t[i]=n[i]+(e[i]>>1)&255;for(;i<r;i++)t[i]=n[i]+(t[i-a]+e[i]>>1)&255}}function l1(n,t,e,r,a){let i=0;if(e.length===0){for(;i<a;i++)t[i]=n[i];for(;i<r;i++)t[i]=n[i]+t[i-a]&255}else{for(;i<a;i++)t[i]=n[i]+e[i]&255;for(;i<r;i++)t[i]=n[i]+wb(t[i-a],e[i],e[i-a])&255}}function wb(n,t,e){const r=n+t-e,a=Math.abs(r-n),i=Math.abs(r-t),c=Math.abs(r-e);return a<=i&&a<=c?n:i<=c?t:e}function xb(n,t,e,r,a,i){switch(n){case 0:i1(t,e,a);break;case 1:a1(t,e,a,i);break;case 2:o1(t,e,r,a);break;case 3:s1(t,e,r,a,i);break;case 4:l1(t,e,r,a,i);break;default:throw new Error(`Unsupported filter: ${n}`)}}const _b=new Uint16Array([255]),Nb=new Uint8Array(_b.buffer),Sb=Nb[0]===255;function Ab(n){const{data:t,width:e,height:r,channels:a,depth:i}=n,c=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],s=Math.ceil(i/8)*a,u=new Uint8Array(r*e*s);let d=0;for(let m=0;m<7;m++){const b=c[m],x=Math.ceil((e-b.x)/b.xStep),p=Math.ceil((r-b.y)/b.yStep);if(x<=0||p<=0)continue;const L=x*s,k=new Uint8Array(L);for(let C=0;C<p;C++){const S=t[d++],F=t.subarray(d,d+L);d+=L;const V=new Uint8Array(L);xb(S,F,V,k,L,s),k.set(V);for(let W=0;W<x;W++){const be=b.x+W*b.xStep,ue=b.y+C*b.yStep;if(!(be>=e||ue>=r))for(let re=0;re<s;re++)u[(ue*e+be)*s+re]=V[W*s+re]}}}if(i===16){const m=new Uint16Array(u.buffer);if(Sb)for(let b=0;b<m.length;b++)m[b]=kb(m[b]);return m}else return u}function kb(n){return(n&255)<<8|n>>8&255}const Lb=new Uint16Array([255]),Pb=new Uint8Array(Lb.buffer),jb=Pb[0]===255,Cb=new Uint8Array(0);function bd(n){const{data:t,width:e,height:r,channels:a,depth:i}=n,c=Math.ceil(i/8)*a,s=Math.ceil(i/8*a*e),u=new Uint8Array(r*s);let d=Cb,m=0,b,x;for(let p=0;p<r;p++){switch(b=t.subarray(m+1,m+1+s),x=u.subarray(p*s,(p+1)*s),t[m]){case 0:i1(b,x,s);break;case 1:a1(b,x,s,c);break;case 2:o1(b,x,d,s);break;case 3:s1(b,x,d,s,c);break;case 4:l1(b,x,d,s,c);break;default:throw new Error(`Unsupported filter: ${t[m]}`)}d=x,m+=s+1}if(i===16){const p=new Uint16Array(u.buffer);if(jb)for(let L=0;L<p.length;L++)p[L]=Eb(p[L]);return p}else return u}function Eb(n){return(n&255)<<8|n>>8&255}const gl=Uint8Array.of(137,80,78,71,13,10,26,10);function yd(n){if(!Ib(n.readBytes(gl.length)))throw new Error("wrong PNG signature")}function Ib(n){if(n.length<gl.length)return!1;for(let t=0;t<gl.length;t++)if(n[t]!==gl[t])return!1;return!0}const Tb="tEXt",Ob=0,c1=new TextDecoder("latin1");function Rb(n){if(Mb(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const Db=/^[\u0000-\u00FF]*$/;function Mb(n){if(!Db.test(n))throw new Error("invalid latin1 text")}function Fb(n,t,e){const r=u1(t);n[r]=Bb(t,e-r.length-1)}function u1(n){for(n.mark();n.readByte()!==Ob;);const t=n.offset;n.reset();const e=c1.decode(n.readBytes(t-n.offset-1));return n.skip(1),Rb(e),e}function Bb(n,t){return c1.decode(n.readBytes(t))}const mi={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Bc={UNKNOWN:-1,DEFLATE:0},wd={UNKNOWN:-1,ADAPTIVE:0},zc={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},ul={NONE:0,BACKGROUND:1,PREVIOUS:2},qc={SOURCE:0,OVER:1};class zb extends Eu{constructor(e,r={}){super(e);pn(this,"_checkCrc");pn(this,"_inflator");pn(this,"_png");pn(this,"_apng");pn(this,"_end");pn(this,"_hasPalette");pn(this,"_palette");pn(this,"_hasTransparency");pn(this,"_transparency");pn(this,"_compressionMethod");pn(this,"_filterMethod");pn(this,"_interlaceMethod");pn(this,"_colorType");pn(this,"_isAnimated");pn(this,"_numberOfFrames");pn(this,"_numberOfPlays");pn(this,"_frames");pn(this,"_writingDataChunks");const{checkCrc:a=!1}=r;this._checkCrc=a,this._inflator=new md,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Bc.UNKNOWN,this._filterMethod=wd.UNKNOWN,this._interlaceMethod=zc.UNKNOWN,this._colorType=mi.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(yd(this);!this._end;){const e=this.readUint32(),r=this.readChars(4);this.decodeChunk(e,r)}return this.decodeImage(),this._png}decodeApng(){for(yd(this);!this._end;){const e=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(e,r)}return this.decodeApngImage(),this._apng}decodeChunk(e,r){const a=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case Tb:Fb(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-a!==e)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?vd(this,e+4,r):this.skip(4)}decodeApngChunk(e,r){const a=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,r),this.offset=a+e;break}if(this.offset-a!==e)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?vd(this,e+4,r):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=qb(this.readUint8());const r=this.readUint8();this._colorType=r;let a;switch(r){case mi.GREYSCALE:a=1;break;case mi.TRUECOLOUR:a=3;break;case mi.INDEXED_COLOUR:a=1;break;case mi.GREYSCALE_ALPHA:a=2;break;case mi.TRUECOLOUR_ALPHA:a=4;break;case mi.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==Bc.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const r=e/3;this._hasPalette=!0;const a=[];this._palette=a;for(let i=0;i<r;i++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const r=e,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let r=e,a=this.offset+this.byteOffset;if(a+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,a,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case mi.GREYSCALE:case mi.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let r=0;r<e/2;r++)this._transparency[r]=this.readUint16();break}case mi.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let r=0;for(;r<e;r++){const a=this.readByte();this._palette[r].push(a)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case mi.UNKNOWN:case mi.GREYSCALE_ALPHA:case mi.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const r=u1(this),a=this.readUint8();if(a!==Bc.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const i=this.readBytes(e-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:vb(i)}}decodepHYs(){const e=this.readUint32(),r=this.readUint32(),a=this.readByte();this._png.resolution={x:e,y:r,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const r={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(e);if(a){if(a.data=bd({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)r.data=a.data;else{const i=this._apng.frames.at(e-1);this.disposeFrame(a,i,r),this.addFrameDataToCanvas(r,a)}this._apng.frames.push(r)}}return this._apng}disposeFrame(e,r,a){switch(e.disposeOp){case ul.NONE:break;case ul.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let c=0;c<this._png.width;c++){const s=(i*e.width+c)*this._png.channels;for(let u=0;u<this._png.channels;u++)a.data[s+u]=0}break;case ul.PREVIOUS:a.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,r){const a=1<<this._png.depth,i=(c,s)=>{const u=((c+r.yOffset)*this._png.width+r.xOffset+s)*this._png.channels,d=(c*r.width+s)*this._png.channels;return{index:u,frameIndex:d}};switch(r.blendOp){case qc.SOURCE:for(let c=0;c<r.height;c++)for(let s=0;s<r.width;s++){const{index:u,frameIndex:d}=i(c,s);for(let m=0;m<this._png.channels;m++)e.data[u+m]=r.data[d+m]}break;case qc.OVER:for(let c=0;c<r.height;c++)for(let s=0;s<r.width;s++){const{index:u,frameIndex:d}=i(c,s);for(let m=0;m<this._png.channels;m++){const b=r.data[d+this._png.channels-1]/a,x=m%(this._png.channels-1)===0?1:r.data[d+m],p=Math.floor(b*x+(1-b)*e.data[u+m]);e.data[u+m]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==wd.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===zc.NO_INTERLACE)this._png.data=bd({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===zc.ADAM7)this._png.data=Ab({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,r=this._frames.at(-1);r?r.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:ul.NONE,blendOp:qc.SOURCE,data:e}),this._inflator=new md,this._writingDataChunks=!1}}function qb(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var xd;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(xd||(xd={}));function Ub(n,t){return new zb(n,t).decode()}var Ut=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Uc(){Ut.console&&typeof Ut.console.log=="function"&&Ut.console.log.apply(Ut.console,arguments)}var Ln={log:Uc,warn:function(n){Ut.console&&(typeof Ut.console.warn=="function"?Ut.console.warn.apply(Ut.console,arguments):Uc.call(null,arguments))},error:function(n){Ut.console&&(typeof Ut.console.error=="function"?Ut.console.error.apply(Ut.console,arguments):Uc(n))}};function Hc(n,t,e){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){Po(r.response,t,e)},r.onerror=function(){Ln.error("could not download file")},r.send()}function _d(n){var t=new XMLHttpRequest;t.open("HEAD",n,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function fl(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(t)}}var Po=Ut.saveAs||((typeof window>"u"?"undefined":_n(window))!=="object"||window!==Ut?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,t,e){var r=Ut.URL||Ut.webkitURL,a=document.createElement("a");t=t||n.name||"download",a.download=t,a.rel="noopener",typeof n=="string"?(a.href=n,a.origin!==location.origin?_d(a.href)?Hc(n,t,e):fl(a,a.target="_blank"):fl(a)):(a.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(a.href)},4e4),setTimeout(function(){fl(a)},0))}:"msSaveOrOpenBlob"in navigator?function(n,t,e){if(t=t||n.name||"download",typeof n=="string")if(_d(n))Hc(n,t,e);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){fl(r)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:_n(i)!=="object"&&(Ln.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(n,e),t)}:function(n,t,e,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return Hc(n,t,e);var a=n.type==="application/octet-stream",i=/constructor/i.test(Ut.HTMLElement)||Ut.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||a&&i)&&(typeof FileReader>"u"?"undefined":_n(FileReader))==="object"){var s=new FileReader;s.onloadend=function(){var m=s.result;m=c?m:m.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=m:location=m,r=null},s.readAsDataURL(n)}else{var u=Ut.URL||Ut.webkitURL,d=u.createObjectURL(n);r?r.location=d:location.href=d,r=null,setTimeout(function(){u.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function f1(n){var t;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(s){return[parseInt(s[1]),parseInt(s[2]),parseInt(s[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(s){return[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(s){return[parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16),parseInt(s[3]+s[3],16)]}}],r=0;r<e.length;r++){var a=e[r].re,i=e[r].process,c=a.exec(n);c&&(t=i(c),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var s=this.r.toString(16),u=this.g.toString(16),d=this.b.toString(16);return s.length==1&&(s="0"+s),u.length==1&&(u="0"+u),d.length==1&&(d="0"+d),"#"+s+u+d}}var vl=Ut.atob.bind(Ut),Nd=Ut.btoa.bind(Ut);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Wc(n,t){var e=n[0],r=n[1],a=n[2],i=n[3];e=Or(e,r,a,i,t[0],7,-680876936),i=Or(i,e,r,a,t[1],12,-389564586),a=Or(a,i,e,r,t[2],17,606105819),r=Or(r,a,i,e,t[3],22,-1044525330),e=Or(e,r,a,i,t[4],7,-176418897),i=Or(i,e,r,a,t[5],12,1200080426),a=Or(a,i,e,r,t[6],17,-1473231341),r=Or(r,a,i,e,t[7],22,-45705983),e=Or(e,r,a,i,t[8],7,1770035416),i=Or(i,e,r,a,t[9],12,-1958414417),a=Or(a,i,e,r,t[10],17,-42063),r=Or(r,a,i,e,t[11],22,-1990404162),e=Or(e,r,a,i,t[12],7,1804603682),i=Or(i,e,r,a,t[13],12,-40341101),a=Or(a,i,e,r,t[14],17,-1502002290),e=Rr(e,r=Or(r,a,i,e,t[15],22,1236535329),a,i,t[1],5,-165796510),i=Rr(i,e,r,a,t[6],9,-1069501632),a=Rr(a,i,e,r,t[11],14,643717713),r=Rr(r,a,i,e,t[0],20,-373897302),e=Rr(e,r,a,i,t[5],5,-701558691),i=Rr(i,e,r,a,t[10],9,38016083),a=Rr(a,i,e,r,t[15],14,-660478335),r=Rr(r,a,i,e,t[4],20,-405537848),e=Rr(e,r,a,i,t[9],5,568446438),i=Rr(i,e,r,a,t[14],9,-1019803690),a=Rr(a,i,e,r,t[3],14,-187363961),r=Rr(r,a,i,e,t[8],20,1163531501),e=Rr(e,r,a,i,t[13],5,-1444681467),i=Rr(i,e,r,a,t[2],9,-51403784),a=Rr(a,i,e,r,t[7],14,1735328473),e=Dr(e,r=Rr(r,a,i,e,t[12],20,-1926607734),a,i,t[5],4,-378558),i=Dr(i,e,r,a,t[8],11,-2022574463),a=Dr(a,i,e,r,t[11],16,1839030562),r=Dr(r,a,i,e,t[14],23,-35309556),e=Dr(e,r,a,i,t[1],4,-1530992060),i=Dr(i,e,r,a,t[4],11,1272893353),a=Dr(a,i,e,r,t[7],16,-155497632),r=Dr(r,a,i,e,t[10],23,-1094730640),e=Dr(e,r,a,i,t[13],4,681279174),i=Dr(i,e,r,a,t[0],11,-358537222),a=Dr(a,i,e,r,t[3],16,-722521979),r=Dr(r,a,i,e,t[6],23,76029189),e=Dr(e,r,a,i,t[9],4,-640364487),i=Dr(i,e,r,a,t[12],11,-421815835),a=Dr(a,i,e,r,t[15],16,530742520),e=Mr(e,r=Dr(r,a,i,e,t[2],23,-995338651),a,i,t[0],6,-198630844),i=Mr(i,e,r,a,t[7],10,1126891415),a=Mr(a,i,e,r,t[14],15,-1416354905),r=Mr(r,a,i,e,t[5],21,-57434055),e=Mr(e,r,a,i,t[12],6,1700485571),i=Mr(i,e,r,a,t[3],10,-1894986606),a=Mr(a,i,e,r,t[10],15,-1051523),r=Mr(r,a,i,e,t[1],21,-2054922799),e=Mr(e,r,a,i,t[8],6,1873313359),i=Mr(i,e,r,a,t[15],10,-30611744),a=Mr(a,i,e,r,t[6],15,-1560198380),r=Mr(r,a,i,e,t[13],21,1309151649),e=Mr(e,r,a,i,t[4],6,-145523070),i=Mr(i,e,r,a,t[11],10,-1120210379),a=Mr(a,i,e,r,t[2],15,718787259),r=Mr(r,a,i,e,t[9],21,-343485551),n[0]=ro(e,n[0]),n[1]=ro(r,n[1]),n[2]=ro(a,n[2]),n[3]=ro(i,n[3])}function tc(n,t,e,r,a,i){return t=ro(ro(t,n),ro(r,i)),ro(t<<a|t>>>32-a,e)}function Or(n,t,e,r,a,i,c){return tc(t&e|~t&r,n,t,a,i,c)}function Rr(n,t,e,r,a,i,c){return tc(t&r|e&~r,n,t,a,i,c)}function Dr(n,t,e,r,a,i,c){return tc(t^e^r,n,t,a,i,c)}function Mr(n,t,e,r,a,i,c){return tc(e^(t|~r),n,t,a,i,c)}function d1(n){var t,e=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=n.length;t+=64)Wc(r,Hb(n.substring(t-64,t)));n=n.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<n.length;t++)a[t>>2]|=n.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(Wc(r,a),t=0;t<16;t++)a[t]=0;return a[14]=8*e,Wc(r,a),r}function Hb(n){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=n.charCodeAt(t)+(n.charCodeAt(t+1)<<8)+(n.charCodeAt(t+2)<<16)+(n.charCodeAt(t+3)<<24);return e}var Sd="0123456789abcdef".split("");function Wb(n){for(var t="",e=0;e<4;e++)t+=Sd[n>>8*e+4&15]+Sd[n>>8*e&15];return t}function Vb(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function lu(n){return d1(n).map(Vb).join("")}var Kb=function(n){for(var t=0;t<n.length;t++)n[t]=Wb(n[t]);return n.join("")}(d1("hello"))!="5d41402abc4b2a76b9719d911017c592";function ro(n,t){if(Kb){var e=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(e>>16)<<16|65535&e}return n+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function cu(n,t){var e,r,a,i;if(n!==e){for(var c=(a=n,i=1+(256/n.length|0),new Array(i+1).join(a)),s=[],u=0;u<256;u++)s[u]=u;var d=0;for(u=0;u<256;u++){var m=s[u];d=(d+m+c.charCodeAt(u))%256,s[u]=s[d],s[d]=m}e=n,r=s}else s=r;var b=t.length,x=0,p=0,L="";for(u=0;u<b;u++)p=(p+(m=s[x=(x+1)%256]))%256,s[x]=s[p],s[p]=m,c=s[(s[x]+s[p])%256],L+=String.fromCharCode(t.charCodeAt(u)^c);return L}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Ad={print:4,modify:8,copy:16,"annot-forms":32};function Jo(n,t,e,r){this.v=1,this.r=2;var a=192;n.forEach(function(s){if(Ad.perm!==void 0)throw new Error("Invalid permission: "+s);a+=Ad[s]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(t+this.padding).substr(0,32),c=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,c),this.P=-(1+(255^a)),this.encryptionKey=lu(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=cu(this.encryptionKey,this.padding)}function Zo(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var t="",e=n.length,r=0;r<e;r++){var a=n.charCodeAt(r);t+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):n[r]}return t}function kd(n){if(_n(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,r,a){if(a=a||!1,typeof e!="string"||typeof r!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var i=Math.random().toString(35);return t[e][i]=[r,!!a],i},this.unsubscribe=function(e){for(var r in t)if(t[r][e])return delete t[r][e],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var r=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[e]){var c=t[e][i];try{c[0].apply(n,r)}catch(s){Ut.console&&Ln.error("jsPDF PubSub Error",s.message,s)}c[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Tl(n){if(!(this instanceof Tl))return new Tl(n);var t="opacity,stroke-opacity".split(",");for(var e in n)n.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=n[e]);this.id="",this.objectNumber=-1}function h1(n,t){this.gState=n,this.matrix=t,this.id="",this.objectNumber=-1}function jo(n,t,e,r,a){if(!(this instanceof jo))return new jo(n,t,e,r,a);this.type=n==="axial"?2:3,this.coords=t,this.colors=e,h1.call(this,r,a)}function es(n,t,e,r,a){if(!(this instanceof es))return new es(n,t,e,r,a);this.boundingBox=n,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,h1.call(this,r,a)}function Pt(n){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],a=arguments[2],i=arguments[3],c=[],s=1,u=16,d="S",m=null;_n(n=n||{})==="object"&&(e=n.orientation,r=n.unit||r,a=n.format||a,i=n.compress||n.compressPdf||i,(m=n.encryption||null)!==null&&(m.userPassword=m.userPassword||"",m.ownerPassword=m.ownerPassword||"",m.userPermissions=m.userPermissions||[]),s=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(t=n.precision),n.floatPrecision!==void 0&&(u=n.floatPrecision),d=n.defaultPathOperation||"S"),c=n.filters||(i===!0?["FlateEncode"]:c),r=r||"mm",e=(""+(e||"P")).toLowerCase();var b=n.putOnlyUsedFonts||!1,x={},p={internal:{},__private__:{}};p.__private__.PubSub=kd;var L="1.3",k=p.__private__.getPdfVersion=function(){return L};p.__private__.setPdfVersion=function(v){L=v};var C={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return C};var S=p.__private__.getPageFormat=function(v){return C[v]};a=a||"a4";var F="compat",V="advanced",W=F;function be(){this.saveGraphicsState(),J(new lt(At,0,0,-At,0,_i()*At).toString()+" cm"),this.setFontSize(this.getFontSize()/At),d="n",W=V}function ue(){this.restoreGraphicsState(),d="S",W=F}var re=p.__private__.combineFontStyleAndFontWeight=function(v,P){if(v=="bold"&&P=="normal"||v=="bold"&&P==400||v=="normal"&&P=="italic"||v=="bold"&&P=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return P&&(v=P==400||P==="normal"?v==="italic"?"italic":"normal":P!=700&&P!=="bold"||v!=="normal"?(P==700?"bold":P)+""+v:"bold"),v};p.advancedAPI=function(v){var P=W===F;return P&&be.call(this),typeof v!="function"||(v(this),P&&ue.call(this)),this},p.compatAPI=function(v){var P=W===V;return P&&ue.call(this),typeof v!="function"||(v(this),P&&be.call(this)),this},p.isAdvancedAPI=function(){return W===V};var Q,H=function(v){if(W!==V)throw new Error(v+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},de=p.roundToPrecision=p.__private__.roundToPrecision=function(v,P){var $=t||P;if(isNaN(v)||isNaN($))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return v.toFixed($).replace(/0+$/,"")};Q=p.hpf=p.__private__.hpf=typeof u=="number"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return de(v,u)}:u==="smart"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return de(v,v>-1&&v<1?16:5)}:function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return de(v,16)};var O=p.f2=p.__private__.f2=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f2");return de(v,2)},R=p.__private__.f3=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f3");return de(v,3)},ee=p.scale=p.__private__.scale=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.scale");return W===F?v*At:W===V?v:void 0},ne=function(v){return ee(function(P){return W===F?_i()-P:W===V?P:void 0}(v))};p.__private__.setPrecision=p.setPrecision=function(v){typeof parseInt(v,10)=="number"&&(t=parseInt(v,10))};var Se,we="00000000000000000000000000000000",je=p.__private__.getFileId=function(){return we},Ne=p.__private__.setFileId=function(v){return we=v!==void 0&&/^[a-fA-F0-9]{32}$/.test(v)?v.toUpperCase():we.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),m!==null&&(On=new Jo(m.userPermissions,m.userPassword,m.ownerPassword,we)),we};p.setFileId=function(v){return Ne(v),this},p.getFileId=function(){return je()};var Te=p.__private__.convertDateToPDFDate=function(v){var P=v.getTimezoneOffset(),$=P<0?"+":"-",ce=Math.floor(Math.abs(P/60)),Ae=Math.abs(P%60),qe=[$,q(ce),"'",q(Ae),"'"].join("");return["D:",v.getFullYear(),q(v.getMonth()+1),q(v.getDate()),q(v.getHours()),q(v.getMinutes()),q(v.getSeconds()),qe].join("")},Ve=p.__private__.convertPDFDateToDate=function(v){var P=parseInt(v.substr(2,4),10),$=parseInt(v.substr(6,2),10)-1,ce=parseInt(v.substr(8,2),10),Ae=parseInt(v.substr(10,2),10),qe=parseInt(v.substr(12,2),10),He=parseInt(v.substr(14,2),10);return new Date(P,$,ce,Ae,qe,He,0)},Be=p.__private__.setCreationDate=function(v){var P;if(v===void 0&&(v=new Date),v instanceof Date)P=Te(v);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(v))throw new Error("Invalid argument passed to jsPDF.setCreationDate");P=v}return Se=P},T=p.__private__.getCreationDate=function(v){var P=Se;return v==="jsDate"&&(P=Ve(Se)),P};p.setCreationDate=function(v){return Be(v),this},p.getCreationDate=function(v){return T(v)};var D,q=p.__private__.padd2=function(v){return("0"+parseInt(v)).slice(-2)},X=p.__private__.padd2Hex=function(v){return("00"+(v=v.toString())).substr(v.length)},te=0,Z=[],le=[],ae=0,Le=[],De=[],Re=!1,Ke=le;p.__private__.setCustomOutputDestination=function(v){Re=!0,Ke=v};var Ie=function(v){Re||(Ke=v)};p.__private__.resetCustomOutputDestination=function(){Re=!1,Ke=le};var J=p.__private__.out=function(v){return v=v.toString(),ae+=v.length+1,Ke.push(v),Ke},Ot=p.__private__.write=function(v){return J(arguments.length===1?v.toString():Array.prototype.join.call(arguments," "))},St=p.__private__.getArrayBuffer=function(v){for(var P=v.length,$=new ArrayBuffer(P),ce=new Uint8Array($);P--;)ce[P]=v.charCodeAt(P);return $},ut=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return ut};var $e=n.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(v){return $e=W===V?v/At:v,this};var gt,Qe=p.__private__.getFontSize=p.getFontSize=function(){return W===F?$e:$e*At},xt=n.R2L||!1;p.__private__.setR2L=p.setR2L=function(v){return xt=v,this},p.__private__.getR2L=p.getR2L=function(){return xt};var ft,an=p.__private__.setZoomMode=function(v){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(v))gt=v;else if(isNaN(v)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(v)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+v+'" is not recognized.');gt=v}else gt=parseInt(v,10)};p.__private__.getZoomMode=function(){return gt};var Tt,Ct=p.__private__.setPageMode=function(v){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(v)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+v+'" is not recognized.');ft=v};p.__private__.getPageMode=function(){return ft};var Qt=p.__private__.setLayoutMode=function(v){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(v)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+v+'" is not recognized.');Tt=v};p.__private__.getLayoutMode=function(){return Tt},p.__private__.setDisplayMode=p.setDisplayMode=function(v,P,$){return an(v),Qt(P),Ct($),this};var Rt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(v){if(Object.keys(Rt).indexOf(v)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Rt[v]},p.__private__.getDocumentProperties=function(){return Rt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(v){for(var P in Rt)Rt.hasOwnProperty(P)&&v[P]&&(Rt[P]=v[P]);return this},p.__private__.setDocumentProperty=function(v,P){if(Object.keys(Rt).indexOf(v)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Rt[v]=P};var ht,At,wt,Yt,en,vt={},Et={},tt=[],kt={},zt={},jt={},Xe={},In=null,dn=0,It=[],st=new kd(p),vn=n.hotfixes||[],on={},Tn={},Kn=[],lt=function v(P,$,ce,Ae,qe,He){if(!(this instanceof v))return new v(P,$,ce,Ae,qe,He);isNaN(P)&&(P=1),isNaN($)&&($=0),isNaN(ce)&&(ce=0),isNaN(Ae)&&(Ae=1),isNaN(qe)&&(qe=0),isNaN(He)&&(He=0),this._matrix=[P,$,ce,Ae,qe,He]};Object.defineProperty(lt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(lt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(lt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(lt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(lt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(lt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(lt.prototype,"a",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(lt.prototype,"b",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(lt.prototype,"c",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(lt.prototype,"d",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(lt.prototype,"e",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(lt.prototype,"f",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(lt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(lt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(lt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(lt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),lt.prototype.join=function(v){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Q).join(v)},lt.prototype.multiply=function(v){var P=v.sx*this.sx+v.shy*this.shx,$=v.sx*this.shy+v.shy*this.sy,ce=v.shx*this.sx+v.sy*this.shx,Ae=v.shx*this.shy+v.sy*this.sy,qe=v.tx*this.sx+v.ty*this.shx+this.tx,He=v.tx*this.shy+v.ty*this.sy+this.ty;return new lt(P,$,ce,Ae,qe,He)},lt.prototype.decompose=function(){var v=this.sx,P=this.shy,$=this.shx,ce=this.sy,Ae=this.tx,qe=this.ty,He=Math.sqrt(v*v+P*P),dt=(v/=He)*$+(P/=He)*ce;$-=v*dt,ce-=P*dt;var pt=Math.sqrt($*$+ce*ce);return dt/=pt,v*(ce/=pt)<P*($/=pt)&&(v=-v,P=-P,dt=-dt,He=-He),{scale:new lt(He,0,0,pt,0,0),translate:new lt(1,0,0,1,Ae,qe),rotate:new lt(v,P,-P,v,0,0),skew:new lt(1,0,dt,1,0,0)}},lt.prototype.toString=function(v){return this.join(" ")},lt.prototype.inversed=function(){var v=this.sx,P=this.shy,$=this.shx,ce=this.sy,Ae=this.tx,qe=this.ty,He=1/(v*ce-P*$),dt=ce*He,pt=-P*He,Mt=-$*He,Ft=v*He;return new lt(dt,pt,Mt,Ft,-dt*Ae-Mt*qe,-pt*Ae-Ft*qe)},lt.prototype.applyToPoint=function(v){var P=v.x*this.sx+v.y*this.shx+this.tx,$=v.x*this.shy+v.y*this.sy+this.ty;return new wi(P,$)},lt.prototype.applyToRectangle=function(v){var P=this.applyToPoint(v),$=this.applyToPoint(new wi(v.x+v.w,v.y+v.h));return new na(P.x,P.y,$.x-P.x,$.y-P.y)},lt.prototype.clone=function(){var v=this.sx,P=this.shy,$=this.shx,ce=this.sy,Ae=this.tx,qe=this.ty;return new lt(v,P,$,ce,Ae,qe)},p.Matrix=lt;var Pn=p.matrixMult=function(v,P){return P.multiply(v)},cr=new lt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=cr;var Dt=function(v,P){if(!zt[v]){var $=(P instanceof jo?"Sh":"P")+(Object.keys(kt).length+1).toString(10);P.id=$,zt[v]=$,kt[$]=P,st.publish("addPattern",P)}};p.ShadingPattern=jo,p.TilingPattern=es,p.addShadingPattern=function(v,P){return H("addShadingPattern()"),Dt(v,P),this},p.beginTilingPattern=function(v){H("beginTilingPattern()"),wo(v.boundingBox[0],v.boundingBox[1],v.boundingBox[2]-v.boundingBox[0],v.boundingBox[3]-v.boundingBox[1],v.matrix)},p.endTilingPattern=function(v,P){H("endTilingPattern()"),P.stream=De[D].join(`
`),Dt(v,P),st.publish("endTilingPattern",P),Kn.pop().restore()};var Kt,Sn=p.__private__.newObject=function(){var v=gn();return Wn(v,!0),v},gn=p.__private__.newObjectDeferred=function(){return te++,Z[te]=function(){return ae},te},Wn=function(v,P){return P=typeof P=="boolean"&&P,Z[v]=ae,P&&J(v+" 0 obj"),v},bi=p.__private__.newAdditionalObject=function(){var v={objId:gn(),content:""};return Le.push(v),v},Xi=gn(),ar=gn(),_r=p.__private__.decodeColorString=function(v){var P=v.split(" ");if(P.length!==2||P[1]!=="g"&&P[1]!=="G")P.length!==5||P[4]!=="k"&&P[4]!=="K"||(P=[(1-P[0])*(1-P[3]),(1-P[1])*(1-P[3]),(1-P[2])*(1-P[3]),"r"]);else{var $=parseFloat(P[0]);P=[$,$,$,"r"]}for(var ce="#",Ae=0;Ae<3;Ae++)ce+=("0"+Math.floor(255*parseFloat(P[Ae])).toString(16)).slice(-2);return ce},or=p.__private__.encodeColorString=function(v){var P;typeof v=="string"&&(v={ch1:v});var $=v.ch1,ce=v.ch2,Ae=v.ch3,qe=v.ch4,He=v.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof $=="string"&&$.charAt(0)!=="#"){var dt=new f1($);if(dt.ok)$=dt.toHex();else if(!/^\d*\.?\d*$/.test($))throw new Error('Invalid color "'+$+'" passed to jsPDF.encodeColorString.')}if(typeof $=="string"&&/^#[0-9A-Fa-f]{3}$/.test($)&&($="#"+$[1]+$[1]+$[2]+$[2]+$[3]+$[3]),typeof $=="string"&&/^#[0-9A-Fa-f]{6}$/.test($)){var pt=parseInt($.substr(1),16);$=pt>>16&255,ce=pt>>8&255,Ae=255&pt}if(ce===void 0||qe===void 0&&$===ce&&ce===Ae)P=typeof $=="string"?$+" "+He[0]:v.precision===2?O($/255)+" "+He[0]:R($/255)+" "+He[0];else if(qe===void 0||_n(qe)==="object"){if(qe&&!isNaN(qe.a)&&qe.a===0)return["1.","1.","1.",He[1]].join(" ");P=typeof $=="string"?[$,ce,Ae,He[1]].join(" "):v.precision===2?[O($/255),O(ce/255),O(Ae/255),He[1]].join(" "):[R($/255),R(ce/255),R(Ae/255),He[1]].join(" ")}else P=typeof $=="string"?[$,ce,Ae,qe,He[2]].join(" "):v.precision===2?[O($),O(ce),O(Ae),O(qe),He[2]].join(" "):[R($),R(ce),R(Ae),R(qe),He[2]].join(" ");return P},Cr=p.__private__.getFilters=function(){return c},Wr=p.__private__.putStream=function(v){var P=(v=v||{}).data||"",$=v.filters||Cr(),ce=v.alreadyAppliedFilters||[],Ae=v.addLength1||!1,qe=P.length,He=v.objectId,dt=function(An){return An};if(m!==null&&He===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");m!==null&&(dt=On.encryptor(He,0));var pt={};$===!0&&($=["FlateEncode"]);var Mt=v.additionalKeyValues||[],Ft=(pt=Pt.API.processDataByFilters!==void 0?Pt.API.processDataByFilters(P,$):{data:P,reverseChain:[]}).reverseChain+(Array.isArray(ce)?ce.join(" "):ce.toString());if(pt.data.length!==0&&(Mt.push({key:"Length",value:pt.data.length}),Ae===!0&&Mt.push({key:"Length1",value:qe})),Ft.length!=0)if(Ft.split("/").length-1==1)Mt.push({key:"Filter",value:Ft});else{Mt.push({key:"Filter",value:"["+Ft+"]"});for(var un=0;un<Mt.length;un+=1)if(Mt[un].key==="DecodeParms"){for(var jn=[],Rn=0;Rn<pt.reverseChain.split("/").length-1;Rn+=1)jn.push("null");jn.push(Mt[un].value),Mt[un].value="["+jn.join(" ")+"]"}}J("<<");for(var bn=0;bn<Mt.length;bn++)J("/"+Mt[bn].key+" "+Mt[bn].value);J(">>"),pt.data.length!==0&&(J("stream"),J(dt(pt.data)),J("endstream"))},Er=p.__private__.putPage=function(v){var P=v.number,$=v.data,ce=v.objId,Ae=v.contentsObjId;Wn(ce,!0),J("<</Type /Page"),J("/Parent "+v.rootDictionaryObjId+" 0 R"),J("/Resources "+v.resourceDictionaryObjId+" 0 R"),J("/MediaBox ["+parseFloat(Q(v.mediaBox.bottomLeftX))+" "+parseFloat(Q(v.mediaBox.bottomLeftY))+" "+Q(v.mediaBox.topRightX)+" "+Q(v.mediaBox.topRightY)+"]"),v.cropBox!==null&&J("/CropBox ["+Q(v.cropBox.bottomLeftX)+" "+Q(v.cropBox.bottomLeftY)+" "+Q(v.cropBox.topRightX)+" "+Q(v.cropBox.topRightY)+"]"),v.bleedBox!==null&&J("/BleedBox ["+Q(v.bleedBox.bottomLeftX)+" "+Q(v.bleedBox.bottomLeftY)+" "+Q(v.bleedBox.topRightX)+" "+Q(v.bleedBox.topRightY)+"]"),v.trimBox!==null&&J("/TrimBox ["+Q(v.trimBox.bottomLeftX)+" "+Q(v.trimBox.bottomLeftY)+" "+Q(v.trimBox.topRightX)+" "+Q(v.trimBox.topRightY)+"]"),v.artBox!==null&&J("/ArtBox ["+Q(v.artBox.bottomLeftX)+" "+Q(v.artBox.bottomLeftY)+" "+Q(v.artBox.topRightX)+" "+Q(v.artBox.topRightY)+"]"),typeof v.userUnit=="number"&&v.userUnit!==1&&J("/UserUnit "+v.userUnit),st.publish("putPage",{objId:ce,pageContext:It[P],pageNumber:P,page:$}),J("/Contents "+Ae+" 0 R"),J(">>"),J("endobj");var qe=$.join(`
`);return W===V&&(qe+=`
Q`),Wn(Ae,!0),Wr({data:qe,filters:Cr(),objectId:Ae}),J("endobj"),ce},ei=p.__private__.putPages=function(){var v,P,$=[];for(v=1;v<=dn;v++)It[v].objId=gn(),It[v].contentsObjId=gn();for(v=1;v<=dn;v++)$.push(Er({number:v,data:De[v],objId:It[v].objId,contentsObjId:It[v].contentsObjId,mediaBox:It[v].mediaBox,cropBox:It[v].cropBox,bleedBox:It[v].bleedBox,trimBox:It[v].trimBox,artBox:It[v].artBox,userUnit:It[v].userUnit,rootDictionaryObjId:Xi,resourceDictionaryObjId:ar}));Wn(Xi,!0),J("<</Type /Pages");var ce="/Kids [";for(P=0;P<dn;P++)ce+=$[P]+" 0 R ";J(ce+"]"),J("/Count "+dn),J(">>"),J("endobj"),st.publish("postPutPages")},Fr=function(v){st.publish("putFont",{font:v,out:J,newObject:Sn,putStream:Wr}),v.isAlreadyPutted!==!0&&(v.objectNumber=Sn(),J("<<"),J("/Type /Font"),J("/BaseFont /"+Zo(v.postScriptName)),J("/Subtype /Type1"),typeof v.encoding=="string"&&J("/Encoding /"+v.encoding),J("/FirstChar 32"),J("/LastChar 255"),J(">>"),J("endobj"))},ha=function(v){v.objectNumber=Sn();var P=[];P.push({key:"Type",value:"/XObject"}),P.push({key:"Subtype",value:"/Form"}),P.push({key:"BBox",value:"["+[Q(v.x),Q(v.y),Q(v.x+v.width),Q(v.y+v.height)].join(" ")+"]"}),P.push({key:"Matrix",value:"["+v.matrix.toString()+"]"});var $=v.pages[1].join(`
`);Wr({data:$,additionalKeyValues:P,objectId:v.objectNumber}),J("endobj")},Ji=function(v,P){P||(P=21);var $=Sn(),ce=function(He,dt){var pt,Mt=[],Ft=1/(dt-1);for(pt=0;pt<1;pt+=Ft)Mt.push(pt);if(Mt.push(1),He[0].offset!=0){var un={offset:0,color:He[0].color};He.unshift(un)}if(He[He.length-1].offset!=1){var jn={offset:1,color:He[He.length-1].color};He.push(jn)}for(var Rn="",bn=0,An=0;An<Mt.length;An++){for(pt=Mt[An];pt>He[bn+1].offset;)bn++;var zn=He[bn].offset,Jn=(pt-zn)/(He[bn+1].offset-zn),Ar=He[bn].color,br=He[bn+1].color;Rn+=X(Math.round((1-Jn)*Ar[0]+Jn*br[0]).toString(16))+X(Math.round((1-Jn)*Ar[1]+Jn*br[1]).toString(16))+X(Math.round((1-Jn)*Ar[2]+Jn*br[2]).toString(16))}return Rn.trim()}(v.colors,P),Ae=[];Ae.push({key:"FunctionType",value:"0"}),Ae.push({key:"Domain",value:"[0.0 1.0]"}),Ae.push({key:"Size",value:"["+P+"]"}),Ae.push({key:"BitsPerSample",value:"8"}),Ae.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ae.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Wr({data:ce,additionalKeyValues:Ae,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:$}),J("endobj"),v.objectNumber=Sn(),J("<< /ShadingType "+v.type),J("/ColorSpace /DeviceRGB");var qe="/Coords ["+Q(parseFloat(v.coords[0]))+" "+Q(parseFloat(v.coords[1]))+" ";v.type===2?qe+=Q(parseFloat(v.coords[2]))+" "+Q(parseFloat(v.coords[3])):qe+=Q(parseFloat(v.coords[2]))+" "+Q(parseFloat(v.coords[3]))+" "+Q(parseFloat(v.coords[4]))+" "+Q(parseFloat(v.coords[5])),J(qe+="]"),v.matrix&&J("/Matrix ["+v.matrix.toString()+"]"),J("/Function "+$+" 0 R"),J("/Extend [true true]"),J(">>"),J("endobj")},Nn=function(v,P){var $=gn(),ce=Sn();P.push({resourcesOid:$,objectOid:ce}),v.objectNumber=ce;var Ae=[];Ae.push({key:"Type",value:"/Pattern"}),Ae.push({key:"PatternType",value:"1"}),Ae.push({key:"PaintType",value:"1"}),Ae.push({key:"TilingType",value:"1"}),Ae.push({key:"BBox",value:"["+v.boundingBox.map(Q).join(" ")+"]"}),Ae.push({key:"XStep",value:Q(v.xStep)}),Ae.push({key:"YStep",value:Q(v.yStep)}),Ae.push({key:"Resources",value:$+" 0 R"}),v.matrix&&Ae.push({key:"Matrix",value:"["+v.matrix.toString()+"]"}),Wr({data:v.stream,additionalKeyValues:Ae,objectId:v.objectNumber}),J("endobj")},ji=function(v){for(var P in v.objectNumber=Sn(),J("<<"),v)switch(P){case"opacity":J("/ca "+O(v[P]));break;case"stroke-opacity":J("/CA "+O(v[P]))}J(">>"),J("endobj")},Br=function(v){Wn(v.resourcesOid,!0),J("<<"),J("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var P in J("/Font <<"),vt)vt.hasOwnProperty(P)&&(b===!1||b===!0&&x.hasOwnProperty(P))&&J("/"+P+" "+vt[P].objectNumber+" 0 R");J(">>")}(),function(){if(Object.keys(kt).length>0){for(var P in J("/Shading <<"),kt)kt.hasOwnProperty(P)&&kt[P]instanceof jo&&kt[P].objectNumber>=0&&J("/"+P+" "+kt[P].objectNumber+" 0 R");st.publish("putShadingPatternDict"),J(">>")}}(),function(P){if(Object.keys(kt).length>0){for(var $ in J("/Pattern <<"),kt)kt.hasOwnProperty($)&&kt[$]instanceof p.TilingPattern&&kt[$].objectNumber>=0&&kt[$].objectNumber<P&&J("/"+$+" "+kt[$].objectNumber+" 0 R");st.publish("putTilingPatternDict"),J(">>")}}(v.objectOid),function(){if(Object.keys(jt).length>0){var P;for(P in J("/ExtGState <<"),jt)jt.hasOwnProperty(P)&&jt[P].objectNumber>=0&&J("/"+P+" "+jt[P].objectNumber+" 0 R");st.publish("putGStateDict"),J(">>")}}(),function(){for(var P in J("/XObject <<"),on)on.hasOwnProperty(P)&&on[P].objectNumber>=0&&J("/"+P+" "+on[P].objectNumber+" 0 R");st.publish("putXobjectDict"),J(">>")}(),J(">>"),J("endobj")},fo=function(v){Et[v.fontName]=Et[v.fontName]||{},Et[v.fontName][v.fontStyle]=v.id},Ci=function(v,P,$,ce,Ae){var qe={id:"F"+(Object.keys(vt).length+1).toString(10),postScriptName:v,fontName:P,fontStyle:$,encoding:ce,isStandardFont:Ae||!1,metadata:{}};return st.publish("addFont",{font:qe,instance:this}),vt[qe.id]=qe,fo(qe),qe.id},Nr=p.__private__.pdfEscape=p.pdfEscape=function(v,P){return function($,ce){var Ae,qe,He,dt,pt,Mt,Ft,un,jn;if(He=(ce=ce||{}).sourceEncoding||"Unicode",pt=ce.outputEncoding,(ce.autoencode||pt)&&vt[ht].metadata&&vt[ht].metadata[He]&&vt[ht].metadata[He].encoding&&(dt=vt[ht].metadata[He].encoding,!pt&&vt[ht].encoding&&(pt=vt[ht].encoding),!pt&&dt.codePages&&(pt=dt.codePages[0]),typeof pt=="string"&&(pt=dt[pt]),pt)){for(Ft=!1,Mt=[],Ae=0,qe=$.length;Ae<qe;Ae++)(un=pt[$.charCodeAt(Ae)])?Mt.push(String.fromCharCode(un)):Mt.push($[Ae]),Mt[Ae].charCodeAt(0)>>8&&(Ft=!0);$=Mt.join("")}for(Ae=$.length;Ft===void 0&&Ae!==0;)$.charCodeAt(Ae-1)>>8&&(Ft=!0),Ae--;if(!Ft)return $;for(Mt=ce.noBOM?[]:[254,255],Ae=0,qe=$.length;Ae<qe;Ae++){if((jn=(un=$.charCodeAt(Ae))>>8)>>8)throw new Error("Character at position "+Ae+" of string '"+$+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Mt.push(jn),Mt.push(un-(jn<<8))}return String.fromCharCode.apply(void 0,Mt)}(v,P).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},pa=p.__private__.beginPage=function(v){De[++dn]=[],It[dn]={objId:0,contentsObjId:0,userUnit:Number(s),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(v[0]),topRightY:Number(v[1])}},ho(dn),Ie(De[D])},Ma=function(v,P){var $,ce,Ae;switch(e=P||e,typeof v=="string"&&($=S(v.toLowerCase()),Array.isArray($)&&(ce=$[0],Ae=$[1])),Array.isArray(v)&&(ce=v[0]*At,Ae=v[1]*At),isNaN(ce)&&(ce=a[0],Ae=a[1]),(ce>14400||Ae>14400)&&(Ln.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ce=Math.min(14400,ce),Ae=Math.min(14400,Ae)),a=[ce,Ae],e.substr(0,1)){case"l":Ae>ce&&(a=[Ae,ce]);break;case"p":ce>Ae&&(a=[Ae,ce])}pa(a),$r(za),J(wa),Ii!==0&&J(Ii+" J"),yo!==0&&J(yo+" j"),st.publish("addPage",{pageNumber:dn})},ti=function(v){v>0&&v<=dn&&(De.splice(v,1),It.splice(v,1),dn--,D>dn&&(D=dn),this.setPage(D))},ho=function(v){v>0&&v<=dn&&(D=v)},ma=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return De.length-1},po=function(v,P,$){var ce,Ae=void 0;return $=$||{},v=v!==void 0?v:vt[ht].fontName,P=P!==void 0?P:vt[ht].fontStyle,ce=v.toLowerCase(),Et[ce]!==void 0&&Et[ce][P]!==void 0?Ae=Et[ce][P]:Et[v]!==void 0&&Et[v][P]!==void 0?Ae=Et[v][P]:$.disableWarning===!1&&Ln.warn("Unable to look up font label for font '"+v+"', '"+P+"'. Refer to getFontList() for available fonts."),Ae||$.noFallback||(Ae=Et.times[P])==null&&(Ae=Et.times.normal),Ae},Gt=p.__private__.putInfo=function(){var v=Sn(),P=function(ce){return ce};for(var $ in m!==null&&(P=On.encryptor(v,0)),J("<<"),J("/Producer ("+Nr(P("jsPDF "+Pt.version))+")"),Rt)Rt.hasOwnProperty($)&&Rt[$]&&J("/"+$.substr(0,1).toUpperCase()+$.substr(1)+" ("+Nr(P(Rt[$]))+")");J("/CreationDate ("+Nr(P(Se))+")"),J(">>"),J("endobj")},qo=p.__private__.putCatalog=function(v){var P=(v=v||{}).rootDictionaryObjId||Xi;switch(Sn(),J("<<"),J("/Type /Catalog"),J("/Pages "+P+" 0 R"),gt||(gt="fullwidth"),gt){case"fullwidth":J("/OpenAction [3 0 R /FitH null]");break;case"fullheight":J("/OpenAction [3 0 R /FitV null]");break;case"fullpage":J("/OpenAction [3 0 R /Fit]");break;case"original":J("/OpenAction [3 0 R /XYZ null null 1]");break;default:var $=""+gt;$.substr($.length-1)==="%"&&(gt=parseInt(gt)/100),typeof gt=="number"&&J("/OpenAction [3 0 R /XYZ null null "+O(gt)+"]")}switch(Tt||(Tt="continuous"),Tt){case"continuous":J("/PageLayout /OneColumn");break;case"single":J("/PageLayout /SinglePage");break;case"two":case"twoleft":J("/PageLayout /TwoColumnLeft");break;case"tworight":J("/PageLayout /TwoColumnRight")}ft&&J("/PageMode /"+ft),st.publish("putCatalog"),J(">>"),J("endobj")},Vn=p.__private__.putTrailer=function(){J("trailer"),J("<<"),J("/Size "+(te+1)),J("/Root "+te+" 0 R"),J("/Info "+(te-1)+" 0 R"),m!==null&&J("/Encrypt "+On.oid+" 0 R"),J("/ID [ <"+we+"> <"+we+"> ]"),J(">>")},ga=p.__private__.putHeader=function(){J("%PDF-"+L),J("%ºß¬à")},mo=p.__private__.putXRef=function(){var v="0000000000";J("xref"),J("0 "+(te+1)),J("0000000000 65535 f ");for(var P=1;P<=te;P++)typeof Z[P]=="function"?J((v+Z[P]()).slice(-10)+" 00000 n "):Z[P]!==void 0?J((v+Z[P]).slice(-10)+" 00000 n "):J("0000000000 00000 n ")},sn=p.__private__.buildDocument=function(){var v;te=0,ae=0,le=[],Z=[],Le=[],Xi=gn(),ar=gn(),Ie(le),st.publish("buildDocument"),ga(),ei(),function(){st.publish("putAdditionalObjects");for(var $=0;$<Le.length;$++){var ce=Le[$];Wn(ce.objId,!0),J(ce.content),J("endobj")}st.publish("postPutAdditionalObjects")}(),v=[],function(){for(var $ in vt)vt.hasOwnProperty($)&&(b===!1||b===!0&&x.hasOwnProperty($))&&Fr(vt[$])}(),function(){var $;for($ in jt)jt.hasOwnProperty($)&&ji(jt[$])}(),function(){for(var $ in on)on.hasOwnProperty($)&&ha(on[$])}(),function($){var ce;for(ce in kt)kt.hasOwnProperty(ce)&&(kt[ce]instanceof jo?Ji(kt[ce]):kt[ce]instanceof es&&Nn(kt[ce],$))}(v),st.publish("putResources"),v.forEach(Br),Br({resourcesOid:ar,objectOid:Number.MAX_SAFE_INTEGER}),st.publish("postPutResources"),m!==null&&(On.oid=Sn(),J("<<"),J("/Filter /Standard"),J("/V "+On.v),J("/R "+On.r),J("/U <"+On.toHexString(On.U)+">"),J("/O <"+On.toHexString(On.O)+">"),J("/P "+On.P),J(">>"),J("endobj")),Gt(),qo();var P=ae;return mo(),Vn(),J("startxref"),J(""+P),J("%%EOF"),Ie(De[D]),le.join(`
`)},ni=p.__private__.getBlob=function(v){return new Blob([St(v)],{type:"application/pdf"})},Sr=p.output=p.__private__.output=(Kt=function(v,P){switch(typeof(P=P||{})=="string"?P={filename:P}:P.filename=P.filename||"generated.pdf",v){case void 0:return sn();case"save":p.save(P.filename);break;case"arraybuffer":return St(sn());case"blob":return ni(sn());case"bloburi":case"bloburl":if(Ut.URL!==void 0&&typeof Ut.URL.createObjectURL=="function")return Ut.URL&&Ut.URL.createObjectURL(ni(sn()))||void 0;Ln.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var $="",ce=sn();try{$=Nd(ce)}catch{$=Nd(unescape(encodeURIComponent(ce)))}return"data:application/pdf;filename="+P.filename+";base64,"+$;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ut)==="[object Window]"){var Ae="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",qe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';P.pdfObjectUrl&&(Ae=P.pdfObjectUrl,qe="");var He='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ae+'"'+qe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(P)+");<\/script></body></html>",dt=Ut.open();return dt!==null&&dt.document.write(He),dt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ut)==="[object Window]"){var pt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(P.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+P.filename+'" width="500px" height="400px" /></body></html>',Mt=Ut.open();if(Mt!==null){Mt.document.write(pt);var Ft=this;Mt.document.documentElement.querySelector("#pdfViewer").onload=function(){Mt.document.title=P.filename,Mt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ft.output("bloburl"))}}return Mt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ut)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var un='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",P)+'"></iframe></body></html>',jn=Ut.open();if(jn!==null&&(jn.document.write(un),jn.document.title=P.filename),jn||typeof safari>"u")return jn;break;case"datauri":case"dataurl":return Ut.document.location.href=this.output("datauristring",P);default:return null}},Kt.foo=function(){try{return Kt.apply(this,arguments)}catch($){var v=$.stack||"";~v.indexOf(" at ")&&(v=v.split(" at ")[1]);var P="Error in function "+v.split(`
`)[0].split("<")[0]+": "+$.message;if(!Ut.console)throw new Error(P);Ut.console.error(P,$),Ut.alert&&alert(P)}},Kt.foo.bar=Kt,Kt.foo),Vr=function(v){return Array.isArray(vn)===!0&&vn.indexOf(v)>-1};switch(r){case"pt":At=1;break;case"mm":At=72/25.4;break;case"cm":At=72/2.54;break;case"in":At=72;break;case"px":At=Vr("px_scaling")==1?.75:96/72;break;case"pc":case"em":At=12;break;case"ex":At=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);At=r}var On=null;Be(),Ne();var va=p.__private__.getPageInfo=p.getPageInfo=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:It[v].objId,pageNumber:v,pageContext:It[v]}},Fa=p.__private__.getPageInfoByObjId=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var P in It)if(It[P].objId===v)break;return va(P)},Uo=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:It[D].objId,pageNumber:D,pageContext:It[D]}};p.addPage=function(){return Ma.apply(this,arguments),this},p.setPage=function(){return ho.apply(this,arguments),Ie.call(this,De[D]),this},p.insertPage=function(v){return this.addPage(),this.movePage(D,v),this},p.movePage=function(v,P){var $,ce;if(v>P){$=De[v],ce=It[v];for(var Ae=v;Ae>P;Ae--)De[Ae]=De[Ae-1],It[Ae]=It[Ae-1];De[P]=$,It[P]=ce,this.setPage(P)}else if(v<P){$=De[v],ce=It[v];for(var qe=v;qe<P;qe++)De[qe]=De[qe+1],It[qe]=It[qe+1];De[P]=$,It[P]=ce,this.setPage(P)}return this},p.deletePage=function(){return ti.apply(this,arguments),this},p.__private__.text=p.text=function(v,P,$,ce,Ae){var qe,He,dt,pt,Mt,Ft,un,jn,Rn,bn=(ce=ce||{}).scope||this;if(typeof v=="number"&&typeof P=="number"&&(typeof $=="string"||Array.isArray($))){var An=$;$=P,P=v,v=An}if(arguments[3]instanceof lt==0?(dt=arguments[4],pt=arguments[5],_n(un=arguments[3])==="object"&&un!==null||(typeof dt=="string"&&(pt=dt,dt=null),typeof un=="string"&&(pt=un,un=null),typeof un=="number"&&(dt=un,un=null),ce={flags:un,angle:dt,align:pt})):(H("The transform parameter of text() with a Matrix value"),Rn=Ae),isNaN(P)||isNaN($)||v==null)throw new Error("Invalid arguments passed to jsPDF.text");if(v.length===0)return bn;var zn,Jn="",Ar=typeof ce.lineHeightFactor=="number"?ce.lineHeightFactor:ea,br=bn.internal.scaleFactor;function _o(pe){return pe=pe.split("	").join(Array(ce.TabLen||9).join(" ")),Nr(pe,un)}function Ua(pe){for(var se,he=pe.concat(),ve=[],_e=he.length;_e--;)typeof(se=he.shift())=="string"?ve.push(se):Array.isArray(pe)&&(se.length===1||se[1]===void 0&&se[2]===void 0)?ve.push(se[0]):ve.push([se[0],se[1],se[2]]);return ve}function Ti(pe,se){var he;if(typeof pe=="string")he=se(pe)[0];else if(Array.isArray(pe)){for(var ve,_e,ke=pe.concat(),Oe=[],Me=ke.length;Me--;)typeof(ve=ke.shift())=="string"?Oe.push(se(ve)[0]):Array.isArray(ve)&&typeof ve[0]=="string"&&(_e=se(ve[0],ve[1],ve[2]),Oe.push([_e[0],_e[1],_e[2]]));he=Oe}return he}var si=!1,La=!0;if(typeof v=="string")si=!0;else if(Array.isArray(v)){var Oi=v.concat();He=[];for(var Ri,yr=Oi.length;yr--;)(typeof(Ri=Oi.shift())!="string"||Array.isArray(Ri)&&typeof Ri[0]!="string")&&(La=!1);si=La}if(si===!1)throw new Error('Type of text must be string or Array. "'+v+'" is not recognized.');typeof v=="string"&&(v=v.match(/[\r?\n]/)?v.split(/\r\n|\r|\n/g):[v]);var ia=$e/bn.internal.scaleFactor,Pa=ia*(Ar-1);switch(ce.baseline){case"bottom":$-=Pa;break;case"top":$+=ia-Pa;break;case"hanging":$+=ia-2*Pa;break;case"middle":$+=ia/2-Pa}if((Ft=ce.maxWidth||0)>0&&(typeof v=="string"?v=bn.splitTextToSize(v,Ft):Object.prototype.toString.call(v)==="[object Array]"&&(v=v.reduce(function(pe,se){return pe.concat(bn.splitTextToSize(se,Ft))},[]))),qe={text:v,x:P,y:$,options:ce,mutex:{pdfEscape:Nr,activeFontKey:ht,fonts:vt,activeFontSize:$e}},st.publish("preProcessText",qe),v=qe.text,dt=(ce=qe.options).angle,Rn instanceof lt==0&&dt&&typeof dt=="number"){dt*=Math.PI/180,ce.rotationDirection===0&&(dt=-dt),W===V&&(dt=-dt);var Ha=Math.cos(dt),Wa=Math.sin(dt);Rn=new lt(Ha,Wa,-Wa,Ha,0,0)}else dt&&dt instanceof lt&&(Rn=dt);W!==V||Rn||(Rn=cr),(Mt=ce.charSpace||_a)!==void 0&&(Jn+=Q(ee(Mt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(jn=ce.horizontalScale)!==void 0&&(Jn+=Q(100*jn)+` Tz
`),ce.lang;var qn=-1,Ni=ce.renderingMode!==void 0?ce.renderingMode:ce.stroke,aa=bn.internal.getCurrentPageInfo().pageContext;switch(Ni){case 0:case!1:case"fill":qn=0;break;case 1:case!0:case"stroke":qn=1;break;case 2:case"fillThenStroke":qn=2;break;case 3:case"invisible":qn=3;break;case 4:case"fillAndAddForClipping":qn=4;break;case 5:case"strokeAndAddPathForClipping":qn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":qn=6;break;case 7:case"addToPathForClipping":qn=7}var No=aa.usedRenderingMode!==void 0?aa.usedRenderingMode:-1;qn!==-1?Jn+=qn+` Tr
`:No!==-1&&(Jn+=`0 Tr
`),qn!==-1&&(aa.usedRenderingMode=qn),pt=ce.align||"left";var zr,ja=$e*Ar,So=bn.internal.pageSize.getWidth(),Ao=vt[ht];Mt=ce.charSpace||_a,Ft=ce.maxWidth||0,un=Object.assign({autoencode:!0,noBOM:!0},ce.flags);var li=[],kr=function(pe){return bn.getStringUnitWidth(pe,{font:Ao,charSpace:Mt,fontSize:$e,doKerning:!1})*$e/br};if(Object.prototype.toString.call(v)==="[object Array]"){var ln;He=Ua(v),pt!=="left"&&(zr=He.map(kr));var wr,Zn=0;if(pt==="right"){P-=zr[0],v=[],yr=He.length;for(var Di=0;Di<yr;Di++)Di===0?(wr=vr(P),ln=Ei($)):(wr=ee(Zn-zr[Di]),ln=-ja),v.push([He[Di],wr,ln]),Zn=zr[Di]}else if(pt==="center"){P-=zr[0]/2,v=[],yr=He.length;for(var Si=0;Si<yr;Si++)Si===0?(wr=vr(P),ln=Ei($)):(wr=ee((Zn-zr[Si])/2),ln=-ja),v.push([He[Si],wr,ln]),Zn=zr[Si]}else if(pt==="left"){v=[],yr=He.length;for(var Va=0;Va<yr;Va++)v.push(He[Va])}else if(pt==="justify"&&Ao.encoding==="Identity-H"){v=[],yr=He.length,Ft=Ft!==0?Ft:So;for(var Yr=0,Dn=0;Dn<yr;Dn++)if(ln=Dn===0?Ei($):-ja,wr=Dn===0?vr(P):Yr,Dn<yr-1){var Mi=ee((Ft-zr[Dn])/(He[Dn].split(" ").length-1)),fr=He[Dn].split(" ");v.push([fr[0]+" ",wr,ln]),Yr=0;for(var ci=1;ci<fr.length;ci++){var l=(kr(fr[ci-1]+" "+fr[ci])-kr(fr[ci]))*br+Mi;ci==fr.length-1?v.push([fr[ci],l,0]):v.push([fr[ci]+" ",l,0]),Yr-=l}}else v.push([He[Dn],wr,ln]);v.push(["",Yr,0])}else{if(pt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(v=[],yr=He.length,Ft=Ft!==0?Ft:So,Dn=0;Dn<yr;Dn++){ln=Dn===0?Ei($):-ja,wr=Dn===0?vr(P):0;var h=He[Dn].split(" ").length-1,w=h>0?(Ft-zr[Dn])/h:0;Dn<yr-1?li.push(Q(ee(w))):li.push(0),v.push([He[Dn],wr,ln])}}}(typeof ce.R2L=="boolean"?ce.R2L:xt)===!0&&(v=Ti(v,function(pe,se,he){return[pe.split("").reverse().join(""),se,he]})),qe={text:v,x:P,y:$,options:ce,mutex:{pdfEscape:Nr,activeFontKey:ht,fonts:vt,activeFontSize:$e}},st.publish("postProcessText",qe),v=qe.text,zn=qe.mutex.isHex||!1;var N=vt[ht].encoding;N!=="WinAnsiEncoding"&&N!=="StandardEncoding"||(v=Ti(v,function(pe,se,he){return[_o(pe),se,he]})),He=Ua(v),v=[];for(var A,E,K,ie=Array.isArray(He[0])?1:0,fe="",me=function(pe,se,he){var ve="";return he instanceof lt?(he=typeof ce.angle=="number"?Pn(he,new lt(1,0,0,1,pe,se)):Pn(new lt(1,0,0,1,pe,se),he),W===V&&(he=Pn(new lt(1,0,0,-1,0,0),he)),ve=he.join(" ")+` Tm
`):ve=Q(pe)+" "+Q(se)+` Td
`,ve},ye=0;ye<He.length;ye++){switch(fe="",ie){case 1:K=(zn?"<":"(")+He[ye][0]+(zn?">":")"),A=parseFloat(He[ye][1]),E=parseFloat(He[ye][2]);break;case 0:K=(zn?"<":"(")+He[ye]+(zn?">":")"),A=vr(P),E=Ei($)}li!==void 0&&li[ye]!==void 0&&(fe=li[ye]+` Tw
`),ye===0?v.push(fe+me(A,E,Rn)+K):ie===0?v.push(fe+K):ie===1&&v.push(fe+me(A,E,Rn)+K)}v=ie===0?v.join(` Tj
T* `):v.join(` Tj
`),v+=` Tj
`;var oe=`BT
/`;return oe+=ht+" "+$e+` Tf
`,oe+=Q($e*Ar)+` TL
`,oe+=ai+`
`,oe+=Jn,oe+=v,J(oe+="ET"),x[ht]=!0,bn};var Ba=p.__private__.clip=p.clip=function(v){return J(v==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Ba("evenodd")},p.__private__.discardPath=p.discardPath=function(){return J("n"),this};var ri=p.__private__.isValidStyle=function(v){var P=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(v)!==-1&&(P=!0),P};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(v){return ri(v)&&(d=v),this};var Zi=p.__private__.getStyle=p.getStyle=function(v){var P=d;switch(v){case"D":case"S":P="S";break;case"F":P="f";break;case"FD":case"DF":P="B";break;case"f":case"f*":case"B":case"B*":P=v}return P},go=p.close=function(){return J("h"),this};p.stroke=function(){return J("S"),this},p.fill=function(v){return Qi("f",v),this},p.fillEvenOdd=function(v){return Qi("f*",v),this},p.fillStroke=function(v){return Qi("B",v),this},p.fillStrokeEvenOdd=function(v){return Qi("B*",v),this};var Qi=function(v,P){_n(P)==="object"?fs(P,v):J(v)},tn=function(v){v===null||W===V&&v===void 0||(v=Zi(v),J(v))};function Ho(v,P,$,ce,Ae){var qe=new es(P||this.boundingBox,$||this.xStep,ce||this.yStep,this.gState,Ae||this.matrix);qe.stream=this.stream;var He=v+"$$"+this.cloneIndex+++"$$";return Dt(He,qe),qe}var fs=function(v,P){var $=zt[v.key],ce=kt[$];if(ce instanceof jo)J("q"),J(ds(P)),ce.gState&&p.setGState(ce.gState),J(v.matrix.toString()+" cm"),J("/"+$+" sh"),J("Q");else if(ce instanceof es){var Ae=new lt(1,0,0,-1,0,_i());v.matrix&&(Ae=Ae.multiply(v.matrix||cr),$=Ho.call(ce,v.key,v.boundingBox,v.xStep,v.yStep,Ae).id),J("q"),J("/Pattern cs"),J("/"+$+" scn"),ce.gState&&p.setGState(ce.gState),J(P),J("Q")}},ds=function(v){switch(v){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},ur=p.moveTo=function(v,P){return J(Q(ee(v))+" "+Q(ne(P))+" m"),this},Kr=p.lineTo=function(v,P){return J(Q(ee(v))+" "+Q(ne(P))+" l"),this},ii=p.curveTo=function(v,P,$,ce,Ae,qe){return J([Q(ee(v)),Q(ne(P)),Q(ee($)),Q(ne(ce)),Q(ee(Ae)),Q(ne(qe)),"c"].join(" ")),this};p.__private__.line=p.line=function(v,P,$,ce,Ae){if(isNaN(v)||isNaN(P)||isNaN($)||isNaN(ce)||!ri(Ae))throw new Error("Invalid arguments passed to jsPDF.line");return W===F?this.lines([[$-v,ce-P]],v,P,[1,1],Ae||"S"):this.lines([[$-v,ce-P]],v,P,[1,1]).stroke()},p.__private__.lines=p.lines=function(v,P,$,ce,Ae,qe){var He,dt,pt,Mt,Ft,un,jn,Rn,bn,An,zn,Jn;if(typeof v=="number"&&(Jn=$,$=P,P=v,v=Jn),ce=ce||[1,1],qe=qe||!1,isNaN(P)||isNaN($)||!Array.isArray(v)||!Array.isArray(ce)||!ri(Ae)||typeof qe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ur(P,$),He=ce[0],dt=ce[1],Mt=v.length,An=P,zn=$,pt=0;pt<Mt;pt++)(Ft=v[pt]).length===2?(An=Ft[0]*He+An,zn=Ft[1]*dt+zn,Kr(An,zn)):(un=Ft[0]*He+An,jn=Ft[1]*dt+zn,Rn=Ft[2]*He+An,bn=Ft[3]*dt+zn,An=Ft[4]*He+An,zn=Ft[5]*dt+zn,ii(un,jn,Rn,bn,An,zn));return qe&&go(),tn(Ae),this},p.path=function(v){for(var P=0;P<v.length;P++){var $=v[P],ce=$.c;switch($.op){case"m":ur(ce[0],ce[1]);break;case"l":Kr(ce[0],ce[1]);break;case"c":ii.apply(this,ce);break;case"h":go()}}return this},p.__private__.rect=p.rect=function(v,P,$,ce,Ae){if(isNaN(v)||isNaN(P)||isNaN($)||isNaN(ce)||!ri(Ae))throw new Error("Invalid arguments passed to jsPDF.rect");return W===F&&(ce=-ce),J([Q(ee(v)),Q(ne(P)),Q(ee($)),Q(ee(ce)),"re"].join(" ")),tn(Ae),this},p.__private__.triangle=p.triangle=function(v,P,$,ce,Ae,qe,He){if(isNaN(v)||isNaN(P)||isNaN($)||isNaN(ce)||isNaN(Ae)||isNaN(qe)||!ri(He))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[$-v,ce-P],[Ae-$,qe-ce],[v-Ae,P-qe]],v,P,[1,1],He,!0),this},p.__private__.roundedRect=p.roundedRect=function(v,P,$,ce,Ae,qe,He){if(isNaN(v)||isNaN(P)||isNaN($)||isNaN(ce)||isNaN(Ae)||isNaN(qe)||!ri(He))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var dt=4/3*(Math.SQRT2-1);return Ae=Math.min(Ae,.5*$),qe=Math.min(qe,.5*ce),this.lines([[$-2*Ae,0],[Ae*dt,0,Ae,qe-qe*dt,Ae,qe],[0,ce-2*qe],[0,qe*dt,-Ae*dt,qe,-Ae,qe],[2*Ae-$,0],[-Ae*dt,0,-Ae,-qe*dt,-Ae,-qe],[0,2*qe-ce],[0,-qe*dt,Ae*dt,-qe,Ae,-qe]],v+Ae,P,[1,1],He,!0),this},p.__private__.ellipse=p.ellipse=function(v,P,$,ce,Ae){if(isNaN(v)||isNaN(P)||isNaN($)||isNaN(ce)||!ri(Ae))throw new Error("Invalid arguments passed to jsPDF.ellipse");var qe=4/3*(Math.SQRT2-1)*$,He=4/3*(Math.SQRT2-1)*ce;return ur(v+$,P),ii(v+$,P-He,v+qe,P-ce,v,P-ce),ii(v-qe,P-ce,v-$,P-He,v-$,P),ii(v-$,P+He,v-qe,P+ce,v,P+ce),ii(v+qe,P+ce,v+$,P+He,v+$,P),tn(Ae),this},p.__private__.circle=p.circle=function(v,P,$,ce){if(isNaN(v)||isNaN(P)||isNaN($)||!ri(ce))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(v,P,$,$,ce)},p.setFont=function(v,P,$){return $&&(P=re(P,$)),ht=po(v,P,{disableWarning:!1}),this};var yi=p.__private__.getFont=p.getFont=function(){return vt[po.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var v,P,$={};for(v in Et)if(Et.hasOwnProperty(v))for(P in $[v]=[],Et[v])Et[v].hasOwnProperty(P)&&$[v].push(P);return $},p.addFont=function(v,P,$,ce,Ae){var qe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&qe.indexOf(arguments[3])!==-1?Ae=arguments[3]:arguments[3]&&qe.indexOf(arguments[3])==-1&&($=re($,ce)),Ci.call(this,v,P,$,Ae=Ae||"Identity-H")};var ea,za=n.lineWidth||.200025,bt=p.__private__.getLineWidth=p.getLineWidth=function(){return za},$r=p.__private__.setLineWidth=p.setLineWidth=function(v){return za=v,J(Q(ee(v))+" w"),this};p.__private__.setLineDash=Pt.API.setLineDash=Pt.API.setLineDashPattern=function(v,P){if(v=v||[],P=P||0,isNaN(P)||!Array.isArray(v))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return v=v.map(function($){return Q(ee($))}).join(" "),P=Q(ee(P)),J("["+v+"] "+P+" d"),this};var ba=p.__private__.getLineHeight=p.getLineHeight=function(){return $e*ea};p.__private__.getLineHeight=p.getLineHeight=function(){return $e*ea};var ya=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(v){return typeof(v=v||1.15)=="number"&&(ea=v),this},vo=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return ea};ya(n.lineHeight);var vr=p.__private__.getHorizontalCoordinate=function(v){return ee(v)},Ei=p.__private__.getVerticalCoordinate=function(v){return W===V?v:It[D].mediaBox.topRightY-It[D].mediaBox.bottomLeftY-ee(v)},Gr=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(v){return Q(vr(v))},bo=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(v){return Q(Ei(v))},wa=n.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return _r(wa)},p.__private__.setStrokeColor=p.setDrawColor=function(v,P,$,ce){return wa=or({ch1:v,ch2:P,ch3:$,ch4:ce,pdfColorType:"draw",precision:2}),J(wa),this};var xa=n.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return _r(xa)},p.__private__.setFillColor=p.setFillColor=function(v,P,$,ce){return xa=or({ch1:v,ch2:P,ch3:$,ch4:ce,pdfColorType:"fill",precision:2}),J(xa),this};var ai=n.textColor||"0 g",ta=p.__private__.getTextColor=p.getTextColor=function(){return _r(ai)};p.__private__.setTextColor=p.setTextColor=function(v,P,$,ce){return ai=or({ch1:v,ch2:P,ch3:$,ch4:ce,pdfColorType:"text",precision:3}),this};var _a=n.charSpace,hs=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(_a||0)};p.__private__.setCharSpace=p.setCharSpace=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return _a=v,this};var Ii=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(v){var P=p.CapJoinStyles[v];if(P===void 0)throw new Error("Line cap style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ii=P,J(P+" J"),this};var yo=0;p.__private__.setLineJoin=p.setLineJoin=function(v){var P=p.CapJoinStyles[v];if(P===void 0)throw new Error("Line join style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return yo=P,J(P+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(v){if(v=v||0,isNaN(v))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return J(Q(ee(v))+" M"),this},p.GState=Tl,p.setGState=function(v){(v=typeof v=="string"?jt[Xe[v]]:Na(null,v)).equals(In)||(J("/"+v.id+" gs"),In=v)};var Na=function(v,P){if(!v||!Xe[v]){var $=!1;for(var ce in jt)if(jt.hasOwnProperty(ce)&&jt[ce].equals(P)){$=!0;break}if($)P=jt[ce];else{var Ae="GS"+(Object.keys(jt).length+1).toString(10);jt[Ae]=P,P.id=Ae}return v&&(Xe[v]=P.id),st.publish("addGState",P),P}};p.addGState=function(v,P){return Na(v,P),this},p.saveGraphicsState=function(){return J("q"),tt.push({key:ht,size:$e,color:ai}),this},p.restoreGraphicsState=function(){J("Q");var v=tt.pop();return ht=v.key,$e=v.size,ai=v.color,In=null,this},p.setCurrentTransformationMatrix=function(v){return J(v.toString()+" cm"),this},p.comment=function(v){return J("#"+v),this};var wi=function(v,P){var $=v||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return $},set:function(qe){isNaN(qe)||($=parseFloat(qe))}});var ce=P||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ce},set:function(qe){isNaN(qe)||(ce=parseFloat(qe))}});var Ae="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ae},set:function(qe){Ae=qe.toString()}}),this},na=function(v,P,$,ce){wi.call(this,v,P),this.type="rect";var Ae=$||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ae},set:function(He){isNaN(He)||(Ae=parseFloat(He))}});var qe=ce||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return qe},set:function(He){isNaN(He)||(qe=parseFloat(He))}}),this},ra=function(){this.page=dn,this.currentPage=D,this.pages=De.slice(0),this.pagesContext=It.slice(0),this.x=wt,this.y=Yt,this.matrix=en,this.width=Wo(D),this.height=oi(D),this.outputDestination=Ke,this.id="",this.objectNumber=-1};ra.prototype.restore=function(){dn=this.page,D=this.currentPage,It=this.pagesContext,De=this.pages,wt=this.x,Yt=this.y,en=this.matrix,qa(D,this.width),xi(D,this.height),Ke=this.outputDestination};var wo=function(v,P,$,ce,Ae){Kn.push(new ra),dn=D=0,De=[],wt=v,Yt=P,en=Ae,pa([$,ce])};for(var Sa in p.beginFormObject=function(v,P,$,ce,Ae){return wo(v,P,$,ce,Ae),this},p.endFormObject=function(v){return function(P){if(Tn[P])Kn.pop().restore();else{var $=new ra,ce="Xo"+(Object.keys(on).length+1).toString(10);$.id=ce,Tn[P]=ce,on[ce]=$,st.publish("addFormObject",$),Kn.pop().restore()}}(v),this},p.doFormObject=function(v,P){var $=on[Tn[v]];return J("q"),J(P.toString()+" cm"),J("/"+$.id+" Do"),J("Q"),this},p.getFormObject=function(v){var P=on[Tn[v]];return{x:P.x,y:P.y,width:P.width,height:P.height,matrix:P.matrix}},p.save=function(v,P){return v=v||"generated.pdf",(P=P||{}).returnPromise=P.returnPromise||!1,P.returnPromise===!1?(Po(ni(sn()),v),typeof Po.unload=="function"&&Ut.setTimeout&&setTimeout(Po.unload,911),this):new Promise(function($,ce){try{var Ae=Po(ni(sn()),v);typeof Po.unload=="function"&&Ut.setTimeout&&setTimeout(Po.unload,911),$(Ae)}catch(qe){ce(qe.message)}})},Pt.API)Pt.API.hasOwnProperty(Sa)&&(Sa==="events"&&Pt.API.events.length?function(v,P){var $,ce,Ae;for(Ae=P.length-1;Ae!==-1;Ae--)$=P[Ae][0],ce=P[Ae][1],v.subscribe.apply(v,[$].concat(typeof ce=="function"?[ce]:ce))}(st,Pt.API.events):p[Sa]=Pt.API[Sa]);function Wo(v){return It[v].mediaBox.topRightX-It[v].mediaBox.bottomLeftX}function qa(v,P){It[v].mediaBox.topRightX=P+It[v].mediaBox.bottomLeftX}function oi(v){return It[v].mediaBox.topRightY-It[v].mediaBox.bottomLeftY}function xi(v,P){It[v].mediaBox.topRightY=P+It[v].mediaBox.bottomLeftY}var Aa=p.getPageWidth=function(v){return Wo(v=v||D)/At},ka=p.setPageWidth=function(v,P){qa(v,P*At)},_i=p.getPageHeight=function(v){return oi(v=v||D)/At},xo=p.setPageHeight=function(v,P){xi(v,P*At)};return p.internal={pdfEscape:Nr,getStyle:Zi,getFont:yi,getFontSize:Qe,getCharSpace:hs,getTextColor:ta,getLineHeight:ba,getLineHeightFactor:vo,getLineWidth:bt,write:Ot,getHorizontalCoordinate:vr,getVerticalCoordinate:Ei,getCoordinateString:Gr,getVerticalCoordinateString:bo,collections:{},newObject:Sn,newAdditionalObject:bi,newObjectDeferred:gn,newObjectDeferredBegin:Wn,getFilters:Cr,putStream:Wr,events:st,scaleFactor:At,pageSize:{getWidth:function(){return Aa(D)},setWidth:function(v){ka(D,v)},getHeight:function(){return _i(D)},setHeight:function(v){xo(D,v)}},encryptionOptions:m,encryption:On,getEncryptor:function(v){return m!==null?On.encryptor(v,0):function(P){return P}},output:Sr,getNumberOfPages:ma,pages:De,out:J,f2:O,f3:R,getPageInfo:va,getPageInfoByObjId:Fa,getCurrentPageInfo:Uo,getPDFVersion:k,Point:wi,Rectangle:na,Matrix:lt,hasHotfix:Vr},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Aa(D)},set:function(v){ka(D,v)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return _i(D)},set:function(v){xo(D,v)},enumerable:!0,configurable:!0}),(function(v){for(var P=0,$=ut.length;P<$;P++){var ce=Ci.call(this,v[P][0],v[P][1],v[P][2],ut[P][3],!0);b===!1&&(x[ce]=!0);var Ae=v[P][0].split("-");fo({id:ce,fontName:Ae[0],fontStyle:Ae[1]||""})}st.publish("addFonts",{fonts:vt,dictionary:Et})}).call(p,ut),ht="F1",Ma(a,e),st.publish("initialized"),p}Jo.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},Jo.prototype.toHexString=function(n){return n.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Jo.prototype.hexToBytes=function(n){for(var t=[],e=0;e<n.length;e+=2)t.push(String.fromCharCode(parseInt(n.substr(e,2),16)));return t.join("")},Jo.prototype.processOwnerPassword=function(n,t){return cu(lu(t).substr(0,5),n)},Jo.prototype.encryptor=function(n,t){var e=lu(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return cu(e,r)}},Tl.prototype.equals=function(n){var t,e="id,objectNumber,equals";if(!n||_n(n)!==_n(this))return!1;var r=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!n.hasOwnProperty(t)||this[t]!==n[t])return!1;r++}for(t in n)n.hasOwnProperty(t)&&e.indexOf(t)<0&&r--;return r===0},Pt.API={events:[]},Pt.version="3.0.3";var Yn=Pt.API,Iu=1,zo=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Go=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Wt=function(n){return n.toFixed(2)},eo=function(n){return n.toFixed(5)};Yn.__acroform__={};var Qr=function(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n},Ld=function(n){return n*Iu},la=function(n){var t=new m1,e=yt.internal.getHeight(n)||0,r=yt.internal.getWidth(n)||0;return t.BBox=[0,0,Number(Wt(r)),Number(Wt(e))],t},$b=Yn.__acroform__.setBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<t},Gb=Yn.__acroform__.clearBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<t)},Yb=Yn.__acroform__.getBit=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<t?1:0},nr=Yn.__acroform__.getBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Yb(n,t-1)},rr=Yn.__acroform__.setBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return $b(n,t-1)},ir=Yn.__acroform__.clearBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Gb(n,t-1)},Xb=Yn.__acroform__.calculateCoordinates=function(n,t){var e=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,a=n[0],i=n[1],c=n[2],s=n[3],u={};return u.lowerLeft_X=e(a)||0,u.lowerLeft_Y=r(i+s)||0,u.upperRight_X=e(a+c)||0,u.upperRight_Y=r(i)||0,[Number(Wt(u.lowerLeft_X)),Number(Wt(u.lowerLeft_Y)),Number(Wt(u.upperRight_X)),Number(Wt(u.upperRight_Y))]},Jb=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var t=[],e=n._V||n.DV,r=uu(n,e),a=n.scope.internal.getFont(n.fontName,n.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(n.scope.__private__.encodeColorString(n.color)),t.push("/"+a+" "+Wt(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=la(n);return i.scope=n.scope,i.stream=t.join(`
`),i}},uu=function(n,t){var e=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=n.multiline?a.map(function(O){return O.split(`
`)}):a.map(function(O){return[O]});var i=e,c=yt.internal.getHeight(n)||0;c=c<0?-c:c;var s=yt.internal.getWidth(n)||0;s=s<0?-s:s;var u=function(O,R,ee){if(O+1<a.length){var ne=R+" "+a[O+1][0];return dl(ne,n,ee).width<=s-4}return!1};i++;e:for(;i>0;){t="",i--;var d,m,b=dl("3",n,i).height,x=n.multiline?c-i:(c-b)/2,p=x+=2,L=0,k=0,C=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+dl(t,n,i=12).width+", FieldWidth:"+s+`
`;break}for(var S="",F=0,V=0;V<a.length;V++)if(a.hasOwnProperty(V)){var W=!1;if(a[V].length!==1&&C!==a[V].length-1){if((b+2)*(F+2)+2>c)continue e;S+=a[V][C],W=!0,k=V,V--}else{S=(S+=a[V][C]+" ").substr(S.length-1)==" "?S.substr(0,S.length-1):S;var be=parseInt(V),ue=u(be,S,i),re=V>=a.length-1;if(ue&&!re){S+=" ",C=0;continue}if(ue||re){if(re)k=be;else if(n.multiline&&(b+2)*(F+2)+2>c)continue e}else{if(!n.multiline||(b+2)*(F+2)+2>c)continue e;k=be}}for(var Q="",H=L;H<=k;H++){var de=a[H];if(n.multiline){if(H===k){Q+=de[C]+" ",C=(C+1)%de.length;continue}if(H===L){Q+=de[de.length-1]+" ";continue}}Q+=de[0]+" "}switch(Q=Q.substr(Q.length-1)==" "?Q.substr(0,Q.length-1):Q,m=dl(Q,n,i).width,n.textAlign){case"right":d=s-m-2;break;case"center":d=(s-m)/2;break;default:d=2}t+=Wt(d)+" "+Wt(p)+` Td
`,t+="("+zo(Q)+`) Tj
`,t+=-Wt(d)+` 0 Td
`,p=-(i+2),m=0,L=W?k:k+1,F++,S=""}break}return r.text=t,r.fontSize=i,r},dl=function(n,t,e){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:a}},Zb={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Qb=function(n,t){var e={type:"reference",object:n};t.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===e.type&&r.object===e.object})===void 0&&t.internal.getPageInfo(n.page).pageContext.annotations.push(e)},ey=function(n,t){if(t.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(Gi.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(Zb)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Iu=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new g1,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in r)if(r.hasOwnProperty(a)){var i=r[a];i.objId=void 0,i.hasAnnotation&&Qb(i,e)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(e){(function(r,a){var i=!r;for(var c in r||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(c)){var s=r[c],u=[],d=s.Rect;if(s.Rect&&(s.Rect=Xb(s.Rect,a)),a.internal.newObjectDeferredBegin(s.objId,!0),s.DA=yt.createDefaultAppearanceStream(s),_n(s)==="object"&&typeof s.getKeyValueListForStream=="function"&&(u=s.getKeyValueListForStream()),s.Rect=d,s.hasAppearanceStream&&!s.appearanceStreamContent){var m=Jb(s);u.push({key:"AP",value:"<</N "+m+">>"}),a.internal.acroformPlugin.xForms.push(m)}if(s.appearanceStreamContent){var b="";for(var x in s.appearanceStreamContent)if(s.appearanceStreamContent.hasOwnProperty(x)){var p=s.appearanceStreamContent[x];if(b+="/"+x+" ",b+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var c in p)if(p.hasOwnProperty(c)){var L=p[c];typeof L=="function"&&(L=L.call(a,s)),b+="/"+c+" "+L+" ",a.internal.acroformPlugin.xForms.indexOf(L)>=0||a.internal.acroformPlugin.xForms.push(L)}}else typeof(L=p)=="function"&&(L=L.call(a,s)),b+="/"+c+" "+L,a.internal.acroformPlugin.xForms.indexOf(L)>=0||a.internal.acroformPlugin.xForms.push(L);b+=">>"}u.push({key:"AP",value:`<<
`+b+">>"})}a.internal.putStream({additionalKeyValues:u,objectId:s.objId}),a.internal.out("endobj")}i&&function(k,C){for(var S in k)if(k.hasOwnProperty(S)){var F=S,V=k[S];C.internal.newObjectDeferredBegin(V.objId,!0),_n(V)==="object"&&typeof V.putStream=="function"&&V.putStream(),delete k[F]}}(a.internal.acroformPlugin.xForms,a)})(e,n)}),n.internal.acroformPlugin.isInitialized=!0}},p1=Yn.__acroform__.arrayToPdfArray=function(n,t,e){var r=function(c){return c};if(Array.isArray(n)){for(var a="[",i=0;i<n.length;i++)switch(i!==0&&(a+=" "),_n(n[i])){case"boolean":case"number":case"object":a+=n[i].toString();break;case"string":n[i].substr(0,1)!=="/"?(t!==void 0&&e&&(r=e.internal.getEncryptor(t)),a+="("+zo(r(n[i].toString()))+")"):a+=n[i].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Vc=function(n,t,e){var r=function(a){return a};return t!==void 0&&e&&(r=e.internal.getEncryptor(t)),(n=n||"").toString(),"("+zo(r(n))+")"},ua=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ua.prototype.toString=function(){return this.objId+" 0 R"},ua.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},ua.prototype.getKeyValueListForStream=function(){var n=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var r=t[e],a=this[r];a&&(Array.isArray(a)?n.push({key:r,value:p1(a,this.objId,this.scope)}):a instanceof ua?(a.scope=this.scope,n.push({key:r,value:a.objId+" 0 R"})):typeof a!="function"&&n.push({key:r,value:a}))}return n};var m1=function(){ua.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){n=e.trim()},get:function(){return n||null}})};Qr(m1,ua);var g1=function(){ua.call(this);var n,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var e=function(r){return r};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+zo(e(n))+")"}},set:function(e){n=e}})};Qr(g1,ua);var Gi=function n(){ua.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute F supplied.');t=S}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!nr(t,3)},set:function(S){S?this.F=rr(t,3):this.F=ir(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute Ff supplied.');e=S}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(S){r=S!==void 0?S:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(S){r[0]=S}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(S){r[1]=S}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(S){r[2]=S}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(S){r[3]=S}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(S){switch(S){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=S;break;default:throw new Error('Invalid value "'+S+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Ol)return;i="FieldObject"+n.FieldNum++}var S=function(F){return F};return this.scope&&(S=this.scope.internal.getEncryptor(this.objId)),"("+zo(S(i))+")"},set:function(S){i=S.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(S){i=S}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(S){c=S}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(S){s=S}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(S){u=S}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/Iu:d},set:function(S){d=S}});var m="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return m},set:function(S){m=S}});var b="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!b||this instanceof Ol||this instanceof Eo))return Vc(b,this.objId,this.scope)},set:function(S){S=S.toString(),b=S}});var x=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof xr==0?Vc(x,this.objId,this.scope):x},set:function(S){S=S.toString(),x=this instanceof xr==0?S.substr(0,1)==="("?Go(S.substr(1,S.length-2)):Go(S):S}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof xr==1?Go(x.substr(1,x.length-1)):x},set:function(S){S=S.toString(),x=this instanceof xr==1?"/"+S:S}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(S){this.V=S}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof xr==0?Vc(p,this.objId,this.scope):p},set:function(S){S=S.toString(),p=this instanceof xr==0?S.substr(0,1)==="("?Go(S.substr(1,S.length-2)):Go(S):S}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof xr==1?Go(p.substr(1,p.length-1)):p},set:function(S){S=S.toString(),p=this instanceof xr==1?"/"+S:S}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var L,k=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return k},set:function(S){S=!!S,k=S}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(L)return L},set:function(S){L=S}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,1)},set:function(S){S?this.Ff=rr(this.Ff,1):this.Ff=ir(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,2)},set:function(S){S?this.Ff=rr(this.Ff,2):this.Ff=ir(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,3)},set:function(S){S?this.Ff=rr(this.Ff,3):this.Ff=ir(this.Ff,3)}});var C=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(C!==null)return C},set:function(S){if([0,1,2].indexOf(S)===-1)throw new Error('Invalid value "'+S+'" for attribute Q supplied.');C=S}}),Object.defineProperty(this,"textAlign",{get:function(){var S;switch(C){case 0:default:S="left";break;case 1:S="center";break;case 2:S="right"}return S},configurable:!0,enumerable:!0,set:function(S){switch(S){case"right":case 2:C=2;break;case"center":case 1:C=1;break;default:C=0}}})};Qr(Gi,ua);var rs=function(){Gi.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){n=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return p1(t,this.objId,this.scope)},set:function(e){var r,a;a=[],typeof(r=e)=="string"&&(a=function(i,c,s){s||(s=1);for(var u,d=[];u=c.exec(i);)d.push(u[s]);return d}(r,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,r){for(r=r||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,18)},set:function(e){e?this.Ff=rr(this.Ff,18):this.Ff=ir(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=rr(this.Ff,19):this.Ff=ir(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,20)},set:function(e){e?(this.Ff=rr(this.Ff,20),t.sort()):this.Ff=ir(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,22)},set:function(e){e?this.Ff=rr(this.Ff,22):this.Ff=ir(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,23)},set:function(e){e?this.Ff=rr(this.Ff,23):this.Ff=ir(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,27)},set:function(e){e?this.Ff=rr(this.Ff,27):this.Ff=ir(this.Ff,27)}}),this.hasAppearanceStream=!1};Qr(rs,Gi);var is=function(){rs.call(this),this.fontName="helvetica",this.combo=!1};Qr(is,rs);var as=function(){is.call(this),this.combo=!0};Qr(as,is);var bl=function(){as.call(this),this.edit=!0};Qr(bl,as);var xr=function(){Gi.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,15)},set:function(e){e?this.Ff=rr(this.Ff,15):this.Ff=ir(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,16)},set:function(e){e?this.Ff=rr(this.Ff,16):this.Ff=ir(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,17)},set:function(e){e?this.Ff=rr(this.Ff,17):this.Ff=ir(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,26)},set:function(e){e?this.Ff=rr(this.Ff,26):this.Ff=ir(this.Ff,26)}});var n,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(i){return i};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,a=[];for(r in a.push("<<"),t)a.push("/"+r+" ("+zo(e(t[r]))+")");return a.push(">>"),a.join(`
`)}},set:function(e){_n(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}})};Qr(xr,Gi);var yl=function(){xr.call(this),this.pushButton=!0};Qr(yl,xr);var os=function(){xr.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t!==void 0?t:[]}})};Qr(os,xr);var Ol=function(){var n,t;Gi.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(a){n=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var e,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(s){return s};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,c=[];for(i in c.push("<<"),r)c.push("/"+i+" ("+zo(a(r[i]))+")");return c.push(">>"),c.join(`
`)},set:function(a){_n(a)==="object"&&(r=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(a){typeof a=="string"&&(r.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(a){e="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=yt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Qr(Ol,Gi),os.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=n.createAppearanceStream(e.optionName),e.caption=n.getCA()}},os.prototype.createOption=function(n){var t=new Ol;return t.Parent=this,t.optionName=n,this.Kids.push(t),ty.call(this.scope,t),t};var wl=function(){xr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=yt.CheckBox.createAppearanceStream()};Qr(wl,xr);var Eo=function(){Gi.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,13)},set:function(t){t?this.Ff=rr(this.Ff,13):this.Ff=ir(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,21)},set:function(t){t?this.Ff=rr(this.Ff,21):this.Ff=ir(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,23)},set:function(t){t?this.Ff=rr(this.Ff,23):this.Ff=ir(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,24)},set:function(t){t?this.Ff=rr(this.Ff,24):this.Ff=ir(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,25)},set:function(t){t?this.Ff=rr(this.Ff,25):this.Ff=ir(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,26)},set:function(t){t?this.Ff=rr(this.Ff,26):this.Ff=ir(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){Number.isInteger(t)&&(n=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Qr(Eo,Gi);var xl=function(){Eo.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,14)},set:function(n){n?this.Ff=rr(this.Ff,14):this.Ff=ir(this.Ff,14)}}),this.password=!0};Qr(xl,Eo);var yt={CheckBox:{createAppearanceStream:function(){return{N:{On:yt.CheckBox.YesNormal},D:{On:yt.CheckBox.YesPushDown,Off:yt.CheckBox.OffPushDown}}},YesPushDown:function(n){var t=la(n);t.scope=n.scope;var e=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,a=n.scope.__private__.encodeColorString(n.color),i=uu(n,n.caption);return e.push("0.749023 g"),e.push("0 0 "+Wt(yt.internal.getWidth(n))+" "+Wt(yt.internal.getHeight(n))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+r+" "+Wt(i.fontSize)+" Tf "+a),e.push("BT"),e.push(i.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(n){var t=la(n);t.scope=n.scope;var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),a=[],i=yt.internal.getHeight(n),c=yt.internal.getWidth(n),s=uu(n,n.caption);return a.push("1 g"),a.push("0 0 "+Wt(c)+" "+Wt(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Wt(c-1)+" "+Wt(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+e+" "+Wt(s.fontSize)+" Tf "+r),a.push(s.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(n){var t=la(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+Wt(yt.internal.getWidth(n))+" "+Wt(yt.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(n){var t={D:{Off:yt.RadioButton.Circle.OffPushDown},N:{}};return t.N[n]=yt.RadioButton.Circle.YesNormal,t.D[n]=yt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(n){var t=la(n);t.scope=n.scope;var e=[],r=yt.internal.getWidth(n)<=yt.internal.getHeight(n)?yt.internal.getWidth(n)/4:yt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var a=yt.internal.Bezier_C,i=Number((r*a).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+eo(yt.internal.getWidth(n)/2)+" "+eo(yt.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+i+" "+i+" "+r+" 0 "+r+" c"),e.push("-"+i+" "+r+" -"+r+" "+i+" -"+r+" 0 c"),e.push("-"+r+" -"+i+" -"+i+" -"+r+" 0 -"+r+" c"),e.push(i+" -"+r+" "+r+" -"+i+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=la(n);t.scope=n.scope;var e=[],r=yt.internal.getWidth(n)<=yt.internal.getHeight(n)?yt.internal.getWidth(n)/4:yt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),i=Number((a*yt.internal.Bezier_C).toFixed(5)),c=Number((r*yt.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+eo(yt.internal.getWidth(n)/2)+" "+eo(yt.internal.getHeight(n)/2)+" cm"),e.push(a+" 0 m"),e.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),e.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),e.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),e.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+eo(yt.internal.getWidth(n)/2)+" "+eo(yt.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+c+" "+c+" "+r+" 0 "+r+" c"),e.push("-"+c+" "+r+" -"+r+" "+c+" -"+r+" 0 c"),e.push("-"+r+" -"+c+" -"+c+" -"+r+" 0 -"+r+" c"),e.push(c+" -"+r+" "+r+" -"+c+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(n){var t=la(n);t.scope=n.scope;var e=[],r=yt.internal.getWidth(n)<=yt.internal.getHeight(n)?yt.internal.getWidth(n)/4:yt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),i=Number((a*yt.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+eo(yt.internal.getWidth(n)/2)+" "+eo(yt.internal.getHeight(n)/2)+" cm"),e.push(a+" 0 m"),e.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),e.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),e.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),e.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(n){var t={D:{Off:yt.RadioButton.Cross.OffPushDown},N:{}};return t.N[n]=yt.RadioButton.Cross.YesNormal,t.D[n]=yt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(n){var t=la(n);t.scope=n.scope;var e=[],r=yt.internal.calculateCross(n);return e.push("q"),e.push("1 1 "+Wt(yt.internal.getWidth(n)-2)+" "+Wt(yt.internal.getHeight(n)-2)+" re"),e.push("W"),e.push("n"),e.push(Wt(r.x1.x)+" "+Wt(r.x1.y)+" m"),e.push(Wt(r.x2.x)+" "+Wt(r.x2.y)+" l"),e.push(Wt(r.x4.x)+" "+Wt(r.x4.y)+" m"),e.push(Wt(r.x3.x)+" "+Wt(r.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=la(n);t.scope=n.scope;var e=yt.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+Wt(yt.internal.getWidth(n))+" "+Wt(yt.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Wt(yt.internal.getWidth(n)-2)+" "+Wt(yt.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(Wt(e.x1.x)+" "+Wt(e.x1.y)+" m"),r.push(Wt(e.x2.x)+" "+Wt(e.x2.y)+" l"),r.push(Wt(e.x4.x)+" "+Wt(e.x4.y)+" m"),r.push(Wt(e.x3.x)+" "+Wt(e.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(n){var t=la(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+Wt(yt.internal.getWidth(n))+" "+Wt(yt.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(n){var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,e=n.scope.__private__.encodeColorString(n.color);return"/"+t+" "+n.fontSize+" Tf "+e}};yt.internal={Bezier_C:.551915024494,calculateCross:function(n){var t=yt.internal.getWidth(n),e=yt.internal.getHeight(n),r=Math.min(t,e);return{x1:{x:(t-r)/2,y:(e-r)/2+r},x2:{x:(t-r)/2+r,y:(e-r)/2},x3:{x:(t-r)/2,y:(e-r)/2},x4:{x:(t-r)/2+r,y:(e-r)/2+r}}}},yt.internal.getWidth=function(n){var t=0;return _n(n)==="object"&&(t=Ld(n.Rect[2])),t},yt.internal.getHeight=function(n){var t=0;return _n(n)==="object"&&(t=Ld(n.Rect[3])),t};var ty=Yn.addField=function(n){if(ey(this,n),!(n instanceof Gi))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=n).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Yn.AcroFormChoiceField=rs,Yn.AcroFormListBox=is,Yn.AcroFormComboBox=as,Yn.AcroFormEditBox=bl,Yn.AcroFormButton=xr,Yn.AcroFormPushButton=yl,Yn.AcroFormRadioButton=os,Yn.AcroFormCheckBox=wl,Yn.AcroFormTextField=Eo,Yn.AcroFormPasswordField=xl,Yn.AcroFormAppearance=yt,Yn.AcroForm={ChoiceField:rs,ListBox:is,ComboBox:as,EditBox:bl,Button:xr,PushButton:yl,RadioButton:os,CheckBox:wl,TextField:Eo,PasswordField:xl,Appearance:yt},Pt.AcroForm={ChoiceField:rs,ListBox:is,ComboBox:as,EditBox:bl,Button:xr,PushButton:yl,RadioButton:os,CheckBox:wl,TextField:Eo,PasswordField:xl,Appearance:yt};Pt.AcroForm;function v1(n){return n.reduce(function(t,e,r){return t[e]=r,t},{})}(function(n){var t="addImage_";n.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=n.__addimage__.getImageFileTypeByImageData=function(O,R){var ee,ne,Se,we,je,Ne=e;if((R=R||e)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(ue(O))for(je in r)for(Se=r[je],ee=0;ee<Se.length;ee+=1){for(we=!0,ne=0;ne<Se[ee].length;ne+=1)if(Se[ee][ne]!==void 0&&Se[ee][ne]!==O[ne]){we=!1;break}if(we===!0){Ne=je;break}}else for(je in r)for(Se=r[je],ee=0;ee<Se.length;ee+=1){for(we=!0,ne=0;ne<Se[ee].length;ne+=1)if(Se[ee][ne]!==void 0&&Se[ee][ne]!==O.charCodeAt(ne)){we=!1;break}if(we===!0){Ne=je;break}}return Ne===e&&R!==e&&(Ne=R),Ne},i=function O(R){for(var ee=this.internal.write,ne=this.internal.putStream,Se=(0,this.internal.getFilters)();Se.indexOf("FlateEncode")!==-1;)Se.splice(Se.indexOf("FlateEncode"),1);R.objectId=this.internal.newObject();var we=[];if(we.push({key:"Type",value:"/XObject"}),we.push({key:"Subtype",value:"/Image"}),we.push({key:"Width",value:R.width}),we.push({key:"Height",value:R.height}),R.colorSpace===S.INDEXED?we.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(R.palette.length/3-1)+" "+("sMask"in R&&R.sMask!==void 0?R.objectId+2:R.objectId+1)+" 0 R]"}):(we.push({key:"ColorSpace",value:"/"+R.colorSpace}),R.colorSpace===S.DEVICE_CMYK&&we.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),we.push({key:"BitsPerComponent",value:R.bitsPerComponent}),"decodeParameters"in R&&R.decodeParameters!==void 0&&we.push({key:"DecodeParms",value:"<<"+R.decodeParameters+">>"}),"transparency"in R&&Array.isArray(R.transparency)&&R.transparency.length>0){for(var je="",Ne=0,Te=R.transparency.length;Ne<Te;Ne++)je+=R.transparency[Ne]+" "+R.transparency[Ne]+" ";we.push({key:"Mask",value:"["+je+"]"})}R.sMask!==void 0&&we.push({key:"SMask",value:R.objectId+1+" 0 R"});var Ve=R.filter!==void 0?["/"+R.filter]:void 0;if(ne({data:R.data,additionalKeyValues:we,alreadyAppliedFilters:Ve,objectId:R.objectId}),ee("endobj"),"sMask"in R&&R.sMask!==void 0){var Be,T=(Be=R.sMaskBitsPerComponent)!==null&&Be!==void 0?Be:R.bitsPerComponent,D={width:R.width,height:R.height,colorSpace:"DeviceGray",bitsPerComponent:T,data:R.sMask};"filter"in R&&(D.decodeParameters="/Predictor ".concat(R.predictor," /Colors 1 /BitsPerComponent ").concat(T," /Columns ").concat(R.width),D.filter=R.filter),O.call(this,D)}if(R.colorSpace===S.INDEXED){var q=this.internal.newObject();ne({data:Q(new Uint8Array(R.palette)),objectId:q}),ee("endobj")}},c=function(){var O=this.internal.collections[t+"images"];for(var R in O)i.call(this,O[R])},s=function(){var O,R=this.internal.collections[t+"images"],ee=this.internal.write;for(var ne in R)ee("/I"+(O=R[ne]).index,O.objectId,"0","R")},u=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",c),this.internal.events.subscribe("putXobjectDict",s))},d=function(){var O=this.internal.collections[t+"images"];return u.call(this),O},m=function(){return Object.keys(this.internal.collections[t+"images"]).length},b=function(O){return typeof n["process"+O.toUpperCase()]=="function"},x=function(O){return _n(O)==="object"&&O.nodeType===1},p=function(O,R){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var ee=""+O.getAttribute("src");if(ee.indexOf("data:image/")===0)return vl(unescape(ee).split("base64,").pop());var ne=n.loadFile(ee,!0);if(ne!==void 0)return ne}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var Se;switch(R){case"PNG":Se="image/png";break;case"WEBP":Se="image/webp";break;default:Se="image/jpeg"}return vl(O.toDataURL(Se,1).split("base64,").pop())}},L=function(O){var R=this.internal.collections[t+"images"];if(R){for(var ee in R)if(O===R[ee].alias)return R[ee]}},k=function(O,R,ee){return O||R||(O=-96,R=-96),O<0&&(O=-1*ee.width*72/O/this.internal.scaleFactor),R<0&&(R=-1*ee.height*72/R/this.internal.scaleFactor),O===0&&(O=R*ee.width/ee.height),R===0&&(R=O*ee.height/ee.width),[O,R]},C=function(O,R,ee,ne,Se,we){var je=k.call(this,ee,ne,Se),Ne=this.internal.getCoordinateString,Te=this.internal.getVerticalCoordinateString,Ve=d.call(this);if(ee=je[0],ne=je[1],Ve[Se.index]=Se,we){we*=Math.PI/180;var Be=Math.cos(we),T=Math.sin(we),D=function(X){return X.toFixed(4)},q=[D(Be),D(T),D(-1*T),D(Be),0,0,"cm"]}this.internal.write("q"),we?(this.internal.write([1,"0","0",1,Ne(O),Te(R+ne),"cm"].join(" ")),this.internal.write(q.join(" ")),this.internal.write([Ne(ee),"0","0",Ne(ne),"0","0","cm"].join(" "))):this.internal.write([Ne(ee),"0","0",Ne(ne),Ne(O),Te(R+ne),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Se.index+" Do"),this.internal.write("Q")},S=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var F=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},V=n.__addimage__.sHashCode=function(O){var R,ee,ne=0;if(typeof O=="string")for(ee=O.length,R=0;R<ee;R++)ne=(ne<<5)-ne+O.charCodeAt(R),ne|=0;else if(ue(O))for(ee=O.byteLength/2,R=0;R<ee;R++)ne=(ne<<5)-ne+O[R],ne|=0;return ne},W=n.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var R=!0;return O.length===0&&(R=!1),O.length%4!=0&&(R=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(R=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(R=!1),R},be=n.__addimage__.extractImageFromDataUrl=function(O){if(O==null||!(O=O.trim()).startsWith("data:"))return null;var R=O.indexOf(",");return R<0?null:O.substring(0,R).trim().endsWith("base64")?O.substring(R+1):null};n.__addimage__.isArrayBuffer=function(O){return O instanceof ArrayBuffer};var ue=n.__addimage__.isArrayBufferView=function(O){return O instanceof Int8Array||O instanceof Uint8Array||O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array},re=n.__addimage__.binaryStringToUint8Array=function(O){for(var R=O.length,ee=new Uint8Array(R),ne=0;ne<R;ne++)ee[ne]=O.charCodeAt(ne);return ee},Q=n.__addimage__.arrayBufferToBinaryString=function(O){for(var R="",ee=ue(O)?O:new Uint8Array(O),ne=0;ne<ee.length;ne+=8192)R+=String.fromCharCode.apply(null,ee.subarray(ne,ne+8192));return R};n.addImage=function(){var O,R,ee,ne,Se,we,je,Ne,Te;if(typeof arguments[1]=="number"?(R=e,ee=arguments[1],ne=arguments[2],Se=arguments[3],we=arguments[4],je=arguments[5],Ne=arguments[6],Te=arguments[7]):(R=arguments[1],ee=arguments[2],ne=arguments[3],Se=arguments[4],we=arguments[5],je=arguments[6],Ne=arguments[7],Te=arguments[8]),_n(O=arguments[0])==="object"&&!x(O)&&"imageData"in O){var Ve=O;O=Ve.imageData,R=Ve.format||R||e,ee=Ve.x||ee||0,ne=Ve.y||ne||0,Se=Ve.w||Ve.width||Se,we=Ve.h||Ve.height||we,je=Ve.alias||je,Ne=Ve.compression||Ne,Te=Ve.rotation||Ve.angle||Te}var Be=this.internal.getFilters();if(Ne===void 0&&Be.indexOf("FlateEncode")!==-1&&(Ne="SLOW"),isNaN(ee)||isNaN(ne))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var T=H.call(this,O,R,je,Ne);return C.call(this,ee,ne,Se,we,T,Te),this};var H=function(O,R,ee,ne){var Se,we,je;if(typeof O=="string"&&a(O)===e){O=unescape(O);var Ne=de(O,!1);(Ne!==""||(Ne=n.loadFile(O,!0))!==void 0)&&(O=Ne)}if(x(O)&&(O=p(O,R)),R=a(O,R),!b(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(((je=ee)==null||je.length===0)&&(ee=function(Te){return typeof Te=="string"||ue(Te)?V(Te):ue(Te.data)?V(Te.data):null}(O)),(Se=L.call(this,ee))||(O instanceof Uint8Array||R==="RGBA"||(we=O,O=re(O)),Se=this["process"+R.toUpperCase()](O,m.call(this),ee,function(Te){return Te&&typeof Te=="string"&&(Te=Te.toUpperCase()),Te in n.image_compression?Te:F.NONE}(ne),we)),!Se)throw new Error("An unknown error occurred whilst processing the image.");return Se},de=n.__addimage__.convertBase64ToBinaryString=function(O,R){R=typeof R!="boolean"||R;var ee,ne="";if(typeof O=="string"){var Se;ee=(Se=be(O))!==null&&Se!==void 0?Se:O;try{ne=vl(ee)}catch(we){if(R)throw W(ee)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+we.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ne};n.getImageProperties=function(O){var R,ee,ne="";if(x(O)&&(O=p(O)),typeof O=="string"&&a(O)===e&&((ne=de(O,!1))===""&&(ne=n.loadFile(O)||""),O=ne),ee=a(O),!b(ee))throw new Error("addImage does not support files of type '"+ee+"', please ensure that a plugin for '"+ee+"' support is added.");if(O instanceof Uint8Array||(O=re(O)),!(R=this["process"+ee.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return R.fileType=ee,R}})(Pt.API),function(n){var t=function(e){if(e!==void 0&&e!="")return!0};Pt.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(e){for(var r,a,i,c=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(e.objId),d=e.pageContext.annotations,m=!1,b=0;b<d.length&&!m;b++)switch((r=d[b]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(m=!0);break;case"reference":case"text":case"freetext":m=!0}if(m!=0){this.internal.write("/Annots [");for(var x=0;x<d.length;x++){r=d[x];var p=this.internal.pdfEscape,L=this.internal.getEncryptor(e.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var k=this.internal.newAdditionalObject(),C=this.internal.newAdditionalObject(),S=this.internal.getEncryptor(k.objId),F=r.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+c(r.bounds.x)+" "+s(r.bounds.y+r.bounds.h)+" "+c(r.bounds.x+r.bounds.w)+" "+s(r.bounds.y)+"] ")+"/Contents ("+p(S(r.contents))+")",i+=" /Popup "+C.objId+" 0 R",i+=" /P "+u.objId+" 0 R",i+=" /T ("+p(S(F))+") >>",k.content=i;var V=k.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+c(r.bounds.x+30)+" "+s(r.bounds.y+r.bounds.h)+" "+c(r.bounds.x+r.bounds.w+30)+" "+s(r.bounds.y)+"] ")+" /Parent "+V,r.open&&(i+=" /Open true"),i+=" >>",C.content=i,this.internal.write(k.objId,"0 R",C.objId,"0 R");break;case"freetext":a="/Rect ["+c(r.bounds.x)+" "+s(r.bounds.y)+" "+c(r.bounds.x+r.bounds.w)+" "+s(r.bounds.y+r.bounds.h)+"] ";var W=r.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+p(L(r.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+W+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(r.options.name){var be=this.annotations._nameMap[r.options.name];r.options.pageNumber=be.page,r.options.top=be.y}else r.options.top||(r.options.top=0);if(a="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",i="",r.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+p(L(r.options.url))+") >>";else if(r.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,i+=" /FitV "+r.options.left+"]";break;default:var ue=s(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),i+=" /XYZ "+r.options.left+" "+ue+" "+r.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),n.createAnnotation=function(e){var r=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":r.pageContext.annotations.push(e)}},n.link=function(e,r,a,i,c){var s=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:u(e),y:d(r),w:u(e+a),h:d(r+i)},options:c,type:"link"})},n.textWithLink=function(e,r,a,i){var c,s,u=this.getTextWidth(e),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){s=i.maxWidth;var m=this.splitTextToSize(e,s).length;c=Math.ceil(d*m)}else s=u,c=d;return this.text(e,r,a,i),a+=.2*d,i.align==="center"&&(r-=u/2),i.align==="right"&&(r-=u),this.link(r,a-d,s,c,i),u},n.getTextWidth=function(e){var r=this.internal.getFontSize();return this.getStringUnitWidth(e)*r/this.internal.scaleFactor}}(Pt.API),function(n){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];n.__arabicParser__={};var i=n.__arabicParser__.isInArabicSubstitutionA=function(k){return t[k.charCodeAt(0)]!==void 0},c=n.__arabicParser__.isArabicLetter=function(k){return typeof k=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(k)},s=n.__arabicParser__.isArabicEndLetter=function(k){return c(k)&&i(k)&&t[k.charCodeAt(0)].length<=2},u=n.__arabicParser__.isArabicAlfLetter=function(k){return c(k)&&a.indexOf(k.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(k){return c(k)&&i(k)&&t[k.charCodeAt(0)].length>=1};var d=n.__arabicParser__.arabicLetterHasFinalForm=function(k){return c(k)&&i(k)&&t[k.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(k){return c(k)&&i(k)&&t[k.charCodeAt(0)].length>=3};var m=n.__arabicParser__.arabicLetterHasMedialForm=function(k){return c(k)&&i(k)&&t[k.charCodeAt(0)].length==4},b=n.__arabicParser__.resolveLigatures=function(k){var C=0,S=e,F="",V=0;for(C=0;C<k.length;C+=1)S[k.charCodeAt(C)]!==void 0?(V++,typeof(S=S[k.charCodeAt(C)])=="number"&&(F+=String.fromCharCode(S),S=e,V=0),C===k.length-1&&(S=e,F+=k.charAt(C-(V-1)),C-=V-1,V=0)):(S=e,F+=k.charAt(C-V),C-=V,V=0);return F};n.__arabicParser__.isArabicDiacritic=function(k){return k!==void 0&&r[k.charCodeAt(0)]!==void 0};var x=n.__arabicParser__.getCorrectForm=function(k,C,S){return c(k)?i(k)===!1?-1:!d(k)||!c(C)&&!c(S)||!c(S)&&s(C)||s(k)&&!c(C)||s(k)&&u(C)||s(k)&&s(C)?0:m(k)&&c(C)&&!s(C)&&c(S)&&d(S)?3:s(k)||!c(S)?1:2:-1},p=function(k){var C=0,S=0,F=0,V="",W="",be="",ue=(k=k||"").split("\\s+"),re=[];for(C=0;C<ue.length;C+=1){for(re.push(""),S=0;S<ue[C].length;S+=1)V=ue[C][S],W=ue[C][S-1],be=ue[C][S+1],c(V)?(F=x(V,W,be),re[C]+=F!==-1?String.fromCharCode(t[V.charCodeAt(0)][F]):V):re[C]+=V;re[C]=b(re[C])}return re.join(" ")},L=n.__arabicParser__.processArabic=n.processArabic=function(){var k,C=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,S=[];if(Array.isArray(C)){var F=0;for(S=[],F=0;F<C.length;F+=1)Array.isArray(C[F])?S.push([p(C[F][0]),C[F][1],C[F][2]]):S.push([p(C[F])]);k=S}else k=p(C);return typeof arguments[0]=="string"?k:(arguments[0].text=k,arguments[0])};n.events.push(["preProcessText",L])}(Pt.API),Pt.API.autoPrint=function(n){var t;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(n){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(s){e=s}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(s){r=isNaN(s)||Number.isInteger(s)===!1||s<0?150:s,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(s){a=isNaN(s)||Number.isInteger(s)===!1||s<0?300:s,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(s){i=s}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(s){c=s}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,r){var a;if((e=e||"2d")!=="2d")return null;for(a in r)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=r[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Pt.API),function(n){var t={left:0,top:0,bottom:0,right:0},e=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(k){u=k}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(k){d=k}});var m=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return m},set:function(k){m=k}});var b=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return b},set:function(k){b=k}});var x=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return x},set:function(k){x=k}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(k){p=k}});var L=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return L},set:function(k){L=k}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(u){return r.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},n.getTextDimensions=function(u,d){r.call(this);var m=(d=d||{}).fontSize||this.getFontSize(),b=d.font||this.getFont(),x=d.scaleFactor||this.internal.scaleFactor,p=0,L=0,k=0,C=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var S=d.maxWidth;S>0?typeof u=="string"?u=this.splitTextToSize(u,S):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(V,W){return V.concat(C.splitTextToSize(W,S))},[])):u=Array.isArray(u)?u:[u];for(var F=0;F<u.length;F++)p<(k=this.getStringUnitWidth(u[F],{font:b})*m)&&(p=k);return p!==0&&(L=u.length),{w:p/=x,h:Math.max((L*m*this.getLineHeightFactor()-m*(this.getLineHeightFactor()-1))/x,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var u=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=n.cell=function(){var u;u=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var d=this.internal.__cell__.lastCell,m=this.internal.__cell__.padding,b=this.internal.__cell__.margins||t,x=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===u.lineNumber?(u.x=(d.x||0)+(d.width||0),u.y=d.y||0):d.y+d.height+u.height+b.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=b.top,p&&x&&(this.printHeaderRow(u.lineNumber,!0),u.y+=x[0].height)):u.y=d.y+d.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,e===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-m,u.y+m,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+m,{align:"center",baseline:"top",maxWidth:u.width-m-m}):this.text(u.text,u.x+m,u.y+m,{align:"left",baseline:"top",maxWidth:u.width-m-m})),this.internal.__cell__.lastCell=u,this};n.table=function(u,d,m,b,x){if(r.call(this),!m)throw new Error("No data for PDF table.");var p,L,k,C,S=[],F=[],V=[],W={},be={},ue=[],re=[],Q=(x=x||{}).autoSize||!1,H=x.printHeaders!==!1,de=x.css&&x.css["font-size"]!==void 0?16*x.css["font-size"]:x.fontSize||12,O=x.margins||Object.assign({width:this.getPageWidth()},t),R=typeof x.padding=="number"?x.padding:3,ee=x.headerBackgroundColor||"#c8c8c8",ne=x.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=H,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=de,this.internal.__cell__.padding=R,this.internal.__cell__.headerBackgroundColor=ee,this.internal.__cell__.headerTextColor=ne,this.setFontSize(de),b==null)F=S=Object.keys(m[0]),V=S.map(function(){return"left"});else if(Array.isArray(b)&&_n(b[0])==="object")for(S=b.map(function(Ve){return Ve.name}),F=b.map(function(Ve){return Ve.prompt||Ve.name||""}),V=b.map(function(Ve){return Ve.align||"left"}),p=0;p<b.length;p+=1)be[b[p].name]=.7499990551181103*b[p].width;else Array.isArray(b)&&typeof b[0]=="string"&&(F=S=b,V=S.map(function(){return"left"}));if(Q||Array.isArray(b)&&typeof b[0]=="string")for(p=0;p<S.length;p+=1){for(W[C=S[p]]=m.map(function(Ve){return Ve[C]}),this.setFont(void 0,"bold"),ue.push(this.getTextDimensions(F[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),L=W[C],this.setFont(void 0,"normal"),k=0;k<L.length;k+=1)ue.push(this.getTextDimensions(L[k],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);be[C]=Math.max.apply(null,ue)+R+R,ue=[]}if(H){var Se={};for(p=0;p<S.length;p+=1)Se[S[p]]={},Se[S[p]].text=F[p],Se[S[p]].align=V[p];var we=s.call(this,Se,be);re=S.map(function(Ve){return new i(u,d,be[Ve],we,Se[Ve].text,void 0,Se[Ve].align)}),this.setTableHeaderRow(re),this.printHeaderRow(1,!1)}var je=b.reduce(function(Ve,Be){return Ve[Be.name]=Be.align,Ve},{});for(p=0;p<m.length;p+=1){"rowStart"in x&&x.rowStart instanceof Function&&x.rowStart({row:p,data:m[p]},this);var Ne=s.call(this,m[p],be);for(k=0;k<S.length;k+=1){var Te=m[p][S[k]];"cellStart"in x&&x.cellStart instanceof Function&&x.cellStart({row:p,col:k,data:Te},this),c.call(this,new i(u,d,be[S[k]],Ne,Te,p+2,je[S[k]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=d,this};var s=function(u,d){var m=this.internal.__cell__.padding,b=this.internal.__cell__.table_font_size,x=this.internal.scaleFactor;return Object.keys(u).map(function(p){var L=u[p];return this.splitTextToSize(L.hasOwnProperty("text")?L.text:L,d[p]-m-m)},this).map(function(p){return this.getLineHeightFactor()*p.length*b/x+m+m},this).reduce(function(p,L){return Math.max(p,L)},0)};n.setTableHeaderRow=function(u){r.call(this),this.internal.__cell__.tableHeaderRow=u},n.printHeaderRow=function(u,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var m;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var b=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(b[0],b[1],b[2],b[3],void 0,-1)}this.setFont(void 0,"bold");for(var x=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){m=this.internal.__cell__.tableHeaderRow[p].clone(),d&&(m.y=this.internal.__cell__.margins.top||0,x.push(m)),m.lineNumber=u;var L=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,m),this.setTextColor(L)}x.length>0&&this.setTableHeaderRow(x),this.setFont(void 0,"normal"),e=!1}}(Pt.API);var b1={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},y1=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],fu=v1(y1),w1=[100,200,300,400,500,600,700,800,900],ny=v1(w1);function Kc(n){var t=n.family.replace(/"|'/g,"").toLowerCase(),e=function(i){return b1[i=i||"normal"]?i:"normal"}(n.style),r=function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400}(n.weight),a=function(i){return typeof fu[i=i||"normal"]=="number"?i:"normal"}(n.stretch);return{family:t,style:e,weight:r,stretch:a,src:n.src||[],ref:n.ref||{name:t,style:[a,e,r].join(" ")}}}function Pd(n,t,e,r){var a;for(a=e;a>=0&&a<t.length;a+=r)if(n[t[a]])return n[t[a]];for(a=e;a>=0&&a<t.length;a-=r)if(n[t[a]])return n[t[a]]}var ry={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},jd={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Cd(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function Ed(n){return n.trimLeft()}function iy(n,t){for(var e=0;e<n.length;){if(n.charAt(e)===t)return[n.substring(0,e),n.substring(e+1)];e+=1}return null}function ay(n){var t=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],n.substring(t[0].length)]}var hl,Id,Td,Yo,pl,Od,Rd,Dd,$c=["times"];function Md(n,t,e,r,a){var i=4,c=Bd;switch(a){case Pt.API.image_compression.FAST:i=1,c=Fd;break;case Pt.API.image_compression.MEDIUM:i=6,c=zd;break;case Pt.API.image_compression.SLOW:i=9,c=qd}n=function(u,d,m,b){for(var x,p=u.length/d,L=new Uint8Array(u.length+p),k=[oy,Fd,Bd,zd,qd],C=0;C<p;C+=1){var S=C*d,F=u.subarray(S,S+d);if(b)L.set(b(F,m,x),S+C);else{for(var V=k.length,W=[],be=0;be<V;be+=1)W[be]=k[be](F,m,x);var ue=ly(W.concat());L.set(W[ue],S+C)}x=F}return L}(n,t,Math.ceil(e*r/8),c);var s=iu(n,{level:i});return Pt.API.__addimage__.arrayBufferToBinaryString(s)}function oy(n){var t=Array.apply([],n);return t.unshift(0),t}function Fd(n,t){var e=n.length,r=[];r[0]=1;for(var a=0;a<e;a+=1){var i=n[a-t]||0;r[a+1]=n[a]-i+256&255}return r}function Bd(n,t,e){var r=n.length,a=[];a[0]=2;for(var i=0;i<r;i+=1){var c=e&&e[i]||0;a[i+1]=n[i]-c+256&255}return a}function zd(n,t,e){var r=n.length,a=[];a[0]=3;for(var i=0;i<r;i+=1){var c=n[i-t]||0,s=e&&e[i]||0;a[i+1]=n[i]+256-(c+s>>>1)&255}return a}function qd(n,t,e){var r=n.length,a=[];a[0]=4;for(var i=0;i<r;i+=1){var c=sy(n[i-t]||0,e&&e[i]||0,e&&e[i-t]||0);a[i+1]=n[i]-c+256&255}return a}function sy(n,t,e){if(n===t&&t===e)return n;var r=Math.abs(t-e),a=Math.abs(n-e),i=Math.abs(n+t-e-e);return r<=a&&r<=i?n:a<=i?t:e}function ly(n){var t=n.map(function(e){return e.reduce(function(r,a){return r+Math.abs(a)},0)});return t.indexOf(Math.min.apply(null,t))}function Gc(n,t,e){var r=t*e,a=Math.floor(r/8),i=16-(r-8*a+e),c=(1<<e)-1;return x1(n,a)>>i&c}function Ud(n,t,e,r){var a=e*r,i=Math.floor(a/8),c=16-(a-8*i+r),s=(1<<r)-1,u=(t&s)<<c;(function(d,m,b){if(m+1<d.byteLength)d.setUint16(m,b,!1);else{var x=b>>8&255;d.setUint8(m,x)}})(n,i,x1(n,i)&~(s<<c)&65535|u)}function x1(n,t){return t+1<n.byteLength?n.getUint16(t,!1):n.getUint8(t)<<8}function cy(n){var t=0;if(n[t++]!==71||n[t++]!==73||n[t++]!==70||n[t++]!==56||(n[t++]+1&253)!=56||n[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=n[t++]|n[t++]<<8,r=n[t++]|n[t++]<<8,a=n[t++],i=a>>7,c=1<<1+(7&a);n[t++],n[t++];var s=null,u=null;i&&(s=t,u=c,t+=3*c);var d=!0,m=[],b=0,x=null,p=0,L=null;for(this.width=e,this.height=r;d&&t<n.length;)switch(n[t++]){case 33:switch(n[t++]){case 255:if(n[t]!==11||n[t+1]==78&&n[t+2]==69&&n[t+3]==84&&n[t+4]==83&&n[t+5]==67&&n[t+6]==65&&n[t+7]==80&&n[t+8]==69&&n[t+9]==50&&n[t+10]==46&&n[t+11]==48&&n[t+12]==3&&n[t+13]==1&&n[t+16]==0)t+=14,L=n[t++]|n[t++]<<8,t++;else for(t+=12;;){if(!((O=n[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}break;case 249:if(n[t++]!==4||n[t+4]!==0)throw new Error("Invalid graphics extension block.");var k=n[t++];b=n[t++]|n[t++]<<8,x=n[t++],1&k||(x=null),p=k>>2&7,t++;break;case 254:for(;;){if(!((O=n[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}break;default:throw new Error("Unknown graphic control label: 0x"+n[t-1].toString(16))}break;case 44:var C=n[t++]|n[t++]<<8,S=n[t++]|n[t++]<<8,F=n[t++]|n[t++]<<8,V=n[t++]|n[t++]<<8,W=n[t++],be=W>>6&1,ue=1<<1+(7&W),re=s,Q=u,H=!1;W>>7&&(H=!0,re=t,Q=ue,t+=3*ue);var de=t;for(t++;;){var O;if(!((O=n[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}m.push({x:C,y:S,width:F,height:V,has_local_palette:H,palette_offset:re,palette_size:Q,data_offset:de,data_length:t-de,transparent_index:x,interlaced:!!be,delay:b,disposal:p});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+n[t-1].toString(16))}this.numFrames=function(){return m.length},this.loopCount=function(){return L},this.frameInfo=function(R){if(R<0||R>=m.length)throw new Error("Frame index out of range.");return m[R]},this.decodeAndBlitFrameBGRA=function(R,ee){var ne=this.frameInfo(R),Se=ne.width*ne.height,we=new Uint8Array(Se);Hd(n,ne.data_offset,we,Se);var je=ne.palette_offset,Ne=ne.transparent_index;Ne===null&&(Ne=256);var Te=ne.width,Ve=e-Te,Be=Te,T=4*(ne.y*e+ne.x),D=4*((ne.y+ne.height)*e+ne.x),q=T,X=4*Ve;ne.interlaced===!0&&(X+=4*e*7);for(var te=8,Z=0,le=we.length;Z<le;++Z){var ae=we[Z];if(Be===0&&(Be=Te,(q+=X)>=D&&(X=4*Ve+4*e*(te-1),q=T+(Te+Ve)*(te<<1),te>>=1)),ae===Ne)q+=4;else{var Le=n[je+3*ae],De=n[je+3*ae+1],Re=n[je+3*ae+2];ee[q++]=Re,ee[q++]=De,ee[q++]=Le,ee[q++]=255}--Be}},this.decodeAndBlitFrameRGBA=function(R,ee){var ne=this.frameInfo(R),Se=ne.width*ne.height,we=new Uint8Array(Se);Hd(n,ne.data_offset,we,Se);var je=ne.palette_offset,Ne=ne.transparent_index;Ne===null&&(Ne=256);var Te=ne.width,Ve=e-Te,Be=Te,T=4*(ne.y*e+ne.x),D=4*((ne.y+ne.height)*e+ne.x),q=T,X=4*Ve;ne.interlaced===!0&&(X+=4*e*7);for(var te=8,Z=0,le=we.length;Z<le;++Z){var ae=we[Z];if(Be===0&&(Be=Te,(q+=X)>=D&&(X=4*Ve+4*e*(te-1),q=T+(Te+Ve)*(te<<1),te>>=1)),ae===Ne)q+=4;else{var Le=n[je+3*ae],De=n[je+3*ae+1],Re=n[je+3*ae+2];ee[q++]=Le,ee[q++]=De,ee[q++]=Re,ee[q++]=255}--Be}}}function Hd(n,t,e,r){for(var a=n[t++],i=1<<a,c=i+1,s=c+1,u=a+1,d=(1<<u)-1,m=0,b=0,x=0,p=n[t++],L=new Int32Array(4096),k=null;;){for(;m<16&&p!==0;)b|=n[t++]<<m,m+=8,p===1?p=n[t++]:--p;if(m<u)break;var C=b&d;if(b>>=u,m-=u,C!==i){if(C===c)break;for(var S=C<s?C:k,F=0,V=S;V>i;)V=L[V]>>8,++F;var W=V;if(x+F+(S!==C?1:0)>r)return void Ln.log("Warning, gif stream longer than expected.");e[x++]=W;var be=x+=F;for(S!==C&&(e[x++]=W),V=S;F--;)V=L[V],e[--be]=255&V,V>>=8;k!==null&&s<4096&&(L[s++]=k<<8|W,s>=d+1&&u<12&&(++u,d=d<<1|1)),k=C}else s=c+1,d=(1<<(u=a+1))-1,k=null}return x!==r&&Ln.log("Warning, gif stream shorter than expected."),e}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Yc(n){var t,e,r,a,i,c=Math.floor,s=new Array(64),u=new Array(64),d=new Array(64),m=new Array(64),b=new Array(65535),x=new Array(65535),p=new Array(64),L=new Array(64),k=[],C=0,S=7,F=new Array(64),V=new Array(64),W=new Array(64),be=new Array(256),ue=new Array(2048),re=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Q=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],H=[0,1,2,3,4,5,6,7,8,9,10,11],de=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],R=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ee=[0,1,2,3,4,5,6,7,8,9,10,11],ne=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Se=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function we(T,D){for(var q=0,X=0,te=new Array,Z=1;Z<=16;Z++){for(var le=1;le<=T[Z];le++)te[D[X]]=[],te[D[X]][0]=q,te[D[X]][1]=Z,X++,q++;q*=2}return te}function je(T){for(var D=T[0],q=T[1]-1;q>=0;)D&1<<q&&(C|=1<<S),q--,--S<0&&(C==255?(Ne(255),Ne(0)):Ne(C),S=7,C=0)}function Ne(T){k.push(T)}function Te(T){Ne(T>>8&255),Ne(255&T)}function Ve(T,D,q,X,te){for(var Z,le=te[0],ae=te[240],Le=function($e,gt){var Qe,xt,ft,an,Tt,Ct,Qt,Rt,ht,At,wt=0;for(ht=0;ht<8;++ht){Qe=$e[wt],xt=$e[wt+1],ft=$e[wt+2],an=$e[wt+3],Tt=$e[wt+4],Ct=$e[wt+5],Qt=$e[wt+6];var Yt=Qe+(Rt=$e[wt+7]),en=Qe-Rt,vt=xt+Qt,Et=xt-Qt,tt=ft+Ct,kt=ft-Ct,zt=an+Tt,jt=an-Tt,Xe=Yt+zt,In=Yt-zt,dn=vt+tt,It=vt-tt;$e[wt]=Xe+dn,$e[wt+4]=Xe-dn;var st=.707106781*(It+In);$e[wt+2]=In+st,$e[wt+6]=In-st;var vn=.382683433*((Xe=jt+kt)-(It=Et+en)),on=.5411961*Xe+vn,Tn=1.306562965*It+vn,Kn=.707106781*(dn=kt+Et),lt=en+Kn,Pn=en-Kn;$e[wt+5]=Pn+on,$e[wt+3]=Pn-on,$e[wt+1]=lt+Tn,$e[wt+7]=lt-Tn,wt+=8}for(wt=0,ht=0;ht<8;++ht){Qe=$e[wt],xt=$e[wt+8],ft=$e[wt+16],an=$e[wt+24],Tt=$e[wt+32],Ct=$e[wt+40],Qt=$e[wt+48];var cr=Qe+(Rt=$e[wt+56]),Dt=Qe-Rt,Kt=xt+Qt,Sn=xt-Qt,gn=ft+Ct,Wn=ft-Ct,bi=an+Tt,Xi=an-Tt,ar=cr+bi,_r=cr-bi,or=Kt+gn,Cr=Kt-gn;$e[wt]=ar+or,$e[wt+32]=ar-or;var Wr=.707106781*(Cr+_r);$e[wt+16]=_r+Wr,$e[wt+48]=_r-Wr;var Er=.382683433*((ar=Xi+Wn)-(Cr=Sn+Dt)),ei=.5411961*ar+Er,Fr=1.306562965*Cr+Er,ha=.707106781*(or=Wn+Sn),Ji=Dt+ha,Nn=Dt-ha;$e[wt+40]=Nn+ei,$e[wt+24]=Nn-ei,$e[wt+8]=Ji+Fr,$e[wt+56]=Ji-Fr,wt++}for(ht=0;ht<64;++ht)At=$e[ht]*gt[ht],p[ht]=At>0?At+.5|0:At-.5|0;return p}(T,D),De=0;De<64;++De)L[re[De]]=Le[De];var Re=L[0]-q;q=L[0],Re==0?je(X[0]):(je(X[x[Z=32767+Re]]),je(b[Z]));for(var Ke=63;Ke>0&&L[Ke]==0;)Ke--;if(Ke==0)return je(le),q;for(var Ie,J=1;J<=Ke;){for(var Ot=J;L[J]==0&&J<=Ke;)++J;var St=J-Ot;if(St>=16){Ie=St>>4;for(var ut=1;ut<=Ie;++ut)je(ae);St&=15}Z=32767+L[J],je(te[(St<<4)+x[Z]]),je(b[Z]),J++}return Ke!=63&&je(le),q}function Be(T){T=Math.min(Math.max(T,1),100),i!=T&&(function(D){for(var q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],X=0;X<64;X++){var te=c((q[X]*D+50)/100);te=Math.min(Math.max(te,1),255),s[re[X]]=te}for(var Z=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],le=0;le<64;le++){var ae=c((Z[le]*D+50)/100);ae=Math.min(Math.max(ae,1),255),u[re[le]]=ae}for(var Le=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],De=0,Re=0;Re<8;Re++)for(var Ke=0;Ke<8;Ke++)d[De]=1/(s[re[De]]*Le[Re]*Le[Ke]*8),m[De]=1/(u[re[De]]*Le[Re]*Le[Ke]*8),De++}(T<50?Math.floor(5e3/T):Math.floor(200-2*T)),i=T)}this.encode=function(T,D){D&&Be(D),k=new Array,C=0,S=7,Te(65496),Te(65504),Te(16),Ne(74),Ne(70),Ne(73),Ne(70),Ne(0),Ne(1),Ne(1),Ne(0),Te(1),Te(1),Ne(0),Ne(0),function(){Te(65499),Te(132),Ne(0);for(var xt=0;xt<64;xt++)Ne(s[xt]);Ne(1);for(var ft=0;ft<64;ft++)Ne(u[ft])}(),function(xt,ft){Te(65472),Te(17),Ne(8),Te(ft),Te(xt),Ne(3),Ne(1),Ne(17),Ne(0),Ne(2),Ne(17),Ne(1),Ne(3),Ne(17),Ne(1)}(T.width,T.height),function(){Te(65476),Te(418),Ne(0);for(var xt=0;xt<16;xt++)Ne(Q[xt+1]);for(var ft=0;ft<=11;ft++)Ne(H[ft]);Ne(16);for(var an=0;an<16;an++)Ne(de[an+1]);for(var Tt=0;Tt<=161;Tt++)Ne(O[Tt]);Ne(1);for(var Ct=0;Ct<16;Ct++)Ne(R[Ct+1]);for(var Qt=0;Qt<=11;Qt++)Ne(ee[Qt]);Ne(17);for(var Rt=0;Rt<16;Rt++)Ne(ne[Rt+1]);for(var ht=0;ht<=161;ht++)Ne(Se[ht])}(),Te(65498),Te(12),Ne(3),Ne(1),Ne(0),Ne(2),Ne(17),Ne(3),Ne(17),Ne(0),Ne(63),Ne(0);var q=0,X=0,te=0;C=0,S=7,this.encode.displayName="_encode_";for(var Z,le,ae,Le,De,Re,Ke,Ie,J,Ot=T.data,St=T.width,ut=T.height,$e=4*St,gt=0;gt<ut;){for(Z=0;Z<$e;){for(De=$e*gt+Z,Ke=-1,Ie=0,J=0;J<64;J++)Re=De+(Ie=J>>3)*$e+(Ke=4*(7&J)),gt+Ie>=ut&&(Re-=$e*(gt+1+Ie-ut)),Z+Ke>=$e&&(Re-=Z+Ke-$e+4),le=Ot[Re++],ae=Ot[Re++],Le=Ot[Re++],F[J]=(ue[le]+ue[ae+256|0]+ue[Le+512|0]>>16)-128,V[J]=(ue[le+768|0]+ue[ae+1024|0]+ue[Le+1280|0]>>16)-128,W[J]=(ue[le+1280|0]+ue[ae+1536|0]+ue[Le+1792|0]>>16)-128;q=Ve(F,d,q,t,r),X=Ve(V,m,X,e,a),te=Ve(W,m,te,e,a),Z+=32}gt+=8}if(S>=0){var Qe=[];Qe[1]=S+1,Qe[0]=(1<<S+1)-1,je(Qe)}return Te(65497),new Uint8Array(k)},n=n||50,function(){for(var T=String.fromCharCode,D=0;D<256;D++)be[D]=T(D)}(),t=we(Q,H),e=we(R,ee),r=we(de,O),a=we(ne,Se),function(){for(var T=1,D=2,q=1;q<=15;q++){for(var X=T;X<D;X++)x[32767+X]=q,b[32767+X]=[],b[32767+X][1]=q,b[32767+X][0]=X;for(var te=-(D-1);te<=-T;te++)x[32767+te]=q,b[32767+te]=[],b[32767+te][1]=q,b[32767+te][0]=D-1+te;T<<=1,D<<=1}}(),function(){for(var T=0;T<256;T++)ue[T]=19595*T,ue[T+256|0]=38470*T,ue[T+512|0]=7471*T+32768,ue[T+768|0]=-11059*T,ue[T+1024|0]=-21709*T,ue[T+1280|0]=32768*T+8421375,ue[T+1536|0]=-27439*T,ue[T+1792|0]=-5329*T}(),Be(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function qi(n,t){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Wd(n){function t(H){if(!H)throw Error("assert :P")}function e(H,de,O){for(var R=0;4>R;R++)if(H[de+R]!=O.charCodeAt(R))return!0;return!1}function r(H,de,O,R,ee){for(var ne=0;ne<ee;ne++)H[de+ne]=O[R+ne]}function a(H,de,O,R){for(var ee=0;ee<R;ee++)H[de+ee]=O}function i(H){return new Int32Array(H)}function c(H,de){for(var O=[],R=0;R<H;R++)O.push(new de);return O}function s(H,de){var O=[];return function R(ee,ne,Se){for(var we=Se[ne],je=0;je<we&&(ee.push(Se.length>ne+1?[]:new de),!(Se.length<ne+1));je++)R(ee[je],ne+1,Se)}(O,0,H),O}var u=function(){var H=this;function de(o,f){for(var y=1<<f-1>>>0;o&y;)y>>>=1;return y?(o&y-1)+y:o}function O(o,f,y,_,j){t(!(_%y));do o[f+(_-=y)]=j;while(0<_)}function R(o,f,y,_,j){if(t(2328>=j),512>=j)var I=i(512);else if((I=i(j))==null)return 0;return function(M,z,U,G,ge,Ee){var Y,xe,Pe=z,ze=1<<U,Ce=i(16),Ue=i(16);for(t(ge!=0),t(G!=null),t(M!=null),t(0<U),xe=0;xe<ge;++xe){if(15<G[xe])return 0;++Ce[G[xe]]}if(Ce[0]==ge)return 0;for(Ue[1]=0,Y=1;15>Y;++Y){if(Ce[Y]>1<<Y)return 0;Ue[Y+1]=Ue[Y]+Ce[Y]}for(xe=0;xe<ge;++xe)Y=G[xe],0<G[xe]&&(Ee[Ue[Y]++]=xe);if(Ue[15]==1)return(G=new ee).g=0,G.value=Ee[0],O(M,Pe,1,ze,G),ze;var We,Je=-1,Ge=ze-1,Lt=0,mt=1,Xt=1,_t=1<<U;for(xe=0,Y=1,ge=2;Y<=U;++Y,ge<<=1){if(mt+=Xt<<=1,0>(Xt-=Ce[Y]))return 0;for(;0<Ce[Y];--Ce[Y])(G=new ee).g=Y,G.value=Ee[xe++],O(M,Pe+Lt,ge,_t,G),Lt=de(Lt,Y)}for(Y=U+1,ge=2;15>=Y;++Y,ge<<=1){if(mt+=Xt<<=1,0>(Xt-=Ce[Y]))return 0;for(;0<Ce[Y];--Ce[Y]){if(G=new ee,(Lt&Ge)!=Je){for(Pe+=_t,We=1<<(Je=Y)-U;15>Je&&!(0>=(We-=Ce[Je]));)++Je,We<<=1;ze+=_t=1<<(We=Je-U),M[z+(Je=Lt&Ge)].g=We+U,M[z+Je].value=Pe-z-Je}G.g=Y-U,G.value=Ee[xe++],O(M,Pe+(Lt>>U),ge,_t,G),Lt=de(Lt,Y)}}return mt!=2*Ue[15]-1?0:ze}(o,f,y,_,j,I)}function ee(){this.value=this.g=0}function ne(){this.value=this.g=0}function Se(){this.G=c(5,ee),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(kr,ne)}function we(o,f,y,_){t(o!=null),t(f!=null),t(2147483648>_),o.Ca=254,o.I=0,o.b=-8,o.Ka=0,o.oa=f,o.pa=y,o.Jd=f,o.Yc=y+_,o.Zc=4<=_?y+_-4+1:y,le(o)}function je(o,f){for(var y=0;0<f--;)y|=Le(o,128)<<f;return y}function Ne(o,f){var y=je(o,f);return ae(o)?-y:y}function Te(o,f,y,_){var j,I=0;for(t(o!=null),t(f!=null),t(4294967288>_),o.Sb=_,o.Ra=0,o.u=0,o.h=0,4<_&&(_=4),j=0;j<_;++j)I+=f[y+j]<<8*j;o.Ra=I,o.bb=_,o.oa=f,o.pa=y}function Ve(o){for(;8<=o.u&&o.bb<o.Sb;)o.Ra>>>=8,o.Ra+=o.oa[o.pa+o.bb]<<Zn-8>>>0,++o.bb,o.u-=8;X(o)&&(o.h=1,o.u=0)}function Be(o,f){if(t(0<=f),!o.h&&f<=wr){var y=q(o)&ln[f];return o.u+=f,Ve(o),y}return o.h=1,o.u=0}function T(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function D(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function q(o){return o.Ra>>>(o.u&Zn-1)>>>0}function X(o){return t(o.bb<=o.Sb),o.h||o.bb==o.Sb&&o.u>Zn}function te(o,f){o.u=f,o.h=X(o)}function Z(o){o.u>=Di&&(t(o.u>=Di),Ve(o))}function le(o){t(o!=null&&o.oa!=null),o.pa<o.Zc?(o.I=(o.oa[o.pa++]|o.I<<8)>>>0,o.b+=8):(t(o!=null&&o.oa!=null),o.pa<o.Yc?(o.b+=8,o.I=o.oa[o.pa++]|o.I<<8):o.Ka?o.b=0:(o.I<<=8,o.b+=8,o.Ka=1))}function ae(o){return je(o,1)}function Le(o,f){var y=o.Ca;0>o.b&&le(o);var _=o.b,j=y*f>>>8,I=(o.I>>>_>j)+0;for(I?(y-=j,o.I-=j+1<<_>>>0):y=j+1,_=y,j=0;256<=_;)j+=8,_>>=8;return _=7^j+Si[_],o.b-=_,o.Ca=(y<<_)-1,I}function De(o,f,y){o[f+0]=y>>24&255,o[f+1]=y>>16&255,o[f+2]=y>>8&255,o[f+3]=255&y}function Re(o,f){return o[f+0]|o[f+1]<<8}function Ke(o,f){return Re(o,f)|o[f+2]<<16}function Ie(o,f){return Re(o,f)|Re(o,f+2)<<16}function J(o,f){var y=1<<f;return t(o!=null),t(0<f),o.X=i(y),o.X==null?0:(o.Mb=32-f,o.Xa=f,1)}function Ot(o,f){t(o!=null),t(f!=null),t(o.Xa==f.Xa),r(f.X,0,o.X,0,1<<f.Xa)}function St(){this.X=[],this.Xa=this.Mb=0}function ut(o,f,y,_){t(y!=null),t(_!=null);var j=y[0],I=_[0];return j==0&&(j=(o*I+f/2)/f),I==0&&(I=(f*j+o/2)/o),0>=j||0>=I?0:(y[0]=j,_[0]=I,1)}function $e(o,f){return o+(1<<f)-1>>>f}function gt(o,f){return((4278255360&o)+(4278255360&f)>>>0&4278255360)+((16711935&o)+(16711935&f)>>>0&16711935)>>>0}function Qe(o,f){H[f]=function(y,_,j,I,M,z,U){var G;for(G=0;G<M;++G){var ge=H[o](z[U+G-1],j,I+G);z[U+G]=gt(y[_+G],ge)}}}function xt(){this.ud=this.hd=this.jd=0}function ft(o,f){return((4278124286&(o^f))>>>1)+(o&f)>>>0}function an(o){return 0<=o&&256>o?o:0>o?0:255<o?255:void 0}function Tt(o,f){return an(o+(o-f+.5>>1))}function Ct(o,f,y){return Math.abs(f-y)-Math.abs(o-y)}function Qt(o,f,y,_,j,I,M){for(_=I[M-1],y=0;y<j;++y)I[M+y]=_=gt(o[f+y],_)}function Rt(o,f,y,_,j){var I;for(I=0;I<y;++I){var M=o[f+I],z=M>>8&255,U=16711935&(U=(U=16711935&M)+((z<<16)+z));_[j+I]=(4278255360&M)+U>>>0}}function ht(o,f){f.jd=255&o,f.hd=o>>8&255,f.ud=o>>16&255}function At(o,f,y,_,j,I){var M;for(M=0;M<_;++M){var z=f[y+M],U=z>>>8,G=z,ge=255&(ge=(ge=z>>>16)+((o.jd<<24>>24)*(U<<24>>24)>>>5));G=255&(G=(G+=(o.hd<<24>>24)*(U<<24>>24)>>>5)+((o.ud<<24>>24)*(ge<<24>>24)>>>5)),j[I+M]=(4278255360&z)+(ge<<16)+G}}function wt(o,f,y,_,j){H[f]=function(I,M,z,U,G,ge,Ee,Y,xe){for(U=Ee;U<Y;++U)for(Ee=0;Ee<xe;++Ee)G[ge++]=j(z[_(I[M++])])},H[o]=function(I,M,z,U,G,ge,Ee){var Y=8>>I.b,xe=I.Ea,Pe=I.K[0],ze=I.w;if(8>Y)for(I=(1<<I.b)-1,ze=(1<<Y)-1;M<z;++M){var Ce,Ue=0;for(Ce=0;Ce<xe;++Ce)Ce&I||(Ue=_(U[G++])),ge[Ee++]=j(Pe[Ue&ze]),Ue>>=Y}else H["VP8LMapColor"+y](U,G,Pe,ze,ge,Ee,M,z,xe)}}function Yt(o,f,y,_,j){for(y=f+y;f<y;){var I=o[f++];_[j++]=I>>16&255,_[j++]=I>>8&255,_[j++]=255&I}}function en(o,f,y,_,j){for(y=f+y;f<y;){var I=o[f++];_[j++]=I>>16&255,_[j++]=I>>8&255,_[j++]=255&I,_[j++]=I>>24&255}}function vt(o,f,y,_,j){for(y=f+y;f<y;){var I=(M=o[f++])>>16&240|M>>12&15,M=240&M|M>>28&15;_[j++]=I,_[j++]=M}}function Et(o,f,y,_,j){for(y=f+y;f<y;){var I=(M=o[f++])>>16&248|M>>13&7,M=M>>5&224|M>>3&31;_[j++]=I,_[j++]=M}}function tt(o,f,y,_,j){for(y=f+y;f<y;){var I=o[f++];_[j++]=255&I,_[j++]=I>>8&255,_[j++]=I>>16&255}}function kt(o,f,y,_,j,I){if(I==0)for(y=f+y;f<y;)De(_,((I=o[f++])[0]>>24|I[1]>>8&65280|I[2]<<8&16711680|I[3]<<24)>>>0),j+=32;else r(_,j,o,f,y)}function zt(o,f){H[f][0]=H[o+"0"],H[f][1]=H[o+"1"],H[f][2]=H[o+"2"],H[f][3]=H[o+"3"],H[f][4]=H[o+"4"],H[f][5]=H[o+"5"],H[f][6]=H[o+"6"],H[f][7]=H[o+"7"],H[f][8]=H[o+"8"],H[f][9]=H[o+"9"],H[f][10]=H[o+"10"],H[f][11]=H[o+"11"],H[f][12]=H[o+"12"],H[f][13]=H[o+"13"],H[f][14]=H[o+"0"],H[f][15]=H[o+"0"]}function jt(o){return o==sc||o==lc||o==Vs||o==cc}function Xe(){this.eb=[],this.size=this.A=this.fb=0}function In(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function dn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Xe,this.f.kb=new In,this.sd=null}function It(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function st(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function vn(o){return alert("todo:WebPSamplerProcessPlane"),o.T}function on(o,f){var y=o.T,_=f.ba.f.RGBA,j=_.eb,I=_.fb+o.ka*_.A,M=Ai[f.ba.S],z=o.y,U=o.O,G=o.f,ge=o.N,Ee=o.ea,Y=o.W,xe=f.cc,Pe=f.dc,ze=f.Mc,Ce=f.Nc,Ue=o.ka,We=o.ka+o.T,Je=o.U,Ge=Je+1>>1;for(Ue==0?M(z,U,null,null,G,ge,Ee,Y,G,ge,Ee,Y,j,I,null,null,Je):(M(f.ec,f.fc,z,U,xe,Pe,ze,Ce,G,ge,Ee,Y,j,I-_.A,j,I,Je),++y);Ue+2<We;Ue+=2)xe=G,Pe=ge,ze=Ee,Ce=Y,ge+=o.Rc,Y+=o.Rc,I+=2*_.A,M(z,(U+=2*o.fa)-o.fa,z,U,xe,Pe,ze,Ce,G,ge,Ee,Y,j,I-_.A,j,I,Je);return U+=o.fa,o.j+We<o.o?(r(f.ec,f.fc,z,U,Je),r(f.cc,f.dc,G,ge,Ge),r(f.Mc,f.Nc,Ee,Y,Ge),y--):1&We||M(z,U,null,null,G,ge,Ee,Y,G,ge,Ee,Y,j,I+_.A,null,null,Je),y}function Tn(o,f,y){var _=o.F,j=[o.J];if(_!=null){var I=o.U,M=f.ba.S,z=M==Ws||M==Vs;f=f.ba.f.RGBA;var U=[0],G=o.ka;U[0]=o.T,o.Kb&&(G==0?--U[0]:(--G,j[0]-=o.width),o.j+o.ka+o.T==o.o&&(U[0]=o.o-o.j-G));var ge=f.eb;G=f.fb+G*f.A,o=Ht(_,j[0],o.width,I,U,ge,G+(z?0:3),f.A),t(y==U),o&&jt(M)&&it(ge,G,z,I,U,f.A)}return 0}function Kn(o){var f=o.ma,y=f.ba.S,_=11>y,j=y==Us||y==Hs||y==Ws||y==oc||y==12||jt(y);if(f.memory=null,f.Ib=null,f.Jb=null,f.Nd=null,!So(f.Oa,o,j?11:12))return 0;if(j&&jt(y)&&_o(),o.da)alert("todo:use_scaling");else{if(_){if(f.Ib=vn,o.Kb){if(y=o.U+1>>1,f.memory=i(o.U+2*y),f.memory==null)return 0;f.ec=f.memory,f.fc=0,f.cc=f.ec,f.dc=f.fc+o.U,f.Mc=f.cc,f.Nc=f.dc+y,f.Ib=on,_o()}}else alert("todo:EmitYUV");j&&(f.Jb=Tn,_&&Ar())}if(_&&!Ju){for(o=0;256>o;++o)D0[o]=89858*(o-128)+$s>>Ks,B0[o]=-22014*(o-128)+$s,F0[o]=-45773*(o-128),M0[o]=113618*(o-128)+$s>>Ks;for(o=ms;o<dc;++o)f=76283*(o-16)+$s>>Ks,z0[o-ms]=qn(f,255),q0[o-ms]=qn(f+8>>4,15);Ju=1}return 1}function lt(o){var f=o.ma,y=o.U,_=o.T;return t(!(1&o.ka)),0>=y||0>=_?0:(y=f.Ib(o,f),f.Jb!=null&&f.Jb(o,f,y),f.Dc+=y,1)}function Pn(o){o.ma.memory=null}function cr(o,f,y,_){return Be(o,8)!=47?0:(f[0]=Be(o,14)+1,y[0]=Be(o,14)+1,_[0]=Be(o,1),Be(o,3)!=0?0:!o.h)}function Dt(o,f){if(4>o)return o+1;var y=o-2>>1;return(2+(1&o)<<y)+Be(f,y)+1}function Kt(o,f){return 120<f?f-120:1<=(y=((y=_0[f-1])>>4)*o+(8-(15&y)))?y:1;var y}function Sn(o,f,y){var _=q(y),j=o[f+=255&_].g-8;return 0<j&&(te(y,y.u+8),_=q(y),f+=o[f].value,f+=_&(1<<j)-1),te(y,y.u+o[f].g),o[f].value}function gn(o,f,y){return y.g+=o.g,y.value+=o.value<<f>>>0,t(8>=y.g),o.g}function Wn(o,f,y){var _=o.xc;return t((f=_==0?0:o.vc[o.md*(y>>_)+(f>>_)])<o.Wb),o.Ya[f]}function bi(o,f,y,_){var j=o.ab,I=o.c*f,M=o.C;f=M+f;var z=y,U=_;for(_=o.Ta,y=o.Ua;0<j--;){var G=o.gc[j],ge=M,Ee=f,Y=z,xe=U,Pe=(U=_,z=y,G.Ea);switch(t(ge<Ee),t(Ee<=G.nc),G.hc){case 2:Dn(Y,xe,(Ee-ge)*Pe,U,z);break;case 0:var ze=ge,Ce=Ee,Ue=U,We=z,Je=(_t=G).Ea;ze==0&&(Va(Y,xe,null,null,1,Ue,We),Qt(Y,xe+1,0,0,Je-1,Ue,We+1),xe+=Je,We+=Je,++ze);for(var Ge=1<<_t.b,Lt=Ge-1,mt=$e(Je,_t.b),Xt=_t.K,_t=_t.w+(ze>>_t.b)*mt;ze<Ce;){var cn=Xt,pr=_t,Jt=1;for(Yr(Y,xe,Ue,We-Je,1,Ue,We);Jt<Je;){var Nt=(Jt&~Lt)+Ge;Nt>Je&&(Nt=Je),(0,h[cn[pr++]>>8&15])(Y,xe+ +Jt,Ue,We+Jt-Je,Nt-Jt,Ue,We+Jt),Jt=Nt}xe+=Je,We+=Je,++ze&Lt||(_t+=mt)}Ee!=G.nc&&r(U,z-Pe,U,z+(Ee-ge-1)*Pe,Pe);break;case 1:for(Pe=Y,Ce=xe,Je=(Y=G.Ea)-(We=Y&~(Ue=(xe=1<<G.b)-1)),ze=$e(Y,G.b),Ge=G.K,G=G.w+(ge>>G.b)*ze;ge<Ee;){for(Lt=Ge,mt=G,Xt=new xt,_t=Ce+We,cn=Ce+Y;Ce<_t;)ht(Lt[mt++],Xt),w(Xt,Pe,Ce,xe,U,z),Ce+=xe,z+=xe;Ce<cn&&(ht(Lt[mt++],Xt),w(Xt,Pe,Ce,Je,U,z),Ce+=Je,z+=Je),++ge&Ue||(G+=ze)}break;case 3:if(Y==U&&xe==z&&0<G.b){for(Ce=U,Y=Pe=z+(Ee-ge)*Pe-(We=(Ee-ge)*$e(G.Ea,G.b)),xe=U,Ue=z,ze=[],We=(Je=We)-1;0<=We;--We)ze[We]=xe[Ue+We];for(We=Je-1;0<=We;--We)Ce[Y+We]=ze[We];Mi(G,ge,Ee,U,Pe,U,z)}else Mi(G,ge,Ee,Y,xe,U,z)}z=_,U=y}U!=y&&r(_,y,z,U,I)}function Xi(o,f){var y=o.V,_=o.Ba+o.c*o.C,j=f-o.C;if(t(f<=o.l.o),t(16>=j),0<j){var I=o.l,M=o.Ta,z=o.Ua,U=I.width;if(bi(o,j,y,_),j=z=[z],t((y=o.C)<(_=f)),t(I.v<I.va),_>I.o&&(_=I.o),y<I.j){var G=I.j-y;y=I.j,j[0]+=G*U}if(y>=_?y=0:(j[0]+=4*I.v,I.ka=y-I.j,I.U=I.va-I.v,I.T=_-y,y=1),y){if(z=z[0],11>(y=o.ca).S){var ge=y.f.RGBA,Ee=(_=y.S,j=I.U,I=I.T,G=ge.eb,ge.A),Y=I;for(ge=ge.fb+o.Ma*ge.A;0<Y--;){var xe=M,Pe=z,ze=j,Ce=G,Ue=ge;switch(_){case qs:N(xe,Pe,ze,Ce,Ue);break;case Us:A(xe,Pe,ze,Ce,Ue);break;case sc:A(xe,Pe,ze,Ce,Ue),it(Ce,Ue,0,ze,1,0);break;case Uu:ie(xe,Pe,ze,Ce,Ue);break;case Hs:kt(xe,Pe,ze,Ce,Ue,1);break;case lc:kt(xe,Pe,ze,Ce,Ue,1),it(Ce,Ue,0,ze,1,0);break;case Ws:kt(xe,Pe,ze,Ce,Ue,0);break;case Vs:kt(xe,Pe,ze,Ce,Ue,0),it(Ce,Ue,1,ze,1,0);break;case oc:E(xe,Pe,ze,Ce,Ue);break;case cc:E(xe,Pe,ze,Ce,Ue),ct(Ce,Ue,ze,1,0);break;case Hu:K(xe,Pe,ze,Ce,Ue);break;default:t(0)}z+=U,ge+=Ee}o.Ma+=I}else alert("todo:EmitRescaledRowsYUVA");t(o.Ma<=y.height)}}o.C=f,t(o.C<=o.i)}function ar(o){var f;if(0<o.ua)return 0;for(f=0;f<o.Wb;++f){var y=o.Ya[f].G,_=o.Ya[f].H;if(0<y[1][_[1]+0].g||0<y[2][_[2]+0].g||0<y[3][_[3]+0].g)return 0}return 1}function _r(o,f,y,_,j,I){if(o.Z!=0){var M=o.qd,z=o.rd;for(t(Ga[o.Z]!=null);f<y;++f)Ga[o.Z](M,z,_,j,_,j,I),M=_,z=j,j+=I;o.qd=M,o.rd=z}}function or(o,f){var y=o.l.ma,_=y.Z==0||y.Z==1?o.l.j:o.C;if(_=o.C<_?_:o.C,t(f<=o.l.o),f>_){var j=o.l.width,I=y.ca,M=y.tb+j*_,z=o.V,U=o.Ba+o.c*_,G=o.gc;t(o.ab==1),t(G[0].hc==3),ci(G[0],_,f,z,U,I,M),_r(y,_,f,I,M,j)}o.C=o.Ma=f}function Cr(o,f,y,_,j,I,M){var z=o.$/_,U=o.$%_,G=o.m,ge=o.s,Ee=y+o.$,Y=Ee;j=y+_*j;var xe=y+_*I,Pe=280+ge.ua,ze=o.Pb?z:16777216,Ce=0<ge.ua?ge.Wa:null,Ue=ge.wc,We=Ee<xe?Wn(ge,U,z):null;t(o.C<I),t(xe<=j);var Je=!1;e:for(;;){for(;Je||Ee<xe;){var Ge=0;if(z>=ze){var Lt=Ee-y;t((ze=o).Pb),ze.wd=ze.m,ze.xd=Lt,0<ze.s.ua&&Ot(ze.s.Wa,ze.s.vb),ze=z+S0}if(U&Ue||(We=Wn(ge,U,z)),t(We!=null),We.Qb&&(f[Ee]=We.qb,Je=!0),!Je)if(Z(G),We.jc){Ge=G,Lt=f;var mt=Ee,Xt=We.pd[q(Ge)&kr-1];t(We.jc),256>Xt.g?(te(Ge,Ge.u+Xt.g),Lt[mt]=Xt.value,Ge=0):(te(Ge,Ge.u+Xt.g-256),t(256<=Xt.value),Ge=Xt.value),Ge==0&&(Je=!0)}else Ge=Sn(We.G[0],We.H[0],G);if(G.h)break;if(Je||256>Ge){if(!Je)if(We.nd)f[Ee]=(We.qb|Ge<<8)>>>0;else{if(Z(G),Je=Sn(We.G[1],We.H[1],G),Z(G),Lt=Sn(We.G[2],We.H[2],G),mt=Sn(We.G[3],We.H[3],G),G.h)break;f[Ee]=(mt<<24|Je<<16|Ge<<8|Lt)>>>0}if(Je=!1,++Ee,++U>=_&&(U=0,++z,M!=null&&z<=I&&!(z%16)&&M(o,z),Ce!=null))for(;Y<Ee;)Ge=f[Y++],Ce.X[(506832829*Ge&4294967295)>>>Ce.Mb]=Ge}else if(280>Ge){if(Ge=Dt(Ge-256,G),Lt=Sn(We.G[4],We.H[4],G),Z(G),Lt=Kt(_,Lt=Dt(Lt,G)),G.h)break;if(Ee-y<Lt||j-Ee<Ge)break e;for(mt=0;mt<Ge;++mt)f[Ee+mt]=f[Ee+mt-Lt];for(Ee+=Ge,U+=Ge;U>=_;)U-=_,++z,M!=null&&z<=I&&!(z%16)&&M(o,z);if(t(Ee<=j),U&Ue&&(We=Wn(ge,U,z)),Ce!=null)for(;Y<Ee;)Ge=f[Y++],Ce.X[(506832829*Ge&4294967295)>>>Ce.Mb]=Ge}else{if(!(Ge<Pe))break e;for(Je=Ge-280,t(Ce!=null);Y<Ee;)Ge=f[Y++],Ce.X[(506832829*Ge&4294967295)>>>Ce.Mb]=Ge;Ge=Ee,t(!(Je>>>(Lt=Ce).Xa)),f[Ge]=Lt.X[Je],Je=!0}Je||t(G.h==X(G))}if(o.Pb&&G.h&&Ee<j)t(o.m.h),o.a=5,o.m=o.wd,o.$=o.xd,0<o.s.ua&&Ot(o.s.vb,o.s.Wa);else{if(G.h)break e;M!=null&&M(o,z>I?I:z),o.a=0,o.$=Ee-y}return 1}return o.a=3,0}function Wr(o){t(o!=null),o.vc=null,o.yc=null,o.Ya=null;var f=o.Wa;f!=null&&(f.X=null),o.vb=null,t(o!=null)}function Er(){var o=new pt;return o==null?null:(o.a=0,o.xb=Ku,zt("Predictor","VP8LPredictors"),zt("Predictor","VP8LPredictors_C"),zt("PredictorAdd","VP8LPredictorsAdd"),zt("PredictorAdd","VP8LPredictorsAdd_C"),Dn=Rt,w=At,N=Yt,A=en,E=vt,K=Et,ie=tt,H.VP8LMapColor32b=fr,H.VP8LMapColor8b=l,o)}function ei(o,f,y,_,j){var I=1,M=[o],z=[f],U=_.m,G=_.s,ge=null,Ee=0;e:for(;;){if(y)for(;I&&Be(U,1);){var Y=M,xe=z,Pe=_,ze=1,Ce=Pe.m,Ue=Pe.gc[Pe.ab],We=Be(Ce,2);if(Pe.Oc&1<<We)I=0;else{switch(Pe.Oc|=1<<We,Ue.hc=We,Ue.Ea=Y[0],Ue.nc=xe[0],Ue.K=[null],++Pe.ab,t(4>=Pe.ab),We){case 0:case 1:Ue.b=Be(Ce,3)+2,ze=ei($e(Ue.Ea,Ue.b),$e(Ue.nc,Ue.b),0,Pe,Ue.K),Ue.K=Ue.K[0];break;case 3:var Je,Ge=Be(Ce,8)+1,Lt=16<Ge?0:4<Ge?1:2<Ge?2:3;if(Y[0]=$e(Ue.Ea,Lt),Ue.b=Lt,Je=ze=ei(Ge,1,0,Pe,Ue.K)){var mt,Xt=Ge,_t=Ue,cn=1<<(8>>_t.b),pr=i(cn);if(pr==null)Je=0;else{var Jt=_t.K[0],Nt=_t.w;for(pr[0]=_t.K[0][0],mt=1;mt<1*Xt;++mt)pr[mt]=gt(Jt[Nt+mt],pr[mt-1]);for(;mt<4*cn;++mt)pr[mt]=0;_t.K[0]=null,_t.K[0]=pr,Je=1}}ze=Je;break;case 2:break;default:t(0)}I=ze}}if(M=M[0],z=z[0],I&&Be(U,1)&&!(I=1<=(Ee=Be(U,4))&&11>=Ee)){_.a=3;break e}var at;if(at=I)t:{var er,$t,fn,Fn=_,Lr=M,qr=z,$n=Ee,Tr=y,Ur=Fn.m,mr=Fn.s,hn=[null],wn=1,Gn=0,xn=N0[$n];n:for(;;){if(Tr&&Be(Ur,1)){var Pr=Be(Ur,3)+2,Bi=$e(Lr,Pr),tr=$e(qr,Pr),Xr=Bi*tr;if(!ei(Bi,tr,0,Fn,hn))break n;for(hn=hn[0],mr.xc=Pr,er=0;er<Xr;++er){var kn=hn[er]>>8&65535;hn[er]=kn,kn>=wn&&(wn=kn+1)}}if(Ur.h)break n;for($t=0;5>$t;++$t){var gr=Wu[$t];!$t&&0<$n&&(gr+=1<<$n),Gn<gr&&(Gn=gr)}var ui=c(wn*xn,ee),Hr=wn,fi=c(Hr,Se);if(fi==null)var di=null;else t(65536>=Hr),di=fi;var Jr=i(Gn);if(di==null||Jr==null||ui==null){Fn.a=1;break n}var hi=ui;for(er=fn=0;er<wn;++er){var Cn=di[er],pi=Cn.G,zi=Cn.H,ko=0,Ea=1,jr=0;for($t=0;5>$t;++$t){gr=Wu[$t],pi[$t]=hi,zi[$t]=fn,!$t&&0<$n&&(gr+=1<<$n);i:{var Ys,hc=gr,Xs=Fn,gs=Jr,W0=hi,V0=fn,pc=0,Ya=Xs.m,K0=Be(Ya,1);if(a(gs,0,0,hc),K0){var $0=Be(Ya,1)+1,G0=Be(Ya,1),ef=Be(Ya,G0==0?1:8);gs[ef]=1,$0==2&&(gs[ef=Be(Ya,8)]=1);var Js=1}else{var tf=i(19),nf=Be(Ya,4)+4;if(19<nf){Xs.a=3;var Zs=0;break i}for(Ys=0;Ys<nf;++Ys)tf[x0[Ys]]=Be(Ya,3);var mc=void 0,vs=void 0,rf=Xs,Y0=tf,Qs=hc,af=gs,gc=0,Xa=rf.m,of=8,sf=c(128,ee);r:for(;R(sf,0,7,Y0,19);){if(Be(Xa,1)){var X0=2+2*Be(Xa,3);if((mc=2+Be(Xa,X0))>Qs)break r}else mc=Qs;for(vs=0;vs<Qs&&mc--;){Z(Xa);var lf=sf[0+(127&q(Xa))];te(Xa,Xa.u+lf.g);var Vo=lf.value;if(16>Vo)af[vs++]=Vo,Vo!=0&&(of=Vo);else{var J0=Vo==16,cf=Vo-16,Z0=y0[cf],uf=Be(Xa,b0[cf])+Z0;if(vs+uf>Qs)break r;for(var Q0=J0?of:0;0<uf--;)af[vs++]=Q0}}gc=1;break r}gc||(rf.a=3),Js=gc}(Js=Js&&!Ya.h)&&(pc=R(W0,V0,8,gs,hc)),Js&&pc!=0?Zs=pc:(Xs.a=3,Zs=0)}if(Zs==0)break n;if(Ea&&w0[$t]==1&&(Ea=hi[fn].g==0),ko+=hi[fn].g,fn+=Zs,3>=$t){var bs,vc=Jr[0];for(bs=1;bs<gr;++bs)Jr[bs]>vc&&(vc=Jr[bs]);jr+=vc}}if(Cn.nd=Ea,Cn.Qb=0,Ea&&(Cn.qb=(pi[3][zi[3]+0].value<<24|pi[1][zi[1]+0].value<<16|pi[2][zi[2]+0].value)>>>0,ko==0&&256>pi[0][zi[0]+0].value&&(Cn.Qb=1,Cn.qb+=pi[0][zi[0]+0].value<<8)),Cn.jc=!Cn.Qb&&6>jr,Cn.jc){var el,Ia=Cn;for(el=0;el<kr;++el){var Ja=el,Za=Ia.pd[Ja],tl=Ia.G[0][Ia.H[0]+Ja];256<=tl.value?(Za.g=tl.g+256,Za.value=tl.value):(Za.g=0,Za.value=0,Ja>>=gn(tl,8,Za),Ja>>=gn(Ia.G[1][Ia.H[1]+Ja],16,Za),Ja>>=gn(Ia.G[2][Ia.H[2]+Ja],0,Za),gn(Ia.G[3][Ia.H[3]+Ja],24,Za))}}}mr.vc=hn,mr.Wb=wn,mr.Ya=di,mr.yc=ui,at=1;break t}at=0}if(!(I=at)){_.a=3;break e}if(0<Ee){if(G.ua=1<<Ee,!J(G.Wa,Ee)){_.a=1,I=0;break e}}else G.ua=0;var bc=_,ff=M,e2=z,yc=bc.s,wc=yc.xc;if(bc.c=ff,bc.i=e2,yc.md=$e(ff,wc),yc.wc=wc==0?-1:(1<<wc)-1,y){_.xb=E0;break e}if((ge=i(M*z))==null){_.a=1,I=0;break e}I=(I=Cr(_,ge,0,M,z,z,null))&&!U.h;break e}return I?(j!=null?j[0]=ge:(t(ge==null),t(y)),_.$=0,y||Wr(G)):Wr(G),I}function Fr(o,f){var y=o.c*o.i,_=y+f+16*f;return t(o.c<=f),o.V=i(_),o.V==null?(o.Ta=null,o.Ua=0,o.a=1,0):(o.Ta=o.V,o.Ua=o.Ba+y+f,1)}function ha(o,f){var y=o.C,_=f-y,j=o.V,I=o.Ba+o.c*y;for(t(f<=o.l.o);0<_;){var M=16<_?16:_,z=o.l.ma,U=o.l.width,G=U*M,ge=z.ca,Ee=z.tb+U*y,Y=o.Ta,xe=o.Ua;bi(o,M,j,I),nn(Y,xe,ge,Ee,G),_r(z,y,y+M,ge,Ee,U),_-=M,j+=M*o.c,y+=M}t(y==f),o.C=o.Ma=f}function Ji(){this.ub=this.yd=this.td=this.Rb=0}function Nn(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ji(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Br(){this.Yb=function(){var o=[];return function f(y,_,j){for(var I=j[_],M=0;M<I&&(y.push(j.length>_+1?[]:0),!(j.length<_+1));M++)f(y[M],_+1,j)}(o,0,[3,11]),o}()}function fo(){this.jb=i(3),this.Wc=s([4,8],Br),this.Xc=s([4,17],Br)}function Ci(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Nr(){this.ld=this.La=this.dd=this.tc=0}function pa(){this.Na=this.la=0}function Ma(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ti(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ho(){this.uc=this.M=this.Nb=0,this.wa=Array(new Nr),this.Y=0,this.ya=Array(new ti),this.aa=0,this.l=new Gt}function ma(){this.y=i(16),this.f=i(8),this.ea=i(8)}function po(){this.cb=this.a=0,this.sc="",this.m=new T,this.Od=new Ji,this.Kc=new Nn,this.ed=new Ci,this.Qa=new ji,this.Ic=this.$c=this.Aa=0,this.D=new ho,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,T),this.ia=0,this.pb=c(4,Ma),this.Pa=new fo,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ma),this.Hd=0,this.rb=Array(new pa),this.sb=0,this.wa=Array(new Nr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ti),this.L=this.aa=0,this.gd=s([4,2],Nr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Gt(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function qo(){var o=new po;return o!=null&&(o.a=0,o.sc="OK",o.cb=0,o.Xb=0,ps||(ps=sn)),o}function Vn(o,f,y){return o.a==0&&(o.a=f,o.sc=y,o.cb=0),0}function ga(o,f,y){return 3<=y&&o[f+0]==157&&o[f+1]==1&&o[f+2]==42}function mo(o,f){if(o==null)return 0;if(o.a=0,o.sc="OK",f==null)return Vn(o,2,"null VP8Io passed to VP8GetHeaders()");var y=f.data,_=f.w,j=f.ha;if(4>j)return Vn(o,7,"Truncated header.");var I=y[_+0]|y[_+1]<<8|y[_+2]<<16,M=o.Od;if(M.Rb=!(1&I),M.td=I>>1&7,M.yd=I>>4&1,M.ub=I>>5,3<M.td)return Vn(o,3,"Incorrect keyframe parameters.");if(!M.yd)return Vn(o,4,"Frame not displayable.");_+=3,j-=3;var z=o.Kc;if(M.Rb){if(7>j)return Vn(o,7,"cannot parse picture header");if(!ga(y,_,j))return Vn(o,3,"Bad code word");z.c=16383&(y[_+4]<<8|y[_+3]),z.Td=y[_+4]>>6,z.i=16383&(y[_+6]<<8|y[_+5]),z.Ud=y[_+6]>>6,_+=7,j-=7,o.za=z.c+15>>4,o.Ub=z.i+15>>4,f.width=z.c,f.height=z.i,f.Da=0,f.j=0,f.v=0,f.va=f.width,f.o=f.height,f.da=0,f.ib=f.width,f.hb=f.height,f.U=f.width,f.T=f.height,a((I=o.Pa).jb,0,255,I.jb.length),t((I=o.Qa)!=null),I.Cb=0,I.Bb=0,I.Fb=1,a(I.Zb,0,0,I.Zb.length),a(I.Lb,0,0,I.Lb)}if(M.ub>j)return Vn(o,7,"bad partition length");we(I=o.m,y,_,M.ub),_+=M.ub,j-=M.ub,M.Rb&&(z.Ld=ae(I),z.Kd=ae(I)),z=o.Qa;var U,G=o.Pa;if(t(I!=null),t(z!=null),z.Cb=ae(I),z.Cb){if(z.Bb=ae(I),ae(I)){for(z.Fb=ae(I),U=0;4>U;++U)z.Zb[U]=ae(I)?Ne(I,7):0;for(U=0;4>U;++U)z.Lb[U]=ae(I)?Ne(I,6):0}if(z.Bb)for(U=0;3>U;++U)G.jb[U]=ae(I)?je(I,8):255}else z.Bb=0;if(I.Ka)return Vn(o,3,"cannot parse segment header");if((z=o.ed).zd=ae(I),z.Tb=je(I,6),z.wb=je(I,3),z.Pc=ae(I),z.Pc&&ae(I)){for(G=0;4>G;++G)ae(I)&&(z.vd[G]=Ne(I,6));for(G=0;4>G;++G)ae(I)&&(z.od[G]=Ne(I,6))}if(o.L=z.Tb==0?0:z.zd?1:2,I.Ka)return Vn(o,3,"cannot parse filter header");var ge=j;if(j=U=_,_=U+ge,z=ge,o.Xb=(1<<je(o.m,2))-1,ge<3*(G=o.Xb))y=7;else{for(U+=3*G,z-=3*G,ge=0;ge<G;++ge){var Ee=y[j+0]|y[j+1]<<8|y[j+2]<<16;Ee>z&&(Ee=z),we(o.Jc[+ge],y,U,Ee),U+=Ee,z-=Ee,j+=3}we(o.Jc[+G],y,U,z),y=U<_?0:5}if(y!=0)return Vn(o,y,"cannot parse partitions");for(y=je(U=o.m,7),j=ae(U)?Ne(U,4):0,_=ae(U)?Ne(U,4):0,z=ae(U)?Ne(U,4):0,G=ae(U)?Ne(U,4):0,U=ae(U)?Ne(U,4):0,ge=o.Qa,Ee=0;4>Ee;++Ee){if(ge.Cb){var Y=ge.Zb[Ee];ge.Fb||(Y+=y)}else{if(0<Ee){o.pb[Ee]=o.pb[0];continue}Y=y}var xe=o.pb[Ee];xe.Sc[0]=uc[qn(Y+j,127)],xe.Sc[1]=fc[qn(Y+0,127)],xe.Eb[0]=2*uc[qn(Y+_,127)],xe.Eb[1]=101581*fc[qn(Y+z,127)]>>16,8>xe.Eb[1]&&(xe.Eb[1]=8),xe.Qc[0]=uc[qn(Y+G,117)],xe.Qc[1]=fc[qn(Y+U,127)],xe.lc=Y+U}if(!M.Rb)return Vn(o,4,"Not a key frame.");for(ae(I),M=o.Pa,y=0;4>y;++y){for(j=0;8>j;++j)for(_=0;3>_;++_)for(z=0;11>z;++z)G=Le(I,j0[y][j][_][z])?je(I,8):L0[y][j][_][z],M.Wc[y][j].Yb[_][z]=G;for(j=0;17>j;++j)M.Xc[y][j]=M.Wc[y][C0[j]]}return o.kc=ae(I),o.kc&&(o.Bd=je(I,8)),o.cb=1}function sn(o,f,y,_,j,I,M){var z=f[j].Yb[y];for(y=0;16>j;++j){if(!Le(o,z[y+0]))return j;for(;!Le(o,z[y+1]);)if(z=f[++j].Yb[0],y=0,j==16)return 16;var U=f[j+1].Yb;if(Le(o,z[y+2])){var G=o,ge=0;if(Le(G,(Y=z)[(Ee=y)+3]))if(Le(G,Y[Ee+6])){for(z=0,Ee=2*(ge=Le(G,Y[Ee+8]))+(Y=Le(G,Y[Ee+9+ge])),ge=0,Y=A0[Ee];Y[z];++z)ge+=ge+Le(G,Y[z]);ge+=3+(8<<Ee)}else Le(G,Y[Ee+7])?(ge=7+2*Le(G,165),ge+=Le(G,145)):ge=5+Le(G,159);else ge=Le(G,Y[Ee+4])?3+Le(G,Y[Ee+5]):2;z=U[2]}else ge=1,z=U[1];U=M+k0[j],0>(G=o).b&&le(G);var Ee,Y=G.b,xe=(Ee=G.Ca>>1)-(G.I>>Y)>>31;--G.b,G.Ca+=xe,G.Ca|=1,G.I-=(Ee+1&xe)<<Y,I[U]=((ge^xe)-xe)*_[(0<j)+0]}return 16}function ni(o){var f=o.rb[o.sb-1];f.la=0,f.Na=0,a(o.zc,0,0,o.zc.length),o.ja=0}function Sr(o,f,y,_,j){j=o[f+y+32*_]+(j>>3),o[f+y+32*_]=-256&j?0>j?0:255:j}function Vr(o,f,y,_,j,I){Sr(o,f,0,y,_+j),Sr(o,f,1,y,_+I),Sr(o,f,2,y,_-I),Sr(o,f,3,y,_-j)}function On(o){return(20091*o>>16)+o}function va(o,f,y,_){var j,I=0,M=i(16);for(j=0;4>j;++j){var z=o[f+0]+o[f+8],U=o[f+0]-o[f+8],G=(35468*o[f+4]>>16)-On(o[f+12]),ge=On(o[f+4])+(35468*o[f+12]>>16);M[I+0]=z+ge,M[I+1]=U+G,M[I+2]=U-G,M[I+3]=z-ge,I+=4,f++}for(j=I=0;4>j;++j)z=(o=M[I+0]+4)+M[I+8],U=o-M[I+8],G=(35468*M[I+4]>>16)-On(M[I+12]),Sr(y,_,0,0,z+(ge=On(M[I+4])+(35468*M[I+12]>>16))),Sr(y,_,1,0,U+G),Sr(y,_,2,0,U-G),Sr(y,_,3,0,z-ge),I++,_+=32}function Fa(o,f,y,_){var j=o[f+0]+4,I=35468*o[f+4]>>16,M=On(o[f+4]),z=35468*o[f+1]>>16;Vr(y,_,0,j+M,o=On(o[f+1]),z),Vr(y,_,1,j+I,o,z),Vr(y,_,2,j-I,o,z),Vr(y,_,3,j-M,o,z)}function Uo(o,f,y,_,j){va(o,f,y,_),j&&va(o,f+16,y,_+4)}function Ba(o,f,y,_){me(o,f+0,y,_,1),me(o,f+32,y,_+128,1)}function ri(o,f,y,_){var j;for(o=o[f+0]+4,j=0;4>j;++j)for(f=0;4>f;++f)Sr(y,_,f,j,o)}function Zi(o,f,y,_){o[f+0]&&pe(o,f+0,y,_),o[f+16]&&pe(o,f+16,y,_+4),o[f+32]&&pe(o,f+32,y,_+128),o[f+48]&&pe(o,f+48,y,_+128+4)}function go(o,f,y,_){var j,I=i(16);for(j=0;4>j;++j){var M=o[f+0+j]+o[f+12+j],z=o[f+4+j]+o[f+8+j],U=o[f+4+j]-o[f+8+j],G=o[f+0+j]-o[f+12+j];I[0+j]=M+z,I[8+j]=M-z,I[4+j]=G+U,I[12+j]=G-U}for(j=0;4>j;++j)M=(o=I[0+4*j]+3)+I[3+4*j],z=I[1+4*j]+I[2+4*j],U=I[1+4*j]-I[2+4*j],G=o-I[3+4*j],y[_+0]=M+z>>3,y[_+16]=G+U>>3,y[_+32]=M-z>>3,y[_+48]=G-U>>3,_+=64}function Qi(o,f,y){var _,j=f-32,I=Qn,M=255-o[j-1];for(_=0;_<y;++_){var z,U=I,G=M+o[f-1];for(z=0;z<y;++z)o[f+z]=U[G+o[j+z]];f+=32}}function tn(o,f){Qi(o,f,4)}function Ho(o,f){Qi(o,f,8)}function fs(o,f){Qi(o,f,16)}function ds(o,f){var y;for(y=0;16>y;++y)r(o,f+32*y,o,f-32,16)}function ur(o,f){var y;for(y=16;0<y;--y)a(o,f,o[f-1],16),f+=32}function Kr(o,f,y){var _;for(_=0;16>_;++_)a(f,y+32*_,o,16)}function ii(o,f){var y,_=16;for(y=0;16>y;++y)_+=o[f-1+32*y]+o[f+y-32];Kr(_>>5,o,f)}function yi(o,f){var y,_=8;for(y=0;16>y;++y)_+=o[f-1+32*y];Kr(_>>4,o,f)}function ea(o,f){var y,_=8;for(y=0;16>y;++y)_+=o[f+y-32];Kr(_>>4,o,f)}function za(o,f){Kr(128,o,f)}function bt(o,f,y){return o+2*f+y+2>>2}function $r(o,f){var y,_=f-32;for(_=new Uint8Array([bt(o[_-1],o[_+0],o[_+1]),bt(o[_+0],o[_+1],o[_+2]),bt(o[_+1],o[_+2],o[_+3]),bt(o[_+2],o[_+3],o[_+4])]),y=0;4>y;++y)r(o,f+32*y,_,0,_.length)}function ba(o,f){var y=o[f-1],_=o[f-1+32],j=o[f-1+64],I=o[f-1+96];De(o,f+0,16843009*bt(o[f-1-32],y,_)),De(o,f+32,16843009*bt(y,_,j)),De(o,f+64,16843009*bt(_,j,I)),De(o,f+96,16843009*bt(j,I,I))}function ya(o,f){var y,_=4;for(y=0;4>y;++y)_+=o[f+y-32]+o[f-1+32*y];for(_>>=3,y=0;4>y;++y)a(o,f+32*y,_,4)}function vo(o,f){var y=o[f-1+0],_=o[f-1+32],j=o[f-1+64],I=o[f-1-32],M=o[f+0-32],z=o[f+1-32],U=o[f+2-32],G=o[f+3-32];o[f+0+96]=bt(_,j,o[f-1+96]),o[f+1+96]=o[f+0+64]=bt(y,_,j),o[f+2+96]=o[f+1+64]=o[f+0+32]=bt(I,y,_),o[f+3+96]=o[f+2+64]=o[f+1+32]=o[f+0+0]=bt(M,I,y),o[f+3+64]=o[f+2+32]=o[f+1+0]=bt(z,M,I),o[f+3+32]=o[f+2+0]=bt(U,z,M),o[f+3+0]=bt(G,U,z)}function vr(o,f){var y=o[f+1-32],_=o[f+2-32],j=o[f+3-32],I=o[f+4-32],M=o[f+5-32],z=o[f+6-32],U=o[f+7-32];o[f+0+0]=bt(o[f+0-32],y,_),o[f+1+0]=o[f+0+32]=bt(y,_,j),o[f+2+0]=o[f+1+32]=o[f+0+64]=bt(_,j,I),o[f+3+0]=o[f+2+32]=o[f+1+64]=o[f+0+96]=bt(j,I,M),o[f+3+32]=o[f+2+64]=o[f+1+96]=bt(I,M,z),o[f+3+64]=o[f+2+96]=bt(M,z,U),o[f+3+96]=bt(z,U,U)}function Ei(o,f){var y=o[f-1+0],_=o[f-1+32],j=o[f-1+64],I=o[f-1-32],M=o[f+0-32],z=o[f+1-32],U=o[f+2-32],G=o[f+3-32];o[f+0+0]=o[f+1+64]=I+M+1>>1,o[f+1+0]=o[f+2+64]=M+z+1>>1,o[f+2+0]=o[f+3+64]=z+U+1>>1,o[f+3+0]=U+G+1>>1,o[f+0+96]=bt(j,_,y),o[f+0+64]=bt(_,y,I),o[f+0+32]=o[f+1+96]=bt(y,I,M),o[f+1+32]=o[f+2+96]=bt(I,M,z),o[f+2+32]=o[f+3+96]=bt(M,z,U),o[f+3+32]=bt(z,U,G)}function Gr(o,f){var y=o[f+0-32],_=o[f+1-32],j=o[f+2-32],I=o[f+3-32],M=o[f+4-32],z=o[f+5-32],U=o[f+6-32],G=o[f+7-32];o[f+0+0]=y+_+1>>1,o[f+1+0]=o[f+0+64]=_+j+1>>1,o[f+2+0]=o[f+1+64]=j+I+1>>1,o[f+3+0]=o[f+2+64]=I+M+1>>1,o[f+0+32]=bt(y,_,j),o[f+1+32]=o[f+0+96]=bt(_,j,I),o[f+2+32]=o[f+1+96]=bt(j,I,M),o[f+3+32]=o[f+2+96]=bt(I,M,z),o[f+3+64]=bt(M,z,U),o[f+3+96]=bt(z,U,G)}function bo(o,f){var y=o[f-1+0],_=o[f-1+32],j=o[f-1+64],I=o[f-1+96];o[f+0+0]=y+_+1>>1,o[f+2+0]=o[f+0+32]=_+j+1>>1,o[f+2+32]=o[f+0+64]=j+I+1>>1,o[f+1+0]=bt(y,_,j),o[f+3+0]=o[f+1+32]=bt(_,j,I),o[f+3+32]=o[f+1+64]=bt(j,I,I),o[f+3+64]=o[f+2+64]=o[f+0+96]=o[f+1+96]=o[f+2+96]=o[f+3+96]=I}function wa(o,f){var y=o[f-1+0],_=o[f-1+32],j=o[f-1+64],I=o[f-1+96],M=o[f-1-32],z=o[f+0-32],U=o[f+1-32],G=o[f+2-32];o[f+0+0]=o[f+2+32]=y+M+1>>1,o[f+0+32]=o[f+2+64]=_+y+1>>1,o[f+0+64]=o[f+2+96]=j+_+1>>1,o[f+0+96]=I+j+1>>1,o[f+3+0]=bt(z,U,G),o[f+2+0]=bt(M,z,U),o[f+1+0]=o[f+3+32]=bt(y,M,z),o[f+1+32]=o[f+3+64]=bt(_,y,M),o[f+1+64]=o[f+3+96]=bt(j,_,y),o[f+1+96]=bt(I,j,_)}function xa(o,f){var y;for(y=0;8>y;++y)r(o,f+32*y,o,f-32,8)}function ai(o,f){var y;for(y=0;8>y;++y)a(o,f,o[f-1],8),f+=32}function ta(o,f,y){var _;for(_=0;8>_;++_)a(f,y+32*_,o,8)}function _a(o,f){var y,_=8;for(y=0;8>y;++y)_+=o[f+y-32]+o[f-1+32*y];ta(_>>4,o,f)}function hs(o,f){var y,_=4;for(y=0;8>y;++y)_+=o[f+y-32];ta(_>>3,o,f)}function Ii(o,f){var y,_=4;for(y=0;8>y;++y)_+=o[f-1+32*y];ta(_>>3,o,f)}function yo(o,f){ta(128,o,f)}function Na(o,f,y){var _=o[f-y],j=o[f+0],I=3*(j-_)+Ka[1020+o[f-2*y]-o[f+y]],M=sr[112+(I+4>>3)];o[f-y]=Qn[255+_+sr[112+(I+3>>3)]],o[f+0]=Qn[255+j-M]}function wi(o,f,y,_){var j=o[f+0],I=o[f+y];return Ir[255+o[f-2*y]-o[f-y]]>_||Ir[255+I-j]>_}function na(o,f,y,_){return 4*Ir[255+o[f-y]-o[f+0]]+Ir[255+o[f-2*y]-o[f+y]]<=_}function ra(o,f,y,_,j){var I=o[f-3*y],M=o[f-2*y],z=o[f-y],U=o[f+0],G=o[f+y],ge=o[f+2*y],Ee=o[f+3*y];return 4*Ir[255+z-U]+Ir[255+M-G]>_?0:Ir[255+o[f-4*y]-I]<=j&&Ir[255+I-M]<=j&&Ir[255+M-z]<=j&&Ir[255+Ee-ge]<=j&&Ir[255+ge-G]<=j&&Ir[255+G-U]<=j}function wo(o,f,y,_){var j=2*_+1;for(_=0;16>_;++_)na(o,f+_,y,j)&&Na(o,f+_,y)}function Sa(o,f,y,_){var j=2*_+1;for(_=0;16>_;++_)na(o,f+_*y,1,j)&&Na(o,f+_*y,1)}function Wo(o,f,y,_){var j;for(j=3;0<j;--j)wo(o,f+=4*y,y,_)}function qa(o,f,y,_){var j;for(j=3;0<j;--j)Sa(o,f+=4,y,_)}function oi(o,f,y,_,j,I,M,z){for(I=2*I+1;0<j--;){if(ra(o,f,y,I,M))if(wi(o,f,y,z))Na(o,f,y);else{var U=o,G=f,ge=y,Ee=U[G-2*ge],Y=U[G-ge],xe=U[G+0],Pe=U[G+ge],ze=U[G+2*ge],Ce=27*(We=Ka[1020+3*(xe-Y)+Ka[1020+Ee-Pe]])+63>>7,Ue=18*We+63>>7,We=9*We+63>>7;U[G-3*ge]=Qn[255+U[G-3*ge]+We],U[G-2*ge]=Qn[255+Ee+Ue],U[G-ge]=Qn[255+Y+Ce],U[G+0]=Qn[255+xe-Ce],U[G+ge]=Qn[255+Pe-Ue],U[G+2*ge]=Qn[255+ze-We]}f+=_}}function xi(o,f,y,_,j,I,M,z){for(I=2*I+1;0<j--;){if(ra(o,f,y,I,M))if(wi(o,f,y,z))Na(o,f,y);else{var U=o,G=f,ge=y,Ee=U[G-ge],Y=U[G+0],xe=U[G+ge],Pe=sr[112+(4+(ze=3*(Y-Ee))>>3)],ze=sr[112+(ze+3>>3)],Ce=Pe+1>>1;U[G-2*ge]=Qn[255+U[G-2*ge]+Ce],U[G-ge]=Qn[255+Ee+ze],U[G+0]=Qn[255+Y-Pe],U[G+ge]=Qn[255+xe-Ce]}f+=_}}function Aa(o,f,y,_,j,I){oi(o,f,y,1,16,_,j,I)}function ka(o,f,y,_,j,I){oi(o,f,1,y,16,_,j,I)}function _i(o,f,y,_,j,I){var M;for(M=3;0<M;--M)xi(o,f+=4*y,y,1,16,_,j,I)}function xo(o,f,y,_,j,I){var M;for(M=3;0<M;--M)xi(o,f+=4,1,y,16,_,j,I)}function v(o,f,y,_,j,I,M,z){oi(o,f,j,1,8,I,M,z),oi(y,_,j,1,8,I,M,z)}function P(o,f,y,_,j,I,M,z){oi(o,f,1,j,8,I,M,z),oi(y,_,1,j,8,I,M,z)}function $(o,f,y,_,j,I,M,z){xi(o,f+4*j,j,1,8,I,M,z),xi(y,_+4*j,j,1,8,I,M,z)}function ce(o,f,y,_,j,I,M,z){xi(o,f+4,1,j,8,I,M,z),xi(y,_+4,1,j,8,I,M,z)}function Ae(){this.ba=new dn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new st,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function qe(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function He(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function dt(){this.ua=0,this.Wa=new St,this.vb=new St,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Se,this.yc=new ee}function pt(){this.xb=this.a=0,this.l=new Gt,this.ca=new dn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new D,this.Pb=0,this.wd=new D,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new dt,this.ab=0,this.gc=c(4,He),this.Oc=0}function Mt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Gt,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ft(o,f,y,_,j,I,M){for(o=o==null?0:o[f+0],f=0;f<M;++f)j[I+f]=o+y[_+f]&255,o=j[I+f]}function un(o,f,y,_,j,I,M){var z;if(o==null)Ft(null,null,y,_,j,I,M);else for(z=0;z<M;++z)j[I+z]=o[f+z]+y[_+z]&255}function jn(o,f,y,_,j,I,M){if(o==null)Ft(null,null,y,_,j,I,M);else{var z,U=o[f+0],G=U,ge=U;for(z=0;z<M;++z)G=ge+(U=o[f+z])-G,ge=y[_+z]+(-256&G?0>G?0:255:G)&255,G=U,j[I+z]=ge}}function Rn(o,f,y,_){var j=f.width,I=f.o;if(t(o!=null&&f!=null),0>y||0>=_||y+_>I)return null;if(!o.Cc){if(o.ga==null){var M;if(o.ga=new Mt,(M=o.ga==null)||(M=f.width*f.o,t(o.Gb.length==0),o.Gb=i(M),o.Uc=0,o.Gb==null?M=0:(o.mb=o.Gb,o.nb=o.Uc,o.rc=null,M=1),M=!M),!M){M=o.ga;var z=o.Fa,U=o.P,G=o.qc,ge=o.mb,Ee=o.nb,Y=U+1,xe=G-1,Pe=M.l;if(t(z!=null&&ge!=null&&f!=null),Ga[0]=null,Ga[1]=Ft,Ga[2]=un,Ga[3]=jn,M.ca=ge,M.tb=Ee,M.c=f.width,M.i=f.height,t(0<M.c&&0<M.i),1>=G)f=0;else if(M.$a=3&z[U+0],M.Z=z[U+0]>>2&3,M.Lc=z[U+0]>>4&3,U=z[U+0]>>6&3,0>M.$a||1<M.$a||4<=M.Z||1<M.Lc||U)f=0;else if(Pe.put=lt,Pe.ac=Kn,Pe.bc=Pn,Pe.ma=M,Pe.width=f.width,Pe.height=f.height,Pe.Da=f.Da,Pe.v=f.v,Pe.va=f.va,Pe.j=f.j,Pe.o=f.o,M.$a)e:{t(M.$a==1),f=Er();t:for(;;){if(f==null){f=0;break e}if(t(M!=null),M.mc=f,f.c=M.c,f.i=M.i,f.l=M.l,f.l.ma=M,f.l.width=M.c,f.l.height=M.i,f.a=0,Te(f.m,z,Y,xe),!ei(M.c,M.i,1,f,null)||(f.ab==1&&f.gc[0].hc==3&&ar(f.s)?(M.ic=1,z=f.c*f.i,f.Ta=null,f.Ua=0,f.V=i(z),f.Ba=0,f.V==null?(f.a=1,f=0):f=1):(M.ic=0,f=Fr(f,M.c)),!f))break t;f=1;break e}M.mc=null,f=0}else f=xe>=M.c*M.i;M=!f}if(M)return null;o.ga.Lc!=1?o.Ga=0:_=I-y}t(o.ga!=null),t(y+_<=I);e:{if(f=(z=o.ga).c,I=z.l.o,z.$a==0){if(Y=o.rc,xe=o.Vc,Pe=o.Fa,U=o.P+1+y*f,G=o.mb,ge=o.nb+y*f,t(U<=o.P+o.qc),z.Z!=0)for(t(Ga[z.Z]!=null),M=0;M<_;++M)Ga[z.Z](Y,xe,Pe,U,G,ge,f),Y=G,xe=ge,ge+=f,U+=f;else for(M=0;M<_;++M)r(G,ge,Pe,U,f),Y=G,xe=ge,ge+=f,U+=f;o.rc=Y,o.Vc=xe}else{if(t(z.mc!=null),f=y+_,t((M=z.mc)!=null),t(f<=M.i),M.C>=f)f=1;else if(z.ic||Ar(),z.ic){z=M.V,Y=M.Ba,xe=M.c;var ze=M.i,Ce=(Pe=1,U=M.$/xe,G=M.$%xe,ge=M.m,Ee=M.s,M.$),Ue=xe*ze,We=xe*f,Je=Ee.wc,Ge=Ce<We?Wn(Ee,G,U):null;t(Ce<=Ue),t(f<=ze),t(ar(Ee));t:for(;;){for(;!ge.h&&Ce<We;){if(G&Je||(Ge=Wn(Ee,G,U)),t(Ge!=null),Z(ge),256>(ze=Sn(Ge.G[0],Ge.H[0],ge)))z[Y+Ce]=ze,++Ce,++G>=xe&&(G=0,++U<=f&&!(U%16)&&or(M,U));else{if(!(280>ze)){Pe=0;break t}ze=Dt(ze-256,ge);var Lt,mt=Sn(Ge.G[4],Ge.H[4],ge);if(Z(ge),!(Ce>=(mt=Kt(xe,mt=Dt(mt,ge)))&&Ue-Ce>=ze)){Pe=0;break t}for(Lt=0;Lt<ze;++Lt)z[Y+Ce+Lt]=z[Y+Ce+Lt-mt];for(Ce+=ze,G+=ze;G>=xe;)G-=xe,++U<=f&&!(U%16)&&or(M,U);Ce<We&&G&Je&&(Ge=Wn(Ee,G,U))}t(ge.h==X(ge))}or(M,U>f?f:U);break t}!Pe||ge.h&&Ce<Ue?(Pe=0,M.a=ge.h?5:3):M.$=Ce,f=Pe}else f=Cr(M,M.V,M.Ba,M.c,M.i,f,ha);if(!f){_=0;break e}}y+_>=I&&(o.Cc=1),_=1}if(!_)return null;if(o.Cc&&((_=o.ga)!=null&&(_.mc=null),o.ga=null,0<o.Ga))return alert("todo:WebPDequantizeLevels"),null}return o.nb+y*j}function bn(o,f,y,_,j,I){for(;0<j--;){var M,z=o,U=f+(y?1:0),G=o,ge=f+(y?0:3);for(M=0;M<_;++M){var Ee=G[ge+4*M];Ee!=255&&(Ee*=32897,z[U+4*M+0]=z[U+4*M+0]*Ee>>23,z[U+4*M+1]=z[U+4*M+1]*Ee>>23,z[U+4*M+2]=z[U+4*M+2]*Ee>>23)}f+=I}}function An(o,f,y,_,j){for(;0<_--;){var I;for(I=0;I<y;++I){var M=o[f+2*I+0],z=15&(G=o[f+2*I+1]),U=4369*z,G=(240&G|G>>4)*U>>16;o[f+2*I+0]=(240&M|M>>4)*U>>16&240|(15&M|M<<4)*U>>16>>4&15,o[f+2*I+1]=240&G|z}f+=j}}function zn(o,f,y,_,j,I,M,z){var U,G,ge=255;for(G=0;G<j;++G){for(U=0;U<_;++U){var Ee=o[f+U];I[M+4*U]=Ee,ge&=Ee}f+=y,M+=z}return ge!=255}function Jn(o,f,y,_,j){var I;for(I=0;I<j;++I)y[_+I]=o[f+I]>>8}function Ar(){it=bn,ct=An,Ht=zn,nn=Jn}function br(o,f,y){H[o]=function(_,j,I,M,z,U,G,ge,Ee,Y,xe,Pe,ze,Ce,Ue,We,Je){var Ge,Lt=Je-1>>1,mt=z[U+0]|G[ge+0]<<16,Xt=Ee[Y+0]|xe[Pe+0]<<16;t(_!=null);var _t=3*mt+Xt+131074>>2;for(f(_[j+0],255&_t,_t>>16,ze,Ce),I!=null&&(_t=3*Xt+mt+131074>>2,f(I[M+0],255&_t,_t>>16,Ue,We)),Ge=1;Ge<=Lt;++Ge){var cn=z[U+Ge]|G[ge+Ge]<<16,pr=Ee[Y+Ge]|xe[Pe+Ge]<<16,Jt=mt+cn+Xt+pr+524296,Nt=Jt+2*(cn+Xt)>>3;_t=Nt+mt>>1,mt=(Jt=Jt+2*(mt+pr)>>3)+cn>>1,f(_[j+2*Ge-1],255&_t,_t>>16,ze,Ce+(2*Ge-1)*y),f(_[j+2*Ge-0],255&mt,mt>>16,ze,Ce+(2*Ge-0)*y),I!=null&&(_t=Jt+Xt>>1,mt=Nt+pr>>1,f(I[M+2*Ge-1],255&_t,_t>>16,Ue,We+(2*Ge-1)*y),f(I[M+2*Ge+0],255&mt,mt>>16,Ue,We+(2*Ge+0)*y)),mt=cn,Xt=pr}1&Je||(_t=3*mt+Xt+131074>>2,f(_[j+Je-1],255&_t,_t>>16,ze,Ce+(Je-1)*y),I!=null&&(_t=3*Xt+mt+131074>>2,f(I[M+Je-1],255&_t,_t>>16,Ue,We+(Je-1)*y)))}}function _o(){Ai[qs]=I0,Ai[Us]=$u,Ai[Uu]=T0,Ai[Hs]=Gu,Ai[Ws]=Yu,Ai[oc]=Xu,Ai[Hu]=O0,Ai[sc]=$u,Ai[lc]=Gu,Ai[Vs]=Yu,Ai[cc]=Xu}function Ua(o){return o&-16384?0>o?0:255:o>>R0}function Ti(o,f){return Ua((19077*o>>8)+(26149*f>>8)-14234)}function si(o,f,y){return Ua((19077*o>>8)-(6419*f>>8)-(13320*y>>8)+8708)}function La(o,f){return Ua((19077*o>>8)+(33050*f>>8)-17685)}function Oi(o,f,y,_,j){_[j+0]=Ti(o,y),_[j+1]=si(o,f,y),_[j+2]=La(o,f)}function Ri(o,f,y,_,j){_[j+0]=La(o,f),_[j+1]=si(o,f,y),_[j+2]=Ti(o,y)}function yr(o,f,y,_,j){var I=si(o,f,y);f=I<<3&224|La(o,f)>>3,_[j+0]=248&Ti(o,y)|I>>5,_[j+1]=f}function ia(o,f,y,_,j){var I=240&La(o,f)|15;_[j+0]=240&Ti(o,y)|si(o,f,y)>>4,_[j+1]=I}function Pa(o,f,y,_,j){_[j+0]=255,Oi(o,f,y,_,j+1)}function Ha(o,f,y,_,j){Ri(o,f,y,_,j),_[j+3]=255}function Wa(o,f,y,_,j){Oi(o,f,y,_,j),_[j+3]=255}function qn(o,f){return 0>o?0:o>f?f:o}function Ni(o,f,y){H[o]=function(_,j,I,M,z,U,G,ge,Ee){for(var Y=ge+(-2&Ee)*y;ge!=Y;)f(_[j+0],I[M+0],z[U+0],G,ge),f(_[j+1],I[M+0],z[U+0],G,ge+y),j+=2,++M,++U,ge+=2*y;1&Ee&&f(_[j+0],I[M+0],z[U+0],G,ge)}}function aa(o,f,y){return y==0?o==0?f==0?6:5:f==0?4:0:y}function No(o,f,y,_,j){switch(o>>>30){case 3:me(f,y,_,j,0);break;case 2:ye(f,y,_,j);break;case 1:pe(f,y,_,j)}}function zr(o,f){var y,_,j=f.M,I=f.Nb,M=o.oc,z=o.pc+40,U=o.oc,G=o.pc+584,ge=o.oc,Ee=o.pc+600;for(y=0;16>y;++y)M[z+32*y-1]=129;for(y=0;8>y;++y)U[G+32*y-1]=129,ge[Ee+32*y-1]=129;for(0<j?M[z-1-32]=U[G-1-32]=ge[Ee-1-32]=129:(a(M,z-32-1,127,21),a(U,G-32-1,127,9),a(ge,Ee-32-1,127,9)),_=0;_<o.za;++_){var Y=f.ya[f.aa+_];if(0<_){for(y=-1;16>y;++y)r(M,z+32*y-4,M,z+32*y+12,4);for(y=-1;8>y;++y)r(U,G+32*y-4,U,G+32*y+4,4),r(ge,Ee+32*y-4,ge,Ee+32*y+4,4)}var xe=o.Gd,Pe=o.Hd+_,ze=Y.ad,Ce=Y.Hc;if(0<j&&(r(M,z-32,xe[Pe].y,0,16),r(U,G-32,xe[Pe].f,0,8),r(ge,Ee-32,xe[Pe].ea,0,8)),Y.Za){var Ue=M,We=z-32+16;for(0<j&&(_>=o.za-1?a(Ue,We,xe[Pe].y[15],4):r(Ue,We,xe[Pe+1].y,0,4)),y=0;4>y;y++)Ue[We+128+y]=Ue[We+256+y]=Ue[We+384+y]=Ue[We+0+y];for(y=0;16>y;++y,Ce<<=2)Ue=M,We=z+Zu[y],Fi[Y.Ob[y]](Ue,We),No(Ce,ze,16*+y,Ue,We)}else if(Ue=aa(_,j,Y.Ob[0]),$a[Ue](M,z),Ce!=0)for(y=0;16>y;++y,Ce<<=2)No(Ce,ze,16*+y,M,z+Zu[y]);for(y=Y.Gc,Ue=aa(_,j,Y.Dd),Ca[Ue](U,G),Ca[Ue](ge,Ee),Ce=ze,Ue=U,We=G,255&(Y=0|y)&&(170&Y?oe(Ce,256,Ue,We):se(Ce,256,Ue,We)),Y=ge,Ce=Ee,255&(y>>=8)&&(170&y?oe(ze,320,Y,Ce):se(ze,320,Y,Ce)),j<o.Ub-1&&(r(xe[Pe].y,0,M,z+480,16),r(xe[Pe].f,0,U,G+224,8),r(xe[Pe].ea,0,ge,Ee+224,8)),y=8*I*o.B,xe=o.sa,Pe=o.ta+16*_+16*I*o.R,ze=o.qa,Y=o.ra+8*_+y,Ce=o.Ha,Ue=o.Ia+8*_+y,y=0;16>y;++y)r(xe,Pe+y*o.R,M,z+32*y,16);for(y=0;8>y;++y)r(ze,Y+y*o.B,U,G+32*y,8),r(Ce,Ue+y*o.B,ge,Ee+32*y,8)}}function ja(o,f,y,_,j,I,M,z,U){var G=[0],ge=[0],Ee=0,Y=U!=null?U.kd:0,xe=U??new qe;if(o==null||12>y)return 7;xe.data=o,xe.w=f,xe.ha=y,f=[f],y=[y],xe.gb=[xe.gb];e:{var Pe=f,ze=y,Ce=xe.gb;if(t(o!=null),t(ze!=null),t(Ce!=null),Ce[0]=0,12<=ze[0]&&!e(o,Pe[0],"RIFF")){if(e(o,Pe[0]+8,"WEBP")){Ce=3;break e}var Ue=Ie(o,Pe[0]+4);if(12>Ue||4294967286<Ue){Ce=3;break e}if(Y&&Ue>ze[0]-8){Ce=7;break e}Ce[0]=Ue,Pe[0]+=12,ze[0]-=12}Ce=0}if(Ce!=0)return Ce;for(Ue=0<xe.gb[0],y=y[0];;){e:{var We=o;ze=f,Ce=y;var Je=G,Ge=ge,Lt=Pe=[0];if((_t=Ee=[Ee])[0]=0,8>Ce[0])Ce=7;else{if(!e(We,ze[0],"VP8X")){if(Ie(We,ze[0]+4)!=10){Ce=3;break e}if(18>Ce[0]){Ce=7;break e}var mt=Ie(We,ze[0]+8),Xt=1+Ke(We,ze[0]+12);if(2147483648<=Xt*(We=1+Ke(We,ze[0]+15))){Ce=3;break e}Lt!=null&&(Lt[0]=mt),Je!=null&&(Je[0]=Xt),Ge!=null&&(Ge[0]=We),ze[0]+=18,Ce[0]-=18,_t[0]=1}Ce=0}}if(Ee=Ee[0],Pe=Pe[0],Ce!=0)return Ce;if(ze=!!(2&Pe),!Ue&&Ee)return 3;if(I!=null&&(I[0]=!!(16&Pe)),M!=null&&(M[0]=ze),z!=null&&(z[0]=0),M=G[0],Pe=ge[0],Ee&&ze&&U==null){Ce=0;break}if(4>y){Ce=7;break}if(Ue&&Ee||!Ue&&!Ee&&!e(o,f[0],"ALPH")){y=[y],xe.na=[xe.na],xe.P=[xe.P],xe.Sa=[xe.Sa];e:{mt=o,Ce=f,Ue=y;var _t=xe.gb;Je=xe.na,Ge=xe.P,Lt=xe.Sa,Xt=22,t(mt!=null),t(Ue!=null),We=Ce[0];var cn=Ue[0];for(t(Je!=null),t(Lt!=null),Je[0]=null,Ge[0]=null,Lt[0]=0;;){if(Ce[0]=We,Ue[0]=cn,8>cn){Ce=7;break e}var pr=Ie(mt,We+4);if(4294967286<pr){Ce=3;break e}var Jt=8+pr+1&-2;if(Xt+=Jt,0<_t&&Xt>_t){Ce=3;break e}if(!e(mt,We,"VP8 ")||!e(mt,We,"VP8L")){Ce=0;break e}if(cn[0]<Jt){Ce=7;break e}e(mt,We,"ALPH")||(Je[0]=mt,Ge[0]=We+8,Lt[0]=pr),We+=Jt,cn-=Jt}}if(y=y[0],xe.na=xe.na[0],xe.P=xe.P[0],xe.Sa=xe.Sa[0],Ce!=0)break}y=[y],xe.Ja=[xe.Ja],xe.xa=[xe.xa];e:if(_t=o,Ce=f,Ue=y,Je=xe.gb[0],Ge=xe.Ja,Lt=xe.xa,mt=Ce[0],We=!e(_t,mt,"VP8 "),Xt=!e(_t,mt,"VP8L"),t(_t!=null),t(Ue!=null),t(Ge!=null),t(Lt!=null),8>Ue[0])Ce=7;else{if(We||Xt){if(_t=Ie(_t,mt+4),12<=Je&&_t>Je-12){Ce=3;break e}if(Y&&_t>Ue[0]-8){Ce=7;break e}Ge[0]=_t,Ce[0]+=8,Ue[0]-=8,Lt[0]=Xt}else Lt[0]=5<=Ue[0]&&_t[mt+0]==47&&!(_t[mt+4]>>5),Ge[0]=Ue[0];Ce=0}if(y=y[0],xe.Ja=xe.Ja[0],xe.xa=xe.xa[0],f=f[0],Ce!=0)break;if(4294967286<xe.Ja)return 3;if(z==null||ze||(z[0]=xe.xa?2:1),M=[M],Pe=[Pe],xe.xa){if(5>y){Ce=7;break}z=M,Y=Pe,ze=I,o==null||5>y?o=0:5<=y&&o[f+0]==47&&!(o[f+4]>>5)?(Ue=[0],_t=[0],Je=[0],Te(Ge=new D,o,f,y),cr(Ge,Ue,_t,Je)?(z!=null&&(z[0]=Ue[0]),Y!=null&&(Y[0]=_t[0]),ze!=null&&(ze[0]=Je[0]),o=1):o=0):o=0}else{if(10>y){Ce=7;break}z=Pe,o==null||10>y||!ga(o,f+3,y-3)?o=0:(Y=o[f+0]|o[f+1]<<8|o[f+2]<<16,ze=16383&(o[f+7]<<8|o[f+6]),o=16383&(o[f+9]<<8|o[f+8]),1&Y||3<(Y>>1&7)||!(Y>>4&1)||Y>>5>=xe.Ja||!ze||!o?o=0:(M&&(M[0]=ze),z&&(z[0]=o),o=1))}if(!o||(M=M[0],Pe=Pe[0],Ee&&(G[0]!=M||ge[0]!=Pe)))return 3;U!=null&&(U[0]=xe,U.offset=f-U.w,t(4294967286>f-U.w),t(U.offset==U.ha-y));break}return Ce==0||Ce==7&&Ee&&U==null?(I!=null&&(I[0]|=xe.na!=null&&0<xe.na.length),_!=null&&(_[0]=M),j!=null&&(j[0]=Pe),0):Ce}function So(o,f,y){var _=f.width,j=f.height,I=0,M=0,z=_,U=j;if(f.Da=o!=null&&0<o.Da,f.Da&&(z=o.cd,U=o.bd,I=o.v,M=o.j,11>y||(I&=-2,M&=-2),0>I||0>M||0>=z||0>=U||I+z>_||M+U>j))return 0;if(f.v=I,f.j=M,f.va=I+z,f.o=M+U,f.U=z,f.T=U,f.da=o!=null&&0<o.da,f.da){if(!ut(z,U,y=[o.ib],I=[o.hb]))return 0;f.ib=y[0],f.hb=I[0]}return f.ob=o!=null&&o.ob,f.Kb=o==null||!o.Sd,f.da&&(f.ob=f.ib<3*_/4&&f.hb<3*j/4,f.Kb=0),1}function Ao(o){if(o==null)return 2;if(11>o.S){var f=o.f.RGBA;f.fb+=(o.height-1)*f.A,f.A=-f.A}else f=o.f.kb,o=o.height,f.O+=(o-1)*f.fa,f.fa=-f.fa,f.N+=(o-1>>1)*f.Ab,f.Ab=-f.Ab,f.W+=(o-1>>1)*f.Db,f.Db=-f.Db,f.F!=null&&(f.J+=(o-1)*f.lb,f.lb=-f.lb);return 0}function li(o,f,y,_){if(_==null||0>=o||0>=f)return 2;if(y!=null){if(y.Da){var j=y.cd,I=y.bd,M=-2&y.v,z=-2&y.j;if(0>M||0>z||0>=j||0>=I||M+j>o||z+I>f)return 2;o=j,f=I}if(y.da){if(!ut(o,f,j=[y.ib],I=[y.hb]))return 2;o=j[0],f=I[0]}}_.width=o,_.height=f;e:{var U=_.width,G=_.height;if(o=_.S,0>=U||0>=G||!(o>=qs&&13>o))o=2;else{if(0>=_.Rd&&_.sd==null){M=I=j=f=0;var ge=(z=U*Qu[o])*G;if(11>o||(I=(G+1)/2*(f=(U+1)/2),o==12&&(M=(j=U)*G)),(G=i(ge+2*I+M))==null){o=1;break e}_.sd=G,11>o?((U=_.f.RGBA).eb=G,U.fb=0,U.A=z,U.size=ge):((U=_.f.kb).y=G,U.O=0,U.fa=z,U.Fd=ge,U.f=G,U.N=0+ge,U.Ab=f,U.Cd=I,U.ea=G,U.W=0+ge+I,U.Db=f,U.Ed=I,o==12&&(U.F=G,U.J=0+ge+2*I),U.Tc=M,U.lb=j)}if(f=1,j=_.S,I=_.width,M=_.height,j>=qs&&13>j)if(11>j)o=_.f.RGBA,f&=(z=Math.abs(o.A))*(M-1)+I<=o.size,f&=z>=I*Qu[j],f&=o.eb!=null;else{o=_.f.kb,z=(I+1)/2,ge=(M+1)/2,U=Math.abs(o.fa),G=Math.abs(o.Ab);var Ee=Math.abs(o.Db),Y=Math.abs(o.lb),xe=Y*(M-1)+I;f&=U*(M-1)+I<=o.Fd,f&=G*(ge-1)+z<=o.Cd,f=(f&=Ee*(ge-1)+z<=o.Ed)&U>=I&G>=z&Ee>=z,f&=o.y!=null,f&=o.f!=null,f&=o.ea!=null,j==12&&(f&=Y>=I,f&=xe<=o.Tc,f&=o.F!=null)}else f=0;o=f?0:2}}return o!=0||y!=null&&y.fd&&(o=Ao(_)),o}var kr=64,ln=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],wr=24,Zn=32,Di=8,Si=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Qe("Predictor0","PredictorAdd0"),H.Predictor0=function(){return 4278190080},H.Predictor1=function(o){return o},H.Predictor2=function(o,f,y){return f[y+0]},H.Predictor3=function(o,f,y){return f[y+1]},H.Predictor4=function(o,f,y){return f[y-1]},H.Predictor5=function(o,f,y){return ft(ft(o,f[y+1]),f[y+0])},H.Predictor6=function(o,f,y){return ft(o,f[y-1])},H.Predictor7=function(o,f,y){return ft(o,f[y+0])},H.Predictor8=function(o,f,y){return ft(f[y-1],f[y+0])},H.Predictor9=function(o,f,y){return ft(f[y+0],f[y+1])},H.Predictor10=function(o,f,y){return ft(ft(o,f[y-1]),ft(f[y+0],f[y+1]))},H.Predictor11=function(o,f,y){var _=f[y+0];return 0>=Ct(_>>24&255,o>>24&255,(f=f[y-1])>>24&255)+Ct(_>>16&255,o>>16&255,f>>16&255)+Ct(_>>8&255,o>>8&255,f>>8&255)+Ct(255&_,255&o,255&f)?_:o},H.Predictor12=function(o,f,y){var _=f[y+0];return(an((o>>24&255)+(_>>24&255)-((f=f[y-1])>>24&255))<<24|an((o>>16&255)+(_>>16&255)-(f>>16&255))<<16|an((o>>8&255)+(_>>8&255)-(f>>8&255))<<8|an((255&o)+(255&_)-(255&f)))>>>0},H.Predictor13=function(o,f,y){var _=f[y-1];return(Tt((o=ft(o,f[y+0]))>>24&255,_>>24&255)<<24|Tt(o>>16&255,_>>16&255)<<16|Tt(o>>8&255,_>>8&255)<<8|Tt(255&o,255&_))>>>0};var Va=H.PredictorAdd0;H.PredictorAdd1=Qt,Qe("Predictor2","PredictorAdd2"),Qe("Predictor3","PredictorAdd3"),Qe("Predictor4","PredictorAdd4"),Qe("Predictor5","PredictorAdd5"),Qe("Predictor6","PredictorAdd6"),Qe("Predictor7","PredictorAdd7"),Qe("Predictor8","PredictorAdd8"),Qe("Predictor9","PredictorAdd9"),Qe("Predictor10","PredictorAdd10"),Qe("Predictor11","PredictorAdd11"),Qe("Predictor12","PredictorAdd12"),Qe("Predictor13","PredictorAdd13");var Yr=H.PredictorAdd2;wt("ColorIndexInverseTransform","MapARGB","32b",function(o){return o>>8&255},function(o){return o}),wt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(o){return o},function(o){return o>>8&255});var Dn,Mi=H.ColorIndexInverseTransform,fr=H.MapARGB,ci=H.VP8LColorIndexInverseTransformAlpha,l=H.MapAlpha,h=H.VP8LPredictorsAdd=[];h.length=16,(H.VP8LPredictors=[]).length=16,(H.VP8LPredictorsAdd_C=[]).length=16,(H.VP8LPredictors_C=[]).length=16;var w,N,A,E,K,ie,fe,me,ye,oe,pe,se,he,ve,_e,ke,Oe,Me,Fe,Ye,nt,Ze,et,ot,it,ct,Ht,nn,qt=i(511),Mn=i(2041),Bt=i(225),dr=i(767),hr=0,Ka=Mn,sr=Bt,Qn=dr,Ir=qt,qs=0,Us=1,Uu=2,Hs=3,Ws=4,oc=5,Hu=6,sc=7,lc=8,Vs=9,cc=10,b0=[2,3,7],y0=[3,3,11],Wu=[280,256,256,256,40],w0=[0,1,1,1,0],x0=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],_0=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],N0=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],S0=8,uc=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],fc=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ps=null,A0=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],k0=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Vu=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],L0=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],P0=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],j0=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],C0=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],$a=[],Fi=[],Ca=[],E0=1,Ku=2,Ga=[],Ai=[];br("UpsampleRgbLinePair",Oi,3),br("UpsampleBgrLinePair",Ri,3),br("UpsampleRgbaLinePair",Wa,4),br("UpsampleBgraLinePair",Ha,4),br("UpsampleArgbLinePair",Pa,4),br("UpsampleRgba4444LinePair",ia,2),br("UpsampleRgb565LinePair",yr,2);var I0=H.UpsampleRgbLinePair,T0=H.UpsampleBgrLinePair,$u=H.UpsampleRgbaLinePair,Gu=H.UpsampleBgraLinePair,Yu=H.UpsampleArgbLinePair,Xu=H.UpsampleRgba4444LinePair,O0=H.UpsampleRgb565LinePair,Ks=16,$s=1<<Ks-1,ms=-227,dc=482,R0=6,Ju=0,D0=i(256),M0=i(256),F0=i(256),B0=i(256),z0=i(dc-ms),q0=i(dc-ms);Ni("YuvToRgbRow",Oi,3),Ni("YuvToBgrRow",Ri,3),Ni("YuvToRgbaRow",Wa,4),Ni("YuvToBgraRow",Ha,4),Ni("YuvToArgbRow",Pa,4),Ni("YuvToRgba4444Row",ia,2),Ni("YuvToRgb565Row",yr,2);var Zu=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Gs=[0,2,8],U0=[8,7,6,4,4,2,2,2,1,1,1,1],H0=1;this.WebPDecodeRGBA=function(o,f,y,_,j){var I=Us,M=new Ae,z=new dn;M.ba=z,z.S=I,z.width=[z.width],z.height=[z.height];var U=z.width,G=z.height,ge=new It;if(ge==null||o==null)var Ee=2;else t(ge!=null),Ee=ja(o,f,y,ge.width,ge.height,ge.Pd,ge.Qd,ge.format,null);if(Ee!=0?U=0:(U!=null&&(U[0]=ge.width[0]),G!=null&&(G[0]=ge.height[0]),U=1),U){z.width=z.width[0],z.height=z.height[0],_!=null&&(_[0]=z.width),j!=null&&(j[0]=z.height);e:{if(_=new Gt,(j=new qe).data=o,j.w=f,j.ha=y,j.kd=1,f=[0],t(j!=null),((o=ja(j.data,j.w,j.ha,null,null,null,f,null,j))==0||o==7)&&f[0]&&(o=4),(f=o)==0){if(t(M!=null),_.data=j.data,_.w=j.w+j.offset,_.ha=j.ha-j.offset,_.put=lt,_.ac=Kn,_.bc=Pn,_.ma=M,j.xa){if((o=Er())==null){M=1;break e}if(function(Y,xe){var Pe=[0],ze=[0],Ce=[0];t:for(;;){if(Y==null)return 0;if(xe==null)return Y.a=2,0;if(Y.l=xe,Y.a=0,Te(Y.m,xe.data,xe.w,xe.ha),!cr(Y.m,Pe,ze,Ce)){Y.a=3;break t}if(Y.xb=Ku,xe.width=Pe[0],xe.height=ze[0],!ei(Pe[0],ze[0],1,Y,null))break t;return 1}return t(Y.a!=0),0}(o,_)){if(_=(f=li(_.width,_.height,M.Oa,M.ba))==0){t:{_=o;n:for(;;){if(_==null){_=0;break t}if(t(_.s.yc!=null),t(_.s.Ya!=null),t(0<_.s.Wb),t((y=_.l)!=null),t((j=y.ma)!=null),_.xb!=0){if(_.ca=j.ba,_.tb=j.tb,t(_.ca!=null),!So(j.Oa,y,Hs)){_.a=2;break n}if(!Fr(_,y.width)||y.da)break n;if((y.da||jt(_.ca.S))&&Ar(),11>_.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),_.ca.f.kb.F!=null&&Ar()),_.Pb&&0<_.s.ua&&_.s.vb.X==null&&!J(_.s.vb,_.s.Wa.Xa)){_.a=1;break n}_.xb=0}if(!Cr(_,_.V,_.Ba,_.c,_.i,y.o,Xi))break n;j.Dc=_.Ma,_=1;break t}t(_.a!=0),_=0}_=!_}_&&(f=o.a)}else f=o.a}else{if((o=new qo)==null){M=1;break e}if(o.Fa=j.na,o.P=j.P,o.qc=j.Sa,mo(o,_)){if((f=li(_.width,_.height,M.Oa,M.ba))==0){if(o.Aa=0,y=M.Oa,t((j=o)!=null),y!=null){if(0<(U=0>(U=y.Md)?0:100<U?255:255*U/100)){for(G=ge=0;4>G;++G)12>(Ee=j.pb[G]).lc&&(Ee.ia=U*U0[0>Ee.lc?0:Ee.lc]>>3),ge|=Ee.ia;ge&&(alert("todo:VP8InitRandom"),j.ia=1)}j.Ga=y.Id,100<j.Ga?j.Ga=100:0>j.Ga&&(j.Ga=0)}(function(Y,xe){if(Y==null)return 0;if(xe==null)return Vn(Y,2,"NULL VP8Io parameter in VP8Decode().");if(!Y.cb&&!mo(Y,xe))return 0;if(t(Y.cb),xe.ac==null||xe.ac(xe)){xe.ob&&(Y.L=0);var Pe=Gs[Y.L];if(Y.L==2?(Y.yb=0,Y.zb=0):(Y.yb=xe.v-Pe>>4,Y.zb=xe.j-Pe>>4,0>Y.yb&&(Y.yb=0),0>Y.zb&&(Y.zb=0)),Y.Va=xe.o+15+Pe>>4,Y.Hb=xe.va+15+Pe>>4,Y.Hb>Y.za&&(Y.Hb=Y.za),Y.Va>Y.Ub&&(Y.Va=Y.Ub),0<Y.L){var ze=Y.ed;for(Pe=0;4>Pe;++Pe){var Ce;if(Y.Qa.Cb){var Ue=Y.Qa.Lb[Pe];Y.Qa.Fb||(Ue+=ze.Tb)}else Ue=ze.Tb;for(Ce=0;1>=Ce;++Ce){var We=Y.gd[Pe][Ce],Je=Ue;if(ze.Pc&&(Je+=ze.vd[0],Ce&&(Je+=ze.od[0])),0<(Je=0>Je?0:63<Je?63:Je)){var Ge=Je;0<ze.wb&&(Ge=4<ze.wb?Ge>>2:Ge>>1)>9-ze.wb&&(Ge=9-ze.wb),1>Ge&&(Ge=1),We.dd=Ge,We.tc=2*Je+Ge,We.ld=40<=Je?2:15<=Je?1:0}else We.tc=0;We.La=Ce}}}Pe=0}else Vn(Y,6,"Frame setup failed"),Pe=Y.a;if(Pe=Pe==0){if(Pe){Y.$c=0,0<Y.Aa||(Y.Ic=H0);t:{Pe=Y.Ic,ze=4*(Ge=Y.za);var Lt=32*Ge,mt=Ge+1,Xt=0<Y.L?Ge*(0<Y.Aa?2:1):0,_t=(Y.Aa==2?2:1)*Ge;if((We=ze+832+(Ce=3*(16*Pe+Gs[Y.L])/2*Lt)+(Ue=Y.Fa!=null&&0<Y.Fa.length?Y.Kc.c*Y.Kc.i:0))!=We)Pe=0;else{if(We>Y.Vb){if(Y.Vb=0,Y.Ec=i(We),Y.Fc=0,Y.Ec==null){Pe=Vn(Y,1,"no memory during frame initialization.");break t}Y.Vb=We}We=Y.Ec,Je=Y.Fc,Y.Ac=We,Y.Bc=Je,Je+=ze,Y.Gd=c(Lt,ma),Y.Hd=0,Y.rb=c(mt+1,pa),Y.sb=1,Y.wa=Xt?c(Xt,Nr):null,Y.Y=0,Y.D.Nb=0,Y.D.wa=Y.wa,Y.D.Y=Y.Y,0<Y.Aa&&(Y.D.Y+=Ge),t(!0),Y.oc=We,Y.pc=Je,Je+=832,Y.ya=c(_t,ti),Y.aa=0,Y.D.ya=Y.ya,Y.D.aa=Y.aa,Y.Aa==2&&(Y.D.aa+=Ge),Y.R=16*Ge,Y.B=8*Ge,Ge=(Lt=Gs[Y.L])*Y.R,Lt=Lt/2*Y.B,Y.sa=We,Y.ta=Je+Ge,Y.qa=Y.sa,Y.ra=Y.ta+16*Pe*Y.R+Lt,Y.Ha=Y.qa,Y.Ia=Y.ra+8*Pe*Y.B+Lt,Y.$c=0,Je+=Ce,Y.mb=Ue?We:null,Y.nb=Ue?Je:null,t(Je+Ue<=Y.Fc+Y.Vb),ni(Y),a(Y.Ac,Y.Bc,0,ze),Pe=1}}if(Pe){if(xe.ka=0,xe.y=Y.sa,xe.O=Y.ta,xe.f=Y.qa,xe.N=Y.ra,xe.ea=Y.Ha,xe.Vd=Y.Ia,xe.fa=Y.R,xe.Rc=Y.B,xe.F=null,xe.J=0,!hr){for(Pe=-255;255>=Pe;++Pe)qt[255+Pe]=0>Pe?-Pe:Pe;for(Pe=-1020;1020>=Pe;++Pe)Mn[1020+Pe]=-128>Pe?-128:127<Pe?127:Pe;for(Pe=-112;112>=Pe;++Pe)Bt[112+Pe]=-16>Pe?-16:15<Pe?15:Pe;for(Pe=-255;510>=Pe;++Pe)dr[255+Pe]=0>Pe?0:255<Pe?255:Pe;hr=1}fe=go,me=Uo,oe=Ba,pe=ri,se=Zi,ye=Fa,he=Aa,ve=ka,_e=v,ke=P,Oe=_i,Me=xo,Fe=$,Ye=ce,nt=wo,Ze=Sa,et=Wo,ot=qa,Fi[0]=ya,Fi[1]=tn,Fi[2]=$r,Fi[3]=ba,Fi[4]=vo,Fi[5]=Ei,Fi[6]=vr,Fi[7]=Gr,Fi[8]=wa,Fi[9]=bo,$a[0]=ii,$a[1]=fs,$a[2]=ds,$a[3]=ur,$a[4]=yi,$a[5]=ea,$a[6]=za,Ca[0]=_a,Ca[1]=Ho,Ca[2]=xa,Ca[3]=ai,Ca[4]=Ii,Ca[5]=hs,Ca[6]=yo,Pe=1}else Pe=0}Pe&&(Pe=function(cn,pr){for(cn.M=0;cn.M<cn.Va;++cn.M){var Jt,Nt=cn.Jc[cn.M&cn.Xb],at=cn.m,er=cn;for(Jt=0;Jt<er.za;++Jt){var $t=at,fn=er,Fn=fn.Ac,Lr=fn.Bc+4*Jt,qr=fn.zc,$n=fn.ya[fn.aa+Jt];if(fn.Qa.Bb?$n.$b=Le($t,fn.Pa.jb[0])?2+Le($t,fn.Pa.jb[2]):Le($t,fn.Pa.jb[1]):$n.$b=0,fn.kc&&($n.Ad=Le($t,fn.Bd)),$n.Za=!Le($t,145)+0,$n.Za){var Tr=$n.Ob,Ur=0;for(fn=0;4>fn;++fn){var mr,hn=qr[0+fn];for(mr=0;4>mr;++mr){hn=P0[Fn[Lr+mr]][hn];for(var wn=Vu[Le($t,hn[0])];0<wn;)wn=Vu[2*wn+Le($t,hn[wn])];hn=-wn,Fn[Lr+mr]=hn}r(Tr,Ur,Fn,Lr,4),Ur+=4,qr[0+fn]=hn}}else hn=Le($t,156)?Le($t,128)?1:3:Le($t,163)?2:0,$n.Ob[0]=hn,a(Fn,Lr,hn,4),a(qr,0,hn,4);$n.Dd=Le($t,142)?Le($t,114)?Le($t,183)?1:3:2:0}if(er.m.Ka)return Vn(cn,7,"Premature end-of-partition0 encountered.");for(;cn.ja<cn.za;++cn.ja){if(er=Nt,$t=(at=cn).rb[at.sb-1],Fn=at.rb[at.sb+at.ja],Jt=at.ya[at.aa+at.ja],Lr=at.kc?Jt.Ad:0)$t.la=Fn.la=0,Jt.Za||($t.Na=Fn.Na=0),Jt.Hc=0,Jt.Gc=0,Jt.ia=0;else{var Gn,xn;if($t=Fn,Fn=er,Lr=at.Pa.Xc,qr=at.ya[at.aa+at.ja],$n=at.pb[qr.$b],fn=qr.ad,Tr=0,Ur=at.rb[at.sb-1],hn=mr=0,a(fn,Tr,0,384),qr.Za)var Pr=0,Bi=Lr[3];else{wn=i(16);var tr=$t.Na+Ur.Na;if(tr=ps(Fn,Lr[1],tr,$n.Eb,0,wn,0),$t.Na=Ur.Na=(0<tr)+0,1<tr)fe(wn,0,fn,Tr);else{var Xr=wn[0]+3>>3;for(wn=0;256>wn;wn+=16)fn[Tr+wn]=Xr}Pr=1,Bi=Lr[0]}var kn=15&$t.la,gr=15&Ur.la;for(wn=0;4>wn;++wn){var ui=1&gr;for(Xr=xn=0;4>Xr;++Xr)kn=kn>>1|(ui=(tr=ps(Fn,Bi,tr=ui+(1&kn),$n.Sc,Pr,fn,Tr))>Pr)<<7,xn=xn<<2|(3<tr?3:1<tr?2:fn[Tr+0]!=0),Tr+=16;kn>>=4,gr=gr>>1|ui<<7,mr=(mr<<8|xn)>>>0}for(Bi=kn,Pr=gr>>4,Gn=0;4>Gn;Gn+=2){for(xn=0,kn=$t.la>>4+Gn,gr=Ur.la>>4+Gn,wn=0;2>wn;++wn){for(ui=1&gr,Xr=0;2>Xr;++Xr)tr=ui+(1&kn),kn=kn>>1|(ui=0<(tr=ps(Fn,Lr[2],tr,$n.Qc,0,fn,Tr)))<<3,xn=xn<<2|(3<tr?3:1<tr?2:fn[Tr+0]!=0),Tr+=16;kn>>=2,gr=gr>>1|ui<<5}hn|=xn<<4*Gn,Bi|=kn<<4<<Gn,Pr|=(240&gr)<<Gn}$t.la=Bi,Ur.la=Pr,qr.Hc=mr,qr.Gc=hn,qr.ia=43690&hn?0:$n.ia,Lr=!(mr|hn)}if(0<at.L&&(at.wa[at.Y+at.ja]=at.gd[Jt.$b][Jt.Za],at.wa[at.Y+at.ja].La|=!Lr),er.Ka)return Vn(cn,7,"Premature end-of-file encountered.")}if(ni(cn),at=pr,er=1,Jt=(Nt=cn).D,$t=0<Nt.L&&Nt.M>=Nt.zb&&Nt.M<=Nt.Va,Nt.Aa==0)t:{if(Jt.M=Nt.M,Jt.uc=$t,zr(Nt,Jt),er=1,Jt=(xn=Nt.D).Nb,$t=(hn=Gs[Nt.L])*Nt.R,Fn=hn/2*Nt.B,wn=16*Jt*Nt.R,Xr=8*Jt*Nt.B,Lr=Nt.sa,qr=Nt.ta-$t+wn,$n=Nt.qa,fn=Nt.ra-Fn+Xr,Tr=Nt.Ha,Ur=Nt.Ia-Fn+Xr,gr=(kn=xn.M)==0,mr=kn>=Nt.Va-1,Nt.Aa==2&&zr(Nt,xn),xn.uc)for(ui=(tr=Nt).D.M,t(tr.D.uc),xn=tr.yb;xn<tr.Hb;++xn){Pr=xn,Bi=ui;var Hr=(fi=(jr=tr).D).Nb;Gn=jr.R;var fi=fi.wa[fi.Y+Pr],di=jr.sa,Jr=jr.ta+16*Hr*Gn+16*Pr,hi=fi.dd,Cn=fi.tc;if(Cn!=0)if(t(3<=Cn),jr.L==1)0<Pr&&Ze(di,Jr,Gn,Cn+4),fi.La&&ot(di,Jr,Gn,Cn),0<Bi&&nt(di,Jr,Gn,Cn+4),fi.La&&et(di,Jr,Gn,Cn);else{var pi=jr.B,zi=jr.qa,ko=jr.ra+8*Hr*pi+8*Pr,Ea=jr.Ha,jr=jr.Ia+8*Hr*pi+8*Pr;Hr=fi.ld,0<Pr&&(ve(di,Jr,Gn,Cn+4,hi,Hr),ke(zi,ko,Ea,jr,pi,Cn+4,hi,Hr)),fi.La&&(Me(di,Jr,Gn,Cn,hi,Hr),Ye(zi,ko,Ea,jr,pi,Cn,hi,Hr)),0<Bi&&(he(di,Jr,Gn,Cn+4,hi,Hr),_e(zi,ko,Ea,jr,pi,Cn+4,hi,Hr)),fi.La&&(Oe(di,Jr,Gn,Cn,hi,Hr),Fe(zi,ko,Ea,jr,pi,Cn,hi,Hr))}}if(Nt.ia&&alert("todo:DitherRow"),at.put!=null){if(xn=16*kn,kn=16*(kn+1),gr?(at.y=Nt.sa,at.O=Nt.ta+wn,at.f=Nt.qa,at.N=Nt.ra+Xr,at.ea=Nt.Ha,at.W=Nt.Ia+Xr):(xn-=hn,at.y=Lr,at.O=qr,at.f=$n,at.N=fn,at.ea=Tr,at.W=Ur),mr||(kn-=hn),kn>at.o&&(kn=at.o),at.F=null,at.J=null,Nt.Fa!=null&&0<Nt.Fa.length&&xn<kn&&(at.J=Rn(Nt,at,xn,kn-xn),at.F=Nt.mb,at.F==null&&at.F.length==0)){er=Vn(Nt,3,"Could not decode alpha data.");break t}xn<at.j&&(hn=at.j-xn,xn=at.j,t(!(1&hn)),at.O+=Nt.R*hn,at.N+=Nt.B*(hn>>1),at.W+=Nt.B*(hn>>1),at.F!=null&&(at.J+=at.width*hn)),xn<kn&&(at.O+=at.v,at.N+=at.v>>1,at.W+=at.v>>1,at.F!=null&&(at.J+=at.v),at.ka=xn-at.j,at.U=at.va-at.v,at.T=kn-xn,er=at.put(at))}Jt+1!=Nt.Ic||mr||(r(Nt.sa,Nt.ta-$t,Lr,qr+16*Nt.R,$t),r(Nt.qa,Nt.ra-Fn,$n,fn+8*Nt.B,Fn),r(Nt.Ha,Nt.Ia-Fn,Tr,Ur+8*Nt.B,Fn))}if(!er)return Vn(cn,6,"Output aborted.")}return 1}(Y,xe)),xe.bc!=null&&xe.bc(xe),Pe&=1}return Pe?(Y.cb=0,Pe):0})(o,_)||(f=o.a)}}else f=o.a}f==0&&M.Oa!=null&&M.Oa.fd&&(f=Ao(M.ba))}M=f}I=M!=0?null:11>I?z.f.RGBA.eb:z.f.kb.y}else I=null;return I};var Qu=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(H,de){for(var O="",R=0;R<4;R++)O+=String.fromCharCode(H[de++]);return O}function m(H,de){return H[de+0]|H[de+1]<<8}function b(H,de){return(H[de+0]|H[de+1]<<8|H[de+2]<<16)>>>0}function x(H,de){return(H[de+0]|H[de+1]<<8|H[de+2]<<16|H[de+3]<<24)>>>0}new u;var p=[0],L=[0],k=[],C=new u,S=n,F=function(H,de){var O={},R=0,ee=!1,ne=0,Se=0;if(O.frames=[],!function(T,D){for(var q=0;q<4;q++)if(T[D+q]!="RIFF".charCodeAt(q))return!0;return!1}(H,de)){for(x(H,de+=4),de+=8;de<H.length;){var we=d(H,de),je=x(H,de+=4);de+=4;var Ne=je+(1&je);switch(we){case"VP8 ":case"VP8L":O.frames[R]===void 0&&(O.frames[R]={}),(Be=O.frames[R]).src_off=ee?Se:de-8,Be.src_size=ne+je+8,R++,ee&&(ee=!1,ne=0,Se=0);break;case"VP8X":(Be=O.header={}).feature_flags=H[de];var Te=de+4;Be.canvas_width=1+b(H,Te),Te+=3,Be.canvas_height=1+b(H,Te),Te+=3;break;case"ALPH":ee=!0,ne=Ne+8,Se=de-8;break;case"ANIM":(Be=O.header).bgcolor=x(H,de),Te=de+4,Be.loop_count=m(H,Te),Te+=2;break;case"ANMF":var Ve,Be;(Be=O.frames[R]={}).offset_x=2*b(H,de),de+=3,Be.offset_y=2*b(H,de),de+=3,Be.width=1+b(H,de),de+=3,Be.height=1+b(H,de),de+=3,Be.duration=b(H,de),de+=3,Ve=H[de++],Be.dispose=1&Ve,Be.blend=Ve>>1&1}we!="ANMF"&&(de+=Ne)}return O}}(S,0);F.response=S,F.rgbaoutput=!0,F.dataurl=!1;var V=F.header?F.header:null,W=F.frames?F.frames:null;if(V){V.loop_counter=V.loop_count,p=[V.canvas_height],L=[V.canvas_width];for(var be=0;be<W.length&&W[be].blend!=0;be++);}var ue=W[0],re=C.WebPDecodeRGBA(S,ue.src_off,ue.src_size,L,p);ue.rgba=re,ue.imgwidth=L[0],ue.imgheight=p[0];for(var Q=0;Q<L[0]*p[0]*4;Q++)k[Q]=re[Q];return this.width=L,this.height=p,this.data=k,this}(function(n){var t,e,r,a,i,c,s,u,d,m=function(T){return T=T||{},this.isStrokeTransparent=T.isStrokeTransparent||!1,this.strokeOpacity=T.strokeOpacity||1,this.strokeStyle=T.strokeStyle||"#000000",this.fillStyle=T.fillStyle||"#000000",this.isFillTransparent=T.isFillTransparent||!1,this.fillOpacity=T.fillOpacity||1,this.font=T.font||"10px sans-serif",this.textBaseline=T.textBaseline||"alphabetic",this.textAlign=T.textAlign||"left",this.lineWidth=T.lineWidth||1,this.lineJoin=T.lineJoin||"miter",this.lineCap=T.lineCap||"butt",this.path=T.path||[],this.transform=T.transform!==void 0?T.transform.clone():new u,this.globalCompositeOperation=T.globalCompositeOperation||"normal",this.globalAlpha=T.globalAlpha||1,this.clip_path=T.clip_path||[],this.currentPoint=T.currentPoint||new c,this.miterLimit=T.miterLimit||10,this.lastPoint=T.lastPoint||new c,this.lineDashOffset=T.lineDashOffset||0,this.lineDash=T.lineDash||[],this.margin=T.margin||[0,0,0,0],this.prevPageLastElemOffset=T.prevPageLastElemOffset||0,this.ignoreClearRect=typeof T.ignoreClearRect!="boolean"||T.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new b(this),t=this.internal.f2,e=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,c=this.internal.Point,s=this.internal.Rectangle,u=this.internal.Matrix,d=new m}]);var b=function(T){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var D=T;Object.defineProperty(this,"pdf",{get:function(){return D}});var q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return q},set:function(Ie){q=!!Ie}});var X=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return X},set:function(Ie){X=!!Ie}});var te=0;Object.defineProperty(this,"posX",{get:function(){return te},set:function(Ie){isNaN(Ie)||(te=Ie)}});var Z=0;Object.defineProperty(this,"posY",{get:function(){return Z},set:function(Ie){isNaN(Ie)||(Z=Ie)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(Ie){var J;typeof Ie=="number"?J=[Ie,Ie,Ie,Ie]:((J=new Array(4))[0]=Ie[0],J[1]=Ie.length>=2?Ie[1]:J[0],J[2]=Ie.length>=3?Ie[2]:J[0],J[3]=Ie.length>=4?Ie[3]:J[1]),d.margin=J}});var le=!1;Object.defineProperty(this,"autoPaging",{get:function(){return le},set:function(Ie){le=Ie}});var ae=0;Object.defineProperty(this,"lastBreak",{get:function(){return ae},set:function(Ie){ae=Ie}});var Le=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Le},set:function(Ie){Le=Ie}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(Ie){Ie instanceof m&&(d=Ie)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(Ie){d.path=Ie}});var De=[];Object.defineProperty(this,"ctxStack",{get:function(){return De},set:function(Ie){De=Ie}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ie){var J;J=x(Ie),this.ctx.fillStyle=J.style,this.ctx.isFillTransparent=J.a===0,this.ctx.fillOpacity=J.a,this.pdf.setFillColor(J.r,J.g,J.b,{a:J.a}),this.pdf.setTextColor(J.r,J.g,J.b,{a:J.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ie){var J=x(Ie);this.ctx.strokeStyle=J.style,this.ctx.isStrokeTransparent=J.a===0,this.ctx.strokeOpacity=J.a,J.a===0?this.pdf.setDrawColor(255,255,255):(J.a,this.pdf.setDrawColor(J.r,J.g,J.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ie){["butt","round","square"].indexOf(Ie)!==-1&&(this.ctx.lineCap=Ie,this.pdf.setLineCap(Ie))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ie){isNaN(Ie)||(this.ctx.lineWidth=Ie,this.pdf.setLineWidth(Ie))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ie){["bevel","round","miter"].indexOf(Ie)!==-1&&(this.ctx.lineJoin=Ie,this.pdf.setLineJoin(Ie))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ie){isNaN(Ie)||(this.ctx.miterLimit=Ie,this.pdf.setMiterLimit(Ie))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ie){this.ctx.textBaseline=Ie}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ie){["right","end","center","left","start"].indexOf(Ie)!==-1&&(this.ctx.textAlign=Ie)}});var Re=null,Ke=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ke},set:function(Ie){Re=null,Ke=Ie}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ie){var J;if(this.ctx.font=Ie,(J=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ie))!==null){var Ot=J[1];J[2];var St=J[3],ut=J[4];J[5];var $e=J[6],gt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ut)[2];ut=Math.floor(gt==="px"?parseFloat(ut)*this.pdf.internal.scaleFactor:gt==="em"?parseFloat(ut)*this.pdf.getFontSize():parseFloat(ut)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ut);var Qe=function(At){var wt,Yt,en=[],vt=At.trim();if(vt==="")return $c;if(vt in jd)return[jd[vt]];for(;vt!=="";){switch(Yt=null,wt=(vt=Ed(vt)).charAt(0)){case'"':case"'":Yt=iy(vt.substring(1),wt);break;default:Yt=ay(vt)}if(Yt===null||(en.push(Yt[0]),(vt=Ed(Yt[1]))!==""&&vt.charAt(0)!==","))return $c;vt=vt.replace(/^,/,"")}return en}($e);if(this.fontFaces){var xt=function(At,wt){if(Re===null){var Yt=function(en){var vt=[];return Object.keys(en).forEach(function(Et){en[Et].forEach(function(tt){var kt=null;switch(tt){case"bold":kt={family:Et,weight:"bold"};break;case"italic":kt={family:Et,style:"italic"};break;case"bolditalic":kt={family:Et,weight:"bold",style:"italic"};break;case"":case"normal":kt={family:Et}}kt!==null&&(kt.ref={name:Et,style:tt},vt.push(kt))})}),vt}(At.getFontList());Re=function(en){for(var vt={},Et=0;Et<en.length;++Et){var tt=Kc(en[Et]),kt=tt.family,zt=tt.stretch,jt=tt.style,Xe=tt.weight;vt[kt]=vt[kt]||{},vt[kt][zt]=vt[kt][zt]||{},vt[kt][zt][jt]=vt[kt][zt][jt]||{},vt[kt][zt][jt][Xe]=tt}return vt}(Yt.concat(wt))}return Re}(this.pdf,this.fontFaces),ft=Qe.map(function(At){return{family:At,stretch:"normal",weight:St,style:Ot}}),an=function(At,wt,Yt){for(var en=(Yt=Yt||{}).defaultFontFamily||"times",vt=Object.assign({},ry,Yt.genericFontFamilies||{}),Et=null,tt=null,kt=0;kt<wt.length;++kt)if(vt[(Et=Kc(wt[kt])).family]&&(Et.family=vt[Et.family]),At.hasOwnProperty(Et.family)){tt=At[Et.family];break}if(!(tt=tt||At[en]))throw new Error("Could not find a font-family for the rule '"+Cd(Et)+"' and default family '"+en+"'.");if(tt=function(zt,jt){if(jt[zt])return jt[zt];var Xe=fu[zt],In=Xe<=fu.normal?-1:1,dn=Pd(jt,y1,Xe,In);if(!dn)throw new Error("Could not find a matching font-stretch value for "+zt);return dn}(Et.stretch,tt),tt=function(zt,jt){if(jt[zt])return jt[zt];for(var Xe=b1[zt],In=0;In<Xe.length;++In)if(jt[Xe[In]])return jt[Xe[In]];throw new Error("Could not find a matching font-style for "+zt)}(Et.style,tt),!(tt=function(zt,jt){if(jt[zt])return jt[zt];if(zt===400&&jt[500])return jt[500];if(zt===500&&jt[400])return jt[400];var Xe=ny[zt],In=Pd(jt,w1,Xe,zt<400?-1:1);if(!In)throw new Error("Could not find a matching font-weight for value "+zt);return In}(Et.weight,tt)))throw new Error("Failed to resolve a font for the rule '"+Cd(Et)+"'.");return tt}(xt,ft);this.pdf.setFont(an.ref.name,an.ref.style)}else{var Tt="";(St==="bold"||parseInt(St,10)>=700||Ot==="bold")&&(Tt="bold"),Ot==="italic"&&(Tt+="italic"),Tt.length===0&&(Tt="normal");for(var Ct="",Qt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Rt=0;Rt<Qe.length;Rt++){if(this.pdf.internal.getFont(Qe[Rt],Tt,{noFallback:!0,disableWarning:!0})!==void 0){Ct=Qe[Rt];break}if(Tt==="bolditalic"&&this.pdf.internal.getFont(Qe[Rt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ct=Qe[Rt],Tt="bold";else if(this.pdf.internal.getFont(Qe[Rt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ct=Qe[Rt],Tt="normal";break}}if(Ct===""){for(var ht=0;ht<Qe.length;ht++)if(Qt[Qe[ht]]){Ct=Qt[Qe[ht]];break}}Ct=Ct===""?"Times":Ct,this.pdf.setFont(Ct,Tt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ie){this.ctx.globalCompositeOperation=Ie}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ie){this.ctx.globalAlpha=Ie}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ie){this.ctx.lineDashOffset=Ie,Be.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ie){this.ctx.lineDash=Ie,Be.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ie){this.ctx.ignoreClearRect=!!Ie}})};b.prototype.setLineDash=function(T){this.lineDash=T},b.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},b.prototype.fill=function(){W.call(this,"fill",!1)},b.prototype.stroke=function(){W.call(this,"stroke",!1)},b.prototype.beginPath=function(){this.path=[{type:"begin"}]},b.prototype.moveTo=function(T,D){if(isNaN(T)||isNaN(D))throw Ln.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var q=this.ctx.transform.applyToPoint(new c(T,D));this.path.push({type:"mt",x:q.x,y:q.y}),this.ctx.lastPoint=new c(T,D)},b.prototype.closePath=function(){var T=new c(0,0),D=0;for(D=this.path.length-1;D!==-1;D--)if(this.path[D].type==="begin"&&_n(this.path[D+1])==="object"&&typeof this.path[D+1].x=="number"){T=new c(this.path[D+1].x,this.path[D+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(T.x,T.y)},b.prototype.lineTo=function(T,D){if(isNaN(T)||isNaN(D))throw Ln.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var q=this.ctx.transform.applyToPoint(new c(T,D));this.path.push({type:"lt",x:q.x,y:q.y}),this.ctx.lastPoint=new c(q.x,q.y)},b.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),W.call(this,null,!0)},b.prototype.quadraticCurveTo=function(T,D,q,X){if(isNaN(q)||isNaN(X)||isNaN(T)||isNaN(D))throw Ln.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var te=this.ctx.transform.applyToPoint(new c(q,X)),Z=this.ctx.transform.applyToPoint(new c(T,D));this.path.push({type:"qct",x1:Z.x,y1:Z.y,x:te.x,y:te.y}),this.ctx.lastPoint=new c(te.x,te.y)},b.prototype.bezierCurveTo=function(T,D,q,X,te,Z){if(isNaN(te)||isNaN(Z)||isNaN(T)||isNaN(D)||isNaN(q)||isNaN(X))throw Ln.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var le=this.ctx.transform.applyToPoint(new c(te,Z)),ae=this.ctx.transform.applyToPoint(new c(T,D)),Le=this.ctx.transform.applyToPoint(new c(q,X));this.path.push({type:"bct",x1:ae.x,y1:ae.y,x2:Le.x,y2:Le.y,x:le.x,y:le.y}),this.ctx.lastPoint=new c(le.x,le.y)},b.prototype.arc=function(T,D,q,X,te,Z){if(isNaN(T)||isNaN(D)||isNaN(q)||isNaN(X)||isNaN(te))throw Ln.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Z=!!Z,!this.ctx.transform.isIdentity){var le=this.ctx.transform.applyToPoint(new c(T,D));T=le.x,D=le.y;var ae=this.ctx.transform.applyToPoint(new c(0,q)),Le=this.ctx.transform.applyToPoint(new c(0,0));q=Math.sqrt(Math.pow(ae.x-Le.x,2)+Math.pow(ae.y-Le.y,2))}Math.abs(te-X)>=2*Math.PI&&(X=0,te=2*Math.PI),this.path.push({type:"arc",x:T,y:D,radius:q,startAngle:X,endAngle:te,counterclockwise:Z})},b.prototype.arcTo=function(T,D,q,X,te){throw new Error("arcTo not implemented.")},b.prototype.rect=function(T,D,q,X){if(isNaN(T)||isNaN(D)||isNaN(q)||isNaN(X))throw Ln.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(T,D),this.lineTo(T+q,D),this.lineTo(T+q,D+X),this.lineTo(T,D+X),this.lineTo(T,D),this.lineTo(T+q,D),this.lineTo(T,D)},b.prototype.fillRect=function(T,D,q,X){if(isNaN(T)||isNaN(D)||isNaN(q)||isNaN(X))throw Ln.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var te={};this.lineCap!=="butt"&&(te.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(te.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(T,D,q,X),this.fill(),te.hasOwnProperty("lineCap")&&(this.lineCap=te.lineCap),te.hasOwnProperty("lineJoin")&&(this.lineJoin=te.lineJoin)}},b.prototype.strokeRect=function(T,D,q,X){if(isNaN(T)||isNaN(D)||isNaN(q)||isNaN(X))throw Ln.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");L.call(this)||(this.beginPath(),this.rect(T,D,q,X),this.stroke())},b.prototype.clearRect=function(T,D,q,X){if(isNaN(T)||isNaN(D)||isNaN(q)||isNaN(X))throw Ln.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(T,D,q,X))},b.prototype.save=function(T){T=typeof T!="boolean"||T;for(var D=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("q");if(this.pdf.setPage(D),T){this.ctx.fontSize=this.pdf.internal.getFontSize();var X=new m(this.ctx);this.ctxStack.push(this.ctx),this.ctx=X}},b.prototype.restore=function(T){T=typeof T!="boolean"||T;for(var D=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("Q");this.pdf.setPage(D),T&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},b.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var x=function(T){var D,q,X,te;if(T.isCanvasGradient===!0&&(T=T.getColor()),!T)return{r:0,g:0,b:0,a:0,style:T};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(T))D=0,q=0,X=0,te=0;else{var Z=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(T);if(Z!==null)D=parseInt(Z[1]),q=parseInt(Z[2]),X=parseInt(Z[3]),te=1;else if((Z=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(T))!==null)D=parseInt(Z[1]),q=parseInt(Z[2]),X=parseInt(Z[3]),te=parseFloat(Z[4]);else{if(te=1,typeof T=="string"&&T.charAt(0)!=="#"){var le=new f1(T);T=le.ok?le.toHex():"#000000"}T.length===4?(D=T.substring(1,2),D+=D,q=T.substring(2,3),q+=q,X=T.substring(3,4),X+=X):(D=T.substring(1,3),q=T.substring(3,5),X=T.substring(5,7)),D=parseInt(D,16),q=parseInt(q,16),X=parseInt(X,16)}}return{r:D,g:q,b:X,a:te,style:T}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},L=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};b.prototype.fillText=function(T,D,q,X){if(isNaN(D)||isNaN(q)||typeof T!="string")throw Ln.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(X=isNaN(X)?void 0:X,!p.call(this)){var te=Ne(this.ctx.transform.rotation),Z=this.ctx.transform.scaleX;R.call(this,{text:T,x:D,y:q,scale:Z,angle:te,align:this.textAlign,maxWidth:X})}},b.prototype.strokeText=function(T,D,q,X){if(isNaN(D)||isNaN(q)||typeof T!="string")throw Ln.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!L.call(this)){X=isNaN(X)?void 0:X;var te=Ne(this.ctx.transform.rotation),Z=this.ctx.transform.scaleX;R.call(this,{text:T,x:D,y:q,scale:Z,renderingMode:"stroke",angle:te,align:this.textAlign,maxWidth:X})}},b.prototype.measureText=function(T){if(typeof T!="string")throw Ln.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var D=this.pdf,q=this.pdf.internal.scaleFactor,X=D.internal.getFontSize(),te=D.getStringUnitWidth(T)*X/D.internal.scaleFactor;return new function(Z){var le=(Z=Z||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return le}}),this}({width:te*=Math.round(96*q/72*1e4)/1e4})},b.prototype.scale=function(T,D){if(isNaN(T)||isNaN(D))throw Ln.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var q=new u(T,0,0,D,0,0);this.ctx.transform=this.ctx.transform.multiply(q)},b.prototype.rotate=function(T){if(isNaN(T))throw Ln.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var D=new u(Math.cos(T),Math.sin(T),-Math.sin(T),Math.cos(T),0,0);this.ctx.transform=this.ctx.transform.multiply(D)},b.prototype.translate=function(T,D){if(isNaN(T)||isNaN(D))throw Ln.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var q=new u(1,0,0,1,T,D);this.ctx.transform=this.ctx.transform.multiply(q)},b.prototype.transform=function(T,D,q,X,te,Z){if(isNaN(T)||isNaN(D)||isNaN(q)||isNaN(X)||isNaN(te)||isNaN(Z))throw Ln.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var le=new u(T,D,q,X,te,Z);this.ctx.transform=this.ctx.transform.multiply(le)},b.prototype.setTransform=function(T,D,q,X,te,Z){T=isNaN(T)?1:T,D=isNaN(D)?0:D,q=isNaN(q)?0:q,X=isNaN(X)?1:X,te=isNaN(te)?0:te,Z=isNaN(Z)?0:Z,this.ctx.transform=new u(T,D,q,X,te,Z)};var k=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};b.prototype.drawImage=function(T,D,q,X,te,Z,le,ae,Le){var De=this.pdf.getImageProperties(T),Re=1,Ke=1,Ie=1,J=1;X!==void 0&&ae!==void 0&&(Ie=ae/X,J=Le/te,Re=De.width/X*ae/X,Ke=De.height/te*Le/te),Z===void 0&&(Z=D,le=q,D=0,q=0),X!==void 0&&ae===void 0&&(ae=X,Le=te),X===void 0&&ae===void 0&&(ae=De.width,Le=De.height);for(var Ot,St=this.ctx.transform.decompose(),ut=Ne(St.rotate.shx),$e=new u,gt=($e=($e=($e=$e.multiply(St.translate)).multiply(St.skew)).multiply(St.scale)).applyToRectangle(new s(Z-D*Ie,le-q*J,X*Re,te*Ke)),Qe=C.call(this,gt),xt=[],ft=0;ft<Qe.length;ft+=1)xt.indexOf(Qe[ft])===-1&&xt.push(Qe[ft]);if(V(xt),this.autoPaging)for(var an=xt[0],Tt=xt[xt.length-1],Ct=an;Ct<Tt+1;Ct++){this.pdf.setPage(Ct);var Qt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Rt=Ct===1?this.posY+this.margin[0]:this.margin[0],ht=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],At=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],wt=Ct===1?0:ht+(Ct-2)*At;if(this.ctx.clip_path.length!==0){var Yt=this.path;Ot=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=F(Ot,this.posX+this.margin[3],-wt+Rt+this.ctx.prevPageLastElemOffset),be.call(this,"fill",!0),this.path=Yt}var en=JSON.parse(JSON.stringify(gt));en=F([en],this.posX+this.margin[3],-wt+Rt+this.ctx.prevPageLastElemOffset)[0];var vt=(Ct>an||Ct<Tt)&&k.call(this);vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Qt,At,null).clip().discardPath()),this.pdf.addImage(T,"JPEG",en.x,en.y,en.w,en.h,null,null,ut),vt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(T,"JPEG",gt.x,gt.y,gt.w,gt.h,null,null,ut)};var C=function(T,D,q){var X=[];D=D||this.pdf.internal.pageSize.width,q=q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var te=this.posY+this.ctx.prevPageLastElemOffset;switch(T.type){default:case"mt":case"lt":X.push(Math.floor((T.y+te)/q)+1);break;case"arc":X.push(Math.floor((T.y+te-T.radius)/q)+1),X.push(Math.floor((T.y+te+T.radius)/q)+1);break;case"qct":var Z=Te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x,T.y);X.push(Math.floor((Z.y+te)/q)+1),X.push(Math.floor((Z.y+Z.h+te)/q)+1);break;case"bct":var le=Ve(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x2,T.y2,T.x,T.y);X.push(Math.floor((le.y+te)/q)+1),X.push(Math.floor((le.y+le.h+te)/q)+1);break;case"rect":X.push(Math.floor((T.y+te)/q)+1),X.push(Math.floor((T.y+T.h+te)/q)+1)}for(var ae=0;ae<X.length;ae+=1)for(;this.pdf.internal.getNumberOfPages()<X[ae];)S.call(this);return X},S=function(){var T=this.fillStyle,D=this.strokeStyle,q=this.font,X=this.lineCap,te=this.lineWidth,Z=this.lineJoin;this.pdf.addPage(),this.fillStyle=T,this.strokeStyle=D,this.font=q,this.lineCap=X,this.lineWidth=te,this.lineJoin=Z},F=function(T,D,q){for(var X=0;X<T.length;X++)switch(T[X].type){case"bct":T[X].x2+=D,T[X].y2+=q;case"qct":T[X].x1+=D,T[X].y1+=q;default:T[X].x+=D,T[X].y+=q}return T},V=function(T){return T.sort(function(D,q){return D-q})},W=function(T,D){for(var q,X,te=this.fillStyle,Z=this.strokeStyle,le=this.lineCap,ae=this.lineWidth,Le=Math.abs(ae*this.ctx.transform.scaleX),De=this.lineJoin,Re=JSON.parse(JSON.stringify(this.path)),Ke=JSON.parse(JSON.stringify(this.path)),Ie=[],J=0;J<Ke.length;J++)if(Ke[J].x!==void 0)for(var Ot=C.call(this,Ke[J]),St=0;St<Ot.length;St+=1)Ie.indexOf(Ot[St])===-1&&Ie.push(Ot[St]);for(var ut=0;ut<Ie.length;ut++)for(;this.pdf.internal.getNumberOfPages()<Ie[ut];)S.call(this);if(V(Ie),this.autoPaging)for(var $e=Ie[0],gt=Ie[Ie.length-1],Qe=$e;Qe<gt+1;Qe++){this.pdf.setPage(Qe),this.fillStyle=te,this.strokeStyle=Z,this.lineCap=le,this.lineWidth=Le,this.lineJoin=De;var xt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ft=Qe===1?this.posY+this.margin[0]:this.margin[0],an=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Tt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ct=Qe===1?0:an+(Qe-2)*Tt;if(this.ctx.clip_path.length!==0){var Qt=this.path;q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=F(q,this.posX+this.margin[3],-Ct+ft+this.ctx.prevPageLastElemOffset),be.call(this,T,!0),this.path=Qt}if(X=JSON.parse(JSON.stringify(Re)),this.path=F(X,this.posX+this.margin[3],-Ct+ft+this.ctx.prevPageLastElemOffset),D===!1||Qe===0){var Rt=(Qe>$e||Qe<gt)&&k.call(this);Rt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],xt,Tt,null).clip().discardPath()),be.call(this,T,D),Rt&&this.pdf.restoreGraphicsState()}this.lineWidth=ae}else this.lineWidth=Le,be.call(this,T,D),this.lineWidth=ae;this.path=Re},be=function(T,D){if((T!=="stroke"||D||!L.call(this))&&(T==="stroke"||D||!p.call(this))){for(var q,X,te=[],Z=this.path,le=0;le<Z.length;le++){var ae=Z[le];switch(ae.type){case"begin":te.push({begin:!0});break;case"close":te.push({close:!0});break;case"mt":te.push({start:ae,deltas:[],abs:[]});break;case"lt":var Le=te.length;if(Z[le-1]&&!isNaN(Z[le-1].x)&&(q=[ae.x-Z[le-1].x,ae.y-Z[le-1].y],Le>0)){for(;Le>=0;Le--)if(te[Le-1].close!==!0&&te[Le-1].begin!==!0){te[Le-1].deltas.push(q),te[Le-1].abs.push(ae);break}}break;case"bct":q=[ae.x1-Z[le-1].x,ae.y1-Z[le-1].y,ae.x2-Z[le-1].x,ae.y2-Z[le-1].y,ae.x-Z[le-1].x,ae.y-Z[le-1].y],te[te.length-1].deltas.push(q);break;case"qct":var De=Z[le-1].x+2/3*(ae.x1-Z[le-1].x),Re=Z[le-1].y+2/3*(ae.y1-Z[le-1].y),Ke=ae.x+2/3*(ae.x1-ae.x),Ie=ae.y+2/3*(ae.y1-ae.y),J=ae.x,Ot=ae.y;q=[De-Z[le-1].x,Re-Z[le-1].y,Ke-Z[le-1].x,Ie-Z[le-1].y,J-Z[le-1].x,Ot-Z[le-1].y],te[te.length-1].deltas.push(q);break;case"arc":te.push({deltas:[],abs:[],arc:!0}),Array.isArray(te[te.length-1].abs)&&te[te.length-1].abs.push(ae)}}X=D?null:T==="stroke"?"stroke":"fill";for(var St=!1,ut=0;ut<te.length;ut++)if(te[ut].arc)for(var $e=te[ut].abs,gt=0;gt<$e.length;gt++){var Qe=$e[gt];Qe.type==="arc"?Q.call(this,Qe.x,Qe.y,Qe.radius,Qe.startAngle,Qe.endAngle,Qe.counterclockwise,void 0,D,!St):ee.call(this,Qe.x,Qe.y),St=!0}else if(te[ut].close===!0)this.pdf.internal.out("h"),St=!1;else if(te[ut].begin!==!0){var xt=te[ut].start.x,ft=te[ut].start.y;ne.call(this,te[ut].deltas,xt,ft),St=!0}X&&H.call(this,X),D&&de.call(this)}},ue=function(T){var D=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,q=D*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return T-q;case"top":return T+D-q;case"hanging":return T+D-2*q;case"middle":return T+D/2-q;default:return T}},re=function(T){return T+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};b.prototype.createLinearGradient=function(){var T=function(){};return T.colorStops=[],T.addColorStop=function(D,q){this.colorStops.push([D,q])},T.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},T.isCanvasGradient=!0,T},b.prototype.createPattern=function(){return this.createLinearGradient()},b.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Q=function(T,D,q,X,te,Z,le,ae,Le){for(var De=we.call(this,q,X,te,Z),Re=0;Re<De.length;Re++){var Ke=De[Re];Re===0&&(Le?O.call(this,Ke.x1+T,Ke.y1+D):ee.call(this,Ke.x1+T,Ke.y1+D)),Se.call(this,T,D,Ke.x2,Ke.y2,Ke.x3,Ke.y3,Ke.x4,Ke.y4)}ae?de.call(this):H.call(this,le)},H=function(T){switch(T){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},de=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(T,D){this.pdf.internal.out(e(T)+" "+r(D)+" m")},R=function(T){var D;switch(T.align){case"right":case"end":D="right";break;case"center":D="center";break;default:D="left"}var q=this.pdf.getTextDimensions(T.text),X=ue.call(this,T.y),te=re.call(this,X)-q.h,Z=this.ctx.transform.applyToPoint(new c(T.x,X)),le=this.ctx.transform.decompose(),ae=new u;ae=(ae=(ae=ae.multiply(le.translate)).multiply(le.skew)).multiply(le.scale);for(var Le,De,Re,Ke=this.ctx.transform.applyToRectangle(new s(T.x,X,q.w,q.h)),Ie=ae.applyToRectangle(new s(T.x,te,q.w,q.h)),J=C.call(this,Ie),Ot=[],St=0;St<J.length;St+=1)Ot.indexOf(J[St])===-1&&Ot.push(J[St]);if(V(Ot),this.autoPaging)for(var ut=Ot[0],$e=Ot[Ot.length-1],gt=ut;gt<$e+1;gt++){this.pdf.setPage(gt);var Qe=gt===1?this.posY+this.margin[0]:this.margin[0],xt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ft=this.pdf.internal.pageSize.height-this.margin[2],an=ft-this.margin[0],Tt=this.pdf.internal.pageSize.width-this.margin[1],Ct=Tt-this.margin[3],Qt=gt===1?0:xt+(gt-2)*an;if(this.ctx.clip_path.length!==0){var Rt=this.path;Le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=F(Le,this.posX+this.margin[3],-1*Qt+Qe),be.call(this,"fill",!0),this.path=Rt}var ht=F([JSON.parse(JSON.stringify(Ie))],this.posX+this.margin[3],-Qt+Qe+this.ctx.prevPageLastElemOffset)[0];T.scale>=.01&&(De=this.pdf.internal.getFontSize(),this.pdf.setFontSize(De*T.scale),Re=this.lineWidth,this.lineWidth=Re*T.scale);var At=this.autoPaging!=="text";if(At||ht.y+ht.h<=ft){if(At||ht.y>=Qe&&ht.x<=Tt){var wt=At?T.text:this.pdf.splitTextToSize(T.text,T.maxWidth||Tt-ht.x)[0],Yt=F([JSON.parse(JSON.stringify(Ke))],this.posX+this.margin[3],-Qt+Qe+this.ctx.prevPageLastElemOffset)[0],en=At&&(gt>ut||gt<$e)&&k.call(this);en&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ct,an,null).clip().discardPath()),this.pdf.text(wt,Yt.x,Yt.y,{angle:T.angle,align:D,renderingMode:T.renderingMode}),en&&this.pdf.restoreGraphicsState()}}else ht.y<ft&&(this.ctx.prevPageLastElemOffset+=ft-ht.y);T.scale>=.01&&(this.pdf.setFontSize(De),this.lineWidth=Re)}else T.scale>=.01&&(De=this.pdf.internal.getFontSize(),this.pdf.setFontSize(De*T.scale),Re=this.lineWidth,this.lineWidth=Re*T.scale),this.pdf.text(T.text,Z.x+this.posX,Z.y+this.posY,{angle:T.angle,align:D,renderingMode:T.renderingMode,maxWidth:T.maxWidth}),T.scale>=.01&&(this.pdf.setFontSize(De),this.lineWidth=Re)},ee=function(T,D,q,X){q=q||0,X=X||0,this.pdf.internal.out(e(T+q)+" "+r(D+X)+" l")},ne=function(T,D,q){return this.pdf.lines(T,D,q,null,null)},Se=function(T,D,q,X,te,Z,le,ae){this.pdf.internal.out([t(a(q+T)),t(i(X+D)),t(a(te+T)),t(i(Z+D)),t(a(le+T)),t(i(ae+D)),"c"].join(" "))},we=function(T,D,q,X){for(var te=2*Math.PI,Z=Math.PI/2;D>q;)D-=te;var le=Math.abs(q-D);le<te&&X&&(le=te-le);for(var ae=[],Le=X?-1:1,De=D;le>1e-5;){var Re=De+Le*Math.min(le,Z);ae.push(je.call(this,T,De,Re)),le-=Math.abs(Re-De),De=Re}return ae},je=function(T,D,q){var X=(q-D)/2,te=T*Math.cos(X),Z=T*Math.sin(X),le=te,ae=-Z,Le=le*le+ae*ae,De=Le+le*te+ae*Z,Re=4/3*(Math.sqrt(2*Le*De)-De)/(le*Z-ae*te),Ke=le-Re*ae,Ie=ae+Re*le,J=Ke,Ot=-Ie,St=X+D,ut=Math.cos(St),$e=Math.sin(St);return{x1:T*Math.cos(D),y1:T*Math.sin(D),x2:Ke*ut-Ie*$e,y2:Ke*$e+Ie*ut,x3:J*ut-Ot*$e,y3:J*$e+Ot*ut,x4:T*Math.cos(q),y4:T*Math.sin(q)}},Ne=function(T){return 180*T/Math.PI},Te=function(T,D,q,X,te,Z){var le=T+.5*(q-T),ae=D+.5*(X-D),Le=te+.5*(q-te),De=Z+.5*(X-Z),Re=Math.min(T,te,le,Le),Ke=Math.max(T,te,le,Le),Ie=Math.min(D,Z,ae,De),J=Math.max(D,Z,ae,De);return new s(Re,Ie,Ke-Re,J-Ie)},Ve=function(T,D,q,X,te,Z,le,ae){var Le,De,Re,Ke,Ie,J,Ot,St,ut,$e,gt,Qe,xt,ft,an=q-T,Tt=X-D,Ct=te-q,Qt=Z-X,Rt=le-te,ht=ae-Z;for(De=0;De<41;De++)ut=(Ot=(Re=T+(Le=De/40)*an)+Le*((Ie=q+Le*Ct)-Re))+Le*(Ie+Le*(te+Le*Rt-Ie)-Ot),$e=(St=(Ke=D+Le*Tt)+Le*((J=X+Le*Qt)-Ke))+Le*(J+Le*(Z+Le*ht-J)-St),De==0?(gt=ut,Qe=$e,xt=ut,ft=$e):(gt=Math.min(gt,ut),Qe=Math.min(Qe,$e),xt=Math.max(xt,ut),ft=Math.max(ft,$e));return new s(Math.round(gt),Math.round(Qe),Math.round(xt-gt),Math.round(ft-Qe))},Be=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var T,D,q=(T=this.ctx.lineDash,D=this.ctx.lineDashOffset,JSON.stringify({lineDash:T,lineDashOffset:D}));this.prevLineDash!==q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=q)}}})(Pt.API),function(n){var t=function(c){var s,u,d,m,b,x,p,L,k,C;for(u=[],d=0,m=(c+=s="\0\0\0\0".slice(c.length%4||4)).length;m>d;d+=4)(b=(c.charCodeAt(d)<<24)+(c.charCodeAt(d+1)<<16)+(c.charCodeAt(d+2)<<8)+c.charCodeAt(d+3))!==0?(x=(b=((b=((b=((b=(b-(C=b%85))/85)-(k=b%85))/85)-(L=b%85))/85)-(p=b%85))/85)%85,u.push(x+33,p+33,L+33,k+33,C+33)):u.push(122);return function(S,F){for(var V=F;V>0;V--)S.pop()}(u,s.length),String.fromCharCode.apply(String,u)+"~>"},e=function(c){var s,u,d,m,b,x=String,p="length",L=255,k="charCodeAt",C="slice",S="replace";for(c[C](-2),c=c[C](0,-2)[S](/\s/g,"")[S]("z","!!!!!"),d=[],m=0,b=(c+=s="uuuuu"[C](c[p]%5||5))[p];b>m;m+=5)u=52200625*(c[k](m)-33)+614125*(c[k](m+1)-33)+7225*(c[k](m+2)-33)+85*(c[k](m+3)-33)+(c[k](m+4)-33),d.push(L&u>>24,L&u>>16,L&u>>8,L&u);return function(F,V){for(var W=V;W>0;W--)F.pop()}(d,s[p]),x.fromCharCode.apply(x,d)},r=function(c){return c.split("").map(function(s){return("0"+s.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(c){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((c=c.replace(/\s/g,"")).indexOf(">")!==-1&&(c=c.substr(0,c.indexOf(">"))),c.length%2&&(c+="0"),s.test(c)===!1)return"";for(var u="",d=0;d<c.length;d+=2)u+=String.fromCharCode("0x"+(c[d]+c[d+1]));return u},i=function(c){for(var s=new Uint8Array(c.length),u=c.length;u--;)s[u]=c.charCodeAt(u);return(s=iu(s)).reduce(function(d,m){return d+String.fromCharCode(m)},"")};n.processDataByFilters=function(c,s){var u=0,d=c||"",m=[];for(typeof(s=s||[])=="string"&&(s=[s]),u=0;u<s.length;u+=1)switch(s[u]){case"ASCII85Decode":case"/ASCII85Decode":d=e(d),m.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=t(d),m.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=a(d),m.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=r(d),m.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=i(d),m.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[u]+'" is not implemented')}return{data:d,reverseChain:m.reverse().join(" ")}}}(Pt.API),function(n){n.loadFile=function(t,e,r){return function(a,i,c){i=i!==!1,c=typeof c=="function"?c:function(){};var s=void 0;try{s=function(u,d,m){var b=new XMLHttpRequest,x=0,p=function(L){var k=L.length,C=[],S=String.fromCharCode;for(x=0;x<k;x+=1)C.push(S(255&L.charCodeAt(x)));return C.join("")};if(b.open("GET",u,!d),b.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(b.onload=function(){b.status===200?m(p(this.responseText)):m(void 0)}),b.send(null),d&&b.status===200)return p(b.responseText)}(a,i,c)}catch{}return s}(t,e,r)},n.loadImageFile=n.loadFile}(Pt.API),function(n){function t(){return(Ut.html2canvas?Promise.resolve(Ut.html2canvas):Pc(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function e(){return(Ut.DOMPurify?Promise.resolve(Ut.DOMPurify):Pc(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var r=function(s){var u=_n(s);return u==="undefined"?"undefined":u==="string"||s instanceof String?"string":u==="number"||s instanceof Number?"number":u==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":u==="object"?"object":"unknown"},a=function(s,u){var d=document.createElement(s);for(var m in u.className&&(d.className=u.className),u.innerHTML&&u.dompurify&&(d.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)d.style[m]=u.style[m];return d},i=function s(u,d){for(var m=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),b=u.firstChild;b;b=b.nextSibling)d!==!0&&b.nodeType===1&&b.nodeName==="SCRIPT"||m.appendChild(s(b,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(m.width=u.width,m.height=u.height,m.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(m.value=u.value),m.addEventListener("load",function(){m.scrollTop=u.scrollTop,m.scrollLeft=u.scrollLeft},!0)),m},c=function s(u){var d=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),m=s.convert(Promise.resolve(),d);return(m=m.setProgress(1,s,1,[s])).set(u)};(c.prototype=Object.create(Promise.prototype)).constructor=c,c.convert=function(s,u){return s.__proto__=u||c.prototype,s},c.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},c.prototype.from=function(s,u){return this.then(function(){switch(u=u||function(d){switch(r(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s),u){case"string":return this.then(e).then(function(d){return this.set({src:a("div",{innerHTML:s,dompurify:d})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},c.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},c.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},c.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(u){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,u(this.prop.container,d)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},c.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(u){var d=this.opt.jsPDF,m=this.opt.fontFaces,b=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,x=Object.assign({async:!0,allowTaint:!0,scale:b,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete x.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=m,m)for(var p=0;p<m.length;++p){var L=m[p],k=L.src.find(function(C){return C.format==="truetype"});k&&d.addFont(k.url,L.ref.name,L.ref.style)}return x.windowHeight=x.windowHeight||0,x.windowHeight=x.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):x.windowHeight,d.context2d.save(!0),u(this.prop.container,x)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},c.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},c.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},c.prototype.output=function(s,u,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(s,u):this.outputPdf(s,u)},c.prototype.outputPdf=function(s,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,u)})},c.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},c.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},c.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},c.prototype.set=function(s){if(r(s)!=="object")return this;var u=Object.keys(s||{}).map(function(d){if(d in c.template.prop)return function(){this.prop[d]=s[d]};switch(d){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[d]=s[d]}}},this);return this.then(function(){return this.thenList(u)})},c.prototype.get=function(s,u){return this.then(function(){var d=s in c.template.prop?this.prop[s]:this.opt[s];return u?u(d):d})},c.prototype.setMargin=function(s){return this.then(function(){switch(r(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},c.prototype.setPageSize=function(s){function u(d,m){return Math.floor(d*m/72*96)}return this.then(function(){(s=s||Pt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:u(s.inner.width,s.k),height:u(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},c.prototype.setProgress=function(s,u,d,m){return s!=null&&(this.progress.val=s),u!=null&&(this.progress.state=u),d!=null&&(this.progress.n=d),m!=null&&(this.progress.stack=m),this.progress.ratio=this.progress.val/this.progress.state,this},c.prototype.updateProgress=function(s,u,d,m){return this.setProgress(s?this.progress.val+s:null,u||null,d?this.progress.n+d:null,m?this.progress.stack.concat(m):null)},c.prototype.then=function(s,u){var d=this;return this.thenCore(s,u,function(m,b){return d.updateProgress(null,null,1,[m]),Promise.prototype.then.call(this,function(x){return d.updateProgress(null,m),x}).then(m,b).then(function(x){return d.updateProgress(1),x})})},c.prototype.thenCore=function(s,u,d){d=d||Promise.prototype.then;var m=this;s&&(s=s.bind(m)),u&&(u=u.bind(m));var b=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?m:c.convert(Object.assign({},m),Promise.prototype),x=d.call(b,s,u);return c.convert(x,m.__proto__)},c.prototype.thenExternal=function(s,u){return Promise.prototype.then.call(this,s,u)},c.prototype.thenList=function(s){var u=this;return s.forEach(function(d){u=u.thenCore(d)}),u},c.prototype.catch=function(s){s&&(s=s.bind(this));var u=Promise.prototype.catch.call(this,s);return c.convert(u,this)},c.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},c.prototype.error=function(s){return this.then(function(){throw new Error(s)})},c.prototype.using=c.prototype.set,c.prototype.saveAs=c.prototype.save,c.prototype.export=c.prototype.output,c.prototype.run=c.prototype.then,Pt.getPageSize=function(s,u,d){if(_n(s)==="object"){var m=s;s=m.orientation,u=m.unit||u,d=m.format||d}u=u||"mm",d=d||"a4",s=(""+(s||"P")).toLowerCase();var b,x=(""+d).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":b=1;break;case"mm":b=72/25.4;break;case"cm":b=72/2.54;break;case"in":b=72;break;case"px":b=.75;break;case"pc":case"em":b=12;break;case"ex":b=6;break;default:throw"Invalid unit: "+u}var L,k=0,C=0;if(p.hasOwnProperty(x))k=p[x][1]/b,C=p[x][0]/b;else try{k=d[1],C=d[0]}catch{throw new Error("Invalid format: "+d)}if(s==="p"||s==="portrait")s="p",C>k&&(L=C,C=k,k=L);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",k>C&&(L=C,C=k,k=L)}return{width:C,height:k,unit:u,k:b,orientation:s}},n.html=function(s,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(Kc):null;var d=new c(u);return u.worker?d:d.from(s).doCallback()}}(Pt.API),Pt.API.addJS=function(n){return Td=n,this.internal.events.subscribe("postPutResources",function(){hl=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(hl+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Id=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Td+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){hl!==void 0&&Id!==void 0&&this.internal.out("/Names <</JavaScript "+hl+" 0 R>>")}),this},function(n){var t;n.events.push(["postPutResources",function(){var e=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=e.outline.render().split(/\r\n/),i=0;i<a.length;i++){var c=a[i],s=r.exec(c);if(s!=null){var u=s[1];e.internal.newObjectDeferredBegin(u,!1)}e.internal.write(c)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,m=[];for(i=0;i<d;i++){var b=e.internal.newObject();m.push(b);var x=e.internal.getPageInfo(i+1);e.internal.write("<< /D["+x.objId+" 0 R /XYZ null null null]>> endobj")}var p=e.internal.newObject();for(e.internal.write("<< /Names [ "),i=0;i<m.length;i++)e.internal.write("(page_"+(i+1)+")"+m[i]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+p+" 0 R"),e.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var e=this;e.outline.root.children.length>0&&(e.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&e.internal.write("/Names "+t+" 0 R"))}]),n.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(r,a,i){var c={title:a,options:i,children:[]};return r==null&&(r=this.root),r.children.push(c),c},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(r){r.id=e.internal.newObjectDeferred();for(var a=0;a<r.children.length;a++)this.genIds_r(r.children[a])},e.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},e.outline.renderItems=function(r){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<r.children.length;i++){var c=r.children[i];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(r)),i>0&&this.line("/Prev "+this.makeRef(r.children[i-1])),i<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[i+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var s=this.count=this.count_r({count:0},c);if(s>0&&this.line("/Count "+s),c.options&&c.options.pageNumber){var u=e.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},e.outline.line=function(r){this.ctx.val+=r+`\r
`},e.outline.makeRef=function(r){return r.id+" 0 R"},e.outline.makeString=function(r){return"("+e.internal.pdfEscape(r)+")"},e.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(r,a){for(var i=0;i<a.children.length;i++)r.count++,this.count_r(r,a.children[i]);return r.count}}])}(Pt.API),function(n){var t=[192,193,194,195,196,197,198,199];n.processJPEG=function(e,r,a,i,c,s){var u,d=this.decode.DCT_DECODE,m=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=c||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,u=function(b){for(var x,p=256*b.charCodeAt(4)+b.charCodeAt(5),L=b.length,k={width:0,height:0,numcomponents:1},C=4;C<L;C+=2){if(C+=p,t.indexOf(b.charCodeAt(C+1))!==-1){x=256*b.charCodeAt(C+5)+b.charCodeAt(C+6),k={width:256*b.charCodeAt(C+7)+b.charCodeAt(C+8),height:x,numcomponents:b.charCodeAt(C+9)};break}p=256*b.charCodeAt(C+2)+b.charCodeAt(C+3)}return k}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e),u.numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}m={data:e,width:u.width,height:u.height,colorSpace:s,bitsPerComponent:8,filter:d,index:r,alias:a}}return m}}(Pt.API),Pt.API.processPNG=function(n,t,e,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var a,i=Ub(n,{checkCrc:!0}),c=i.width,s=i.height,u=i.channels,d=i.palette,m=i.depth;a=d&&u===1?function(Q){for(var H=Q.width,de=Q.height,O=Q.data,R=Q.palette,ee=Q.depth,ne=!1,Se=[],we=[],je=void 0,Ne=!1,Te=0,Ve=0;Ve<R.length;Ve++){var Be=Mf(R[Ve],4),T=Be[0],D=Be[1],q=Be[2],X=Be[3];Se.push(T,D,q),X!=null&&(X===0?(Te++,we.length<1&&we.push(Ve)):X<255&&(Ne=!0))}if(Ne||Te>1){ne=!0,we=void 0;var te=H*de;je=new Uint8Array(te);for(var Z=new DataView(O.buffer),le=0;le<te;le++){var ae=Gc(Z,le,ee),Le=Mf(R[ae],4)[3];je[le]=Le}}else Te===0&&(we=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:ne?8:void 0,colorBytes:O,alphaBytes:je,needSMask:ne,palette:Se,mask:we}}(i):u===2||u===4?function(Q){for(var H=Q.data,de=Q.width,O=Q.height,R=Q.channels,ee=Q.depth,ne=R===2?"DeviceGray":"DeviceRGB",Se=R-1,we=de*O,je=Se,Ne=we*je,Te=1*we,Ve=Math.ceil(Ne*ee/8),Be=Math.ceil(Te*ee/8),T=new Uint8Array(Ve),D=new Uint8Array(Be),q=new DataView(H.buffer),X=new DataView(T.buffer),te=new DataView(D.buffer),Z=!1,le=0;le<we;le++){for(var ae=le*R,Le=0;Le<je;Le++)Ud(X,Gc(q,ae+Le,ee),le*je+Le,ee);var De=Gc(q,ae+je,ee);De<(1<<ee)-1&&(Z=!0),Ud(te,De,1*le,ee)}return{colorSpace:ne,colorsPerPixel:Se,sMaskBitsPerComponent:Z?ee:void 0,colorBytes:T,alphaBytes:D,needSMask:Z}}(i):function(Q){var H=Q.data,de=Q.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:de,colorsPerPixel:de==="DeviceGray"?1:3,colorBytes:H instanceof Uint16Array?function(O){for(var R=O.length,ee=new Uint8Array(2*R),ne=new DataView(ee.buffer,ee.byteOffset,ee.byteLength),Se=0;Se<R;Se++)ne.setUint16(2*Se,O[Se],!1);return ee}(H):H,needSMask:!1}}(i);var b,x,p,L=a,k=L.colorSpace,C=L.colorsPerPixel,S=L.sMaskBitsPerComponent,F=L.colorBytes,V=L.alphaBytes,W=L.needSMask,be=L.palette,ue=L.mask,re=null;return r!==Pt.API.image_compression.NONE&&typeof iu=="function"?(re=function(Q){var H;switch(Q){case Pt.API.image_compression.FAST:H=11;break;case Pt.API.image_compression.MEDIUM:H=13;break;case Pt.API.image_compression.SLOW:H=14;break;default:H=12}return H}(r),b=this.decode.FLATE_DECODE,x="/Predictor ".concat(re," /Colors ").concat(C," /BitsPerComponent ").concat(m," /Columns ").concat(c),n=Md(F,Math.ceil(c*C*m/8),C,m,r),W&&(p=Md(V,Math.ceil(c*S/8),1,S,r))):(b=void 0,x=void 0,n=F,W&&(p=V)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:e,data:n,index:t,filter:b,decodeParameters:x,transparency:ue,palette:be,sMask:p,predictor:re,width:c,height:s,bitsPerComponent:m,sMaskBitsPerComponent:S,colorSpace:k}}},function(n){n.processGIF89A=function(t,e,r,a){var i=new cy(t),c=i.width,s=i.height,u=[];i.decodeAndBlitFrameRGBA(0,u);var d={data:u,width:c,height:s},m=new Yc(100).encode(d,100);return n.processJPEG.call(this,m,e,r,a)},n.processGIF87A=n.processGIF89A}(Pt.API),qi.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var t=0;t<n;t++){var e=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:r,blue:e,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},qi.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[n]()}catch(e){Ln.log("bit decode error:"+e)}},qi.prototype.bit1=function(){var n,t=Math.ceil(this.width/8),e=t%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),c=r*this.width*4+8*a*4,s=0;s<8&&8*a+s<this.width;s++){var u=this.palette[i>>7-s&1];this.data[c+4*s]=u.blue,this.data[c+4*s+1]=u.green,this.data[c+4*s+2]=u.red,this.data[c+4*s+3]=255}e!==0&&(this.pos+=4-e)}},qi.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),t=n%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,a=0;a<n;a++){var i=this.datav.getUint8(this.pos++,!0),c=r*this.width*4+2*a*4,s=i>>4,u=15&i,d=this.palette[s];if(this.data[c]=d.blue,this.data[c+1]=d.green,this.data[c+2]=d.red,this.data[c+3]=255,2*a+1>=this.width)break;d=this.palette[u],this.data[c+4]=d.blue,this.data[c+4+1]=d.green,this.data[c+4+2]=d.red,this.data[c+4+3]=255}t!==0&&(this.pos+=4-t)}},qi.prototype.bit8=function(){for(var n=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),i=e*this.width*4+4*r;if(a<this.palette.length){var c=this.palette[a];this.data[i]=c.red,this.data[i+1]=c.green,this.data[i+2]=c.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}n!==0&&(this.pos+=4-n)}},qi.prototype.bit15=function(){for(var n=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(i&t)/t*255|0,s=(i>>5&t)/t*255|0,u=(i>>10&t)/t*255|0,d=i>>15?255:0,m=r*this.width*4+4*a;this.data[m]=u,this.data[m+1]=s,this.data[m+2]=c,this.data[m+3]=d}this.pos+=n}},qi.prototype.bit16=function(){for(var n=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(c&t)/t*255|0,u=(c>>5&e)/e*255|0,d=(c>>11)/t*255|0,m=a*this.width*4+4*i;this.data[m]=d,this.data[m+1]=u,this.data[m+2]=s,this.data[m+3]=255}this.pos+=n}},qi.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),c=t*this.width*4+4*e;this.data[c]=i,this.data[c+1]=a,this.data[c+2]=r,this.data[c+3]=255}this.pos+=this.width%4}},qi.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*e;this.data[s]=i,this.data[s+1]=a,this.data[s+2]=r,this.data[s+3]=c}},qi.prototype.getData=function(){return this.data},function(n){n.processBMP=function(t,e,r,a){var i=new qi(t,!1),c=i.width,s=i.height,u={data:i.getData(),width:c,height:s},d=new Yc(100).encode(u,100);return n.processJPEG.call(this,d,e,r,a)}}(Pt.API),Wd.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(t,e,r,a){var i=new Wd(t),c=i.width,s=i.height,u={data:i.getData(),width:c,height:s},d=new Yc(100).encode(u,100);return n.processJPEG.call(this,d,e,r,a)}}(Pt.API),Pt.API.processRGBA=function(n,t,e){for(var r=n.data,a=r.length,i=new Uint8Array(a/4*3),c=new Uint8Array(a/4),s=0,u=0,d=0;d<a;d+=4){var m=r[d],b=r[d+1],x=r[d+2],p=r[d+3];i[s++]=m,i[s++]=b,i[s++]=x,c[u++]=p}var L=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:L,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Pt.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Yo=Pt.API,pl=Yo.getCharWidthsArray=function(n,t){var e,r,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),c=t.charSpace||this.internal.getCharSpace(),s=t.widths?t.widths:a.metadata.Unicode.widths,u=s.fof?s.fof:1,d=t.kerning?t.kerning:a.metadata.Unicode.kerning,m=d.fof?d.fof:1,b=t.doKerning!==!1,x=0,p=n.length,L=0,k=s[0]||u,C=[];for(e=0;e<p;e++)r=n.charCodeAt(e),typeof a.metadata.widthOfString=="function"?C.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(r))+c*(1e3/i)||0)/1e3):(x=b&&_n(d[r])==="object"&&!isNaN(parseInt(d[r][L],10))?d[r][L]/m:0,C.push((s[r]||k)/u+x)),L=r;return C},Od=Yo.getStringUnitWidth=function(n,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return Yo.processArabic&&(n=Yo.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,e,a)/e:pl.apply(this,arguments).reduce(function(i,c){return i+c},0)},Rd=function(n,t,e,r){for(var a=[],i=0,c=n.length,s=0;i!==c&&s+t[i]<e;)s+=t[i],i++;a.push(n.slice(0,i));var u=i;for(s=0;i!==c;)s+t[i]>r&&(a.push(n.slice(u,i)),s=0,u=i),s+=t[i],i++;return u!==i&&a.push(n.slice(u,i)),a},Dd=function(n,t,e){e||(e={});var r,a,i,c,s,u,d,m=[],b=[m],x=e.textIndent||0,p=0,L=0,k=n.split(" "),C=pl.apply(this,[" ",e])[0];if(u=e.lineIndent===-1?k[0].length+2:e.lineIndent||0){var S=Array(u).join(" "),F=[];k.map(function(W){(W=W.split(/\s*\n/)).length>1?F=F.concat(W.map(function(be,ue){return(ue&&be.length?`
`:"")+be})):F.push(W[0])}),k=F,u=Od.apply(this,[S,e])}for(i=0,c=k.length;i<c;i++){var V=0;if(r=k[i],u&&r[0]==`
`&&(r=r.substr(1),V=1),x+p+(L=(a=pl.apply(this,[r,e])).reduce(function(W,be){return W+be},0))>t||V){if(L>t){for(s=Rd.apply(this,[r,a,t-(x+p),t]),m.push(s.shift()),m=[s.pop()];s.length;)b.push([s.shift()]);L=a.slice(r.length-(m[0]?m[0].length:0)).reduce(function(W,be){return W+be},0)}else m=[r];b.push(m),x=L+u,p=C}else m.push(r),x+=p+L,p=C}return d=u?function(W,be){return(be?S:"")+W.join(" ")}:function(W){return W.join(" ")},b.map(d)},Yo.splitTextToSize=function(n,t,e){var r,a=(e=e||{}).fontSize||this.internal.getFontSize(),i=(function(m){if(m.widths&&m.kerning)return{widths:m.widths,kerning:m.kerning};var b=this.internal.getFont(m.fontName,m.fontStyle),x="Unicode";return b.metadata[x]?{widths:b.metadata[x].widths||{0:1},kerning:b.metadata[x].kerning||{}}:{font:b.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,e);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var c=1*this.internal.scaleFactor*t/a;i.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=e.lineIndent;var s,u,d=[];for(s=0,u=r.length;s<u;s++)d=d.concat(Dd.apply(this,[r[s],c,i]));return d},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var t="0123456789abcdef",e="klmnopqrstuvwxyz",r={},a={},i=0;i<16;i++)r[e[i]]=t[i],a[t[i]]=e[i];var c=function(x){return"0x"+parseInt(x,10).toString(16)},s=n.__fontmetrics__.compress=function(x){var p,L,k,C,S=["{"];for(var F in x){if(p=x[F],isNaN(parseInt(F,10))?L="'"+F+"'":(F=parseInt(F,10),L=(L=c(F).slice(2)).slice(0,-1)+a[L.slice(-1)]),typeof p=="number")p<0?(k=c(p).slice(3),C="-"):(k=c(p).slice(2),C=""),k=C+k.slice(0,-1)+a[k.slice(-1)];else{if(_n(p)!=="object")throw new Error("Don't know what to do with value type "+_n(p)+".");k=s(p)}S.push(L+k)}return S.push("}"),S.join("")},u=n.__fontmetrics__.uncompress=function(x){if(typeof x!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,L,k,C,S={},F=1,V=S,W=[],be="",ue="",re=x.length-1,Q=1;Q<re;Q+=1)(C=x[Q])=="'"?p?(k=p.join(""),p=void 0):p=[]:p?p.push(C):C=="{"?(W.push([V,k]),V={},k=void 0):C=="}"?((L=W.pop())[0][L[1]]=V,k=void 0,V=L[0]):C=="-"?F=-1:k===void 0?r.hasOwnProperty(C)?(be+=r[C],k=parseInt(be,16)*F,F=1,be=""):be+=C:r.hasOwnProperty(C)?(ue+=r[C],V[k]=parseInt(ue,16)*F,F=1,k=void 0,ue=""):ue+=C;return S},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},m={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},b={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(x){var p=x.font,L=b.Unicode[p.postScriptName];L&&(p.metadata.Unicode={},p.metadata.Unicode.widths=L.widths,p.metadata.Unicode.kerning=L.kerning);var k=m.Unicode[p.postScriptName];k&&(p.metadata.Unicode.encoding=k,p.encoding=k.codePages[0])}])}(Pt.API),function(n){var t=function(e){for(var r=e.length,a=new Uint8Array(r),i=0;i<r;i++)a[i]=e.charCodeAt(i);return a};n.API.events.push(["addFont",function(e){var r=void 0,a=e.font,i=e.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(r=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(c,s){s=/^\x00\x01\x00\x00/.test(s)?t(s):t(vl(s)),c.metadata=n.API.TTFFont.open(s),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(a,r)}}])}(Pt),Pt.API.addSvgAsImage=function(n,t,e,r,a,i,c,s){if(isNaN(t)||isNaN(e))throw Ln.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(a))throw Ln.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=r,u.height=a;var d=u.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,u.width,u.height);var m={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},b=this;return(Ut.canvg?Promise.resolve(Ut.canvg):Pc(()=>import("./index.es-DoWJMNcW.js"),__vite__mapDeps([0,1,2,3,4,5,6]))).catch(function(x){return Promise.reject(new Error("Could not load canvg: "+x))}).then(function(x){return x.default?x.default:x}).then(function(x){return x.fromString(d,n,m)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(m)}).then(function(){b.addImage(u.toDataURL("image/jpeg",1),t,e,r,a,c,s)})},Pt.API.putTotalPages=function(n){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(n,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var a=0;a<this.internal.pages[r].length;a++)this.internal.pages[r][a]=this.internal.pages[r][a].replace(t,e);return this},Pt.API.viewerPreferences=function(n,t){var e;n=n||{},t=t||!1;var r,a,i,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(c),u=[],d=0,m=0,b=0;function x(L,k){var C,S=!1;for(C=0;C<L.length;C+=1)L[C]===k&&(S=!0);return S}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,n==="reset"||t===!0){var p=s.length;for(b=0;b<p;b+=1)e[s[b]].value=e[s[b]].defaultValue,e[s[b]].explicitSet=!1}if(_n(n)==="object"){for(a in n)if(i=n[a],x(s,a)&&i!==void 0){if(e[a].type==="boolean"&&typeof i=="boolean")e[a].value=i;else if(e[a].type==="name"&&x(e[a].valueSet,i))e[a].value=i;else if(e[a].type==="integer"&&Number.isInteger(i))e[a].value=i;else if(e[a].type==="array"){for(d=0;d<i.length;d+=1)if(r=!0,i[d].length===1&&typeof i[d][0]=="number")u.push(String(i[d]-1));else if(i[d].length>1){for(m=0;m<i[d].length;m+=1)typeof i[d][m]!="number"&&(r=!1);r===!0&&u.push([i[d][0]-1,i[d][1]-1].join(" "))}e[a].value="["+u.join(" ")+"]"}else e[a].value=e[a].defaultValue;e[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var L,k=[];for(L in e)e[L].explicitSet===!0&&(e[L].type==="name"?k.push("/"+L+" /"+e[L].value):k.push("/"+L+" "+e[L].value));k.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+k.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},function(n){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(r)),c=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),s=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),d=i.length+c.length+s.length+a.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(a+i+c+s+u),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}}(Pt.API),function(n){var t=n.API,e=t.pdfEscape16=function(i,c){for(var s,u=c.metadata.Unicode.widths,d=["","0","00","000","0000"],m=[""],b=0,x=i.length;b<x;++b){if(s=c.metadata.characterToGlyph(i.charCodeAt(b)),c.metadata.glyIdsUsed.push(s),c.metadata.toUnicode[s]=i.charCodeAt(b),u.indexOf(s)==-1&&(u.push(s),u.push([parseInt(c.metadata.widthOfGlyph(s),10)])),s=="0")return m.join("");s=s.toString(16),m.push(d[4-s.length],s)}return m.join("")},r=function(i){var c,s,u,d,m,b,x;for(m=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],b=0,x=(s=Object.keys(i).sort(function(p,L){return p-L})).length;b<x;b++)c=s[b],u.length>=100&&(m+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),i[c]!==void 0&&i[c]!==null&&typeof i[c].toString=="function"&&(d=("0000"+i[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),u.push("<"+c+"><"+d+">"));return u.length&&(m+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),m+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(c){var s=c.font,u=c.out,d=c.newObject,m=c.putStream;if(s.metadata instanceof n.API.TTFFont&&s.encoding==="Identity-H"){for(var b=s.metadata.Unicode.widths,x=s.metadata.subset.encode(s.metadata.glyIdsUsed,1),p="",L=0;L<x.length;L++)p+=String.fromCharCode(x[L]);var k=d();m({data:p,addLength1:!0,objectId:k}),u("endobj");var C=d();m({data:r(s.metadata.toUnicode),addLength1:!0,objectId:C}),u("endobj");var S=d();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+Zo(s.fontName)),u("/FontFile2 "+k+" 0 R"),u("/FontBBox "+n.API.PDFObject.convert(s.metadata.bbox)),u("/Flags "+s.metadata.flags),u("/StemV "+s.metadata.stemV),u("/ItalicAngle "+s.metadata.italicAngle),u("/Ascent "+s.metadata.ascender),u("/Descent "+s.metadata.decender),u("/CapHeight "+s.metadata.capHeight),u(">>"),u("endobj");var F=d();u("<<"),u("/Type /Font"),u("/BaseFont /"+Zo(s.fontName)),u("/FontDescriptor "+S+" 0 R"),u("/W "+n.API.PDFObject.convert(b)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+s.encoding+")"),u(">>"),u(">>"),u("endobj"),s.objectNumber=d(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+C+" 0 R"),u("/BaseFont /"+Zo(s.fontName)),u("/Encoding /"+s.encoding),u("/DescendantFonts ["+F+" 0 R]"),u(">>"),u("endobj"),s.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(c){var s=c.font,u=c.out,d=c.newObject,m=c.putStream;if(s.metadata instanceof n.API.TTFFont&&s.encoding==="WinAnsiEncoding"){for(var b=s.metadata.rawData,x="",p=0;p<b.length;p++)x+=String.fromCharCode(b[p]);var L=d();m({data:x,addLength1:!0,objectId:L}),u("endobj");var k=d();m({data:r(s.metadata.toUnicode),addLength1:!0,objectId:k}),u("endobj");var C=d();u("<<"),u("/Descent "+s.metadata.decender),u("/CapHeight "+s.metadata.capHeight),u("/StemV "+s.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+L+" 0 R"),u("/Flags 96"),u("/FontBBox "+n.API.PDFObject.convert(s.metadata.bbox)),u("/FontName /"+Zo(s.fontName)),u("/ItalicAngle "+s.metadata.italicAngle),u("/Ascent "+s.metadata.ascender),u(">>"),u("endobj"),s.objectNumber=d();for(var S=0;S<s.metadata.hmtx.widths.length;S++)s.metadata.hmtx.widths[S]=parseInt(s.metadata.hmtx.widths[S]*(1e3/s.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+k+" 0 R/BaseFont/"+Zo(s.fontName)+"/FontDescriptor "+C+" 0 R/Encoding/"+s.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(s.metadata.hmtx.widths)+">>"),u("endobj"),s.isAlreadyPutted=!0}})(i)}]);var a=function(i){var c,s=i.text||"",u=i.x,d=i.y,m=i.options||{},b=i.mutex||{},x=b.pdfEscape,p=b.activeFontKey,L=b.fonts,k=p,C="",S=0,F="",V=L[k].encoding;if(L[k].encoding!=="Identity-H")return{text:s,x:u,y:d,options:m,mutex:b};for(F=s,k=p,Array.isArray(s)&&(F=s[0]),S=0;S<F.length;S+=1)L[k].metadata.hasOwnProperty("cmap")&&(c=L[k].metadata.cmap.unicode.codeMap[F[S].charCodeAt(0)]),c||F[S].charCodeAt(0)<256&&L[k].metadata.hasOwnProperty("Unicode")?C+=F[S]:C+="";var W="";return parseInt(k.slice(1))<14||V==="WinAnsiEncoding"?W=x(C,k).split("").map(function(be){return be.charCodeAt(0).toString(16)}).join(""):V==="Identity-H"&&(W=e(C,L[k])),b.isHex=!0,{text:W,x:u,y:d,options:m,mutex:b}};t.events.push(["postProcessText",function(i){var c=i.text||"",s=[],u={text:c,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(c)){var d=0;for(d=0;d<c.length;d+=1)Array.isArray(c[d])&&c[d].length===3?s.push([a(Object.assign({},u,{text:c[d][0]})).text,c[d][1],c[d][2]]):s.push(a(Object.assign({},u,{text:c[d]})).text);i.text=s}else i.text=a(Object.assign({},u,{text:c})).text}])}(Pt),function(n){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},n.addFileToVFS=function(e,r){return t.call(this),this.internal.vFS[e]=r,this},n.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}}(Pt.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var a,i,c,s,u,d,m,b=t,x=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],L={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},k={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},C=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],S=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),F=!1,V=0;this.__bidiEngine__={};var W=function(O){var R=O.charCodeAt(),ee=R>>8,ne=k[ee];return ne!==void 0?b[256*ne+(255&R)]:ee===252||ee===253?"AL":S.test(ee)?"L":ee===8?"R":"N"},be=function(O){for(var R,ee=0;ee<O.length;ee++){if((R=W(O.charAt(ee)))==="L")return!1;if(R==="R")return!0}return!1},ue=function(O,R,ee,ne){var Se,we,je,Ne,Te=R[ne];switch(Te){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":F=!1;break;case"N":case"AN":break;case"EN":F&&(Te="AN");break;case"AL":F=!0,Te="R";break;case"WS":case"BN":Te="N";break;case"CS":ne<1||ne+1>=R.length||(Se=ee[ne-1])!=="EN"&&Se!=="AN"||(we=R[ne+1])!=="EN"&&we!=="AN"?Te="N":F&&(we="AN"),Te=we===Se?we:"N";break;case"ES":Te=(Se=ne>0?ee[ne-1]:"B")==="EN"&&ne+1<R.length&&R[ne+1]==="EN"?"EN":"N";break;case"ET":if(ne>0&&ee[ne-1]==="EN"){Te="EN";break}if(F){Te="N";break}for(je=ne+1,Ne=R.length;je<Ne&&R[je]==="ET";)je++;Te=je<Ne&&R[je]==="EN"?"EN":"N";break;case"NSM":if(c&&!s){for(Ne=R.length,je=ne+1;je<Ne&&R[je]==="NSM";)je++;if(je<Ne){var Ve=O[ne],Be=Ve>=1425&&Ve<=2303||Ve===64286;if(Se=R[je],Be&&(Se==="R"||Se==="AL")){Te="R";break}}}Te=ne<1||(Se=R[ne-1])==="B"?"N":ee[ne-1];break;case"B":F=!1,a=!0,Te=V;break;case"S":i=!0,Te="N"}return Te},re=function(O,R,ee){var ne=O.split("");return ee&&Q(ne,ee,{hiLevel:V}),ne.reverse(),R&&R.reverse(),ne.join("")},Q=function(O,R,ee){var ne,Se,we,je,Ne,Te=-1,Ve=O.length,Be=0,T=[],D=V?p:x,q=[];for(F=!1,a=!1,i=!1,Se=0;Se<Ve;Se++)q[Se]=W(O[Se]);for(we=0;we<Ve;we++){if(Ne=Be,T[we]=ue(O,q,T,we),ne=240&(Be=D[Ne][L[T[we]]]),Be&=15,R[we]=je=D[Be][5],ne>0)if(ne===16){for(Se=Te;Se<we;Se++)R[Se]=1;Te=-1}else Te=-1;if(D[Be][6])Te===-1&&(Te=we);else if(Te>-1){for(Se=Te;Se<we;Se++)R[Se]=je;Te=-1}q[we]==="B"&&(R[we]=0),ee.hiLevel|=je}i&&function(X,te,Z){for(var le=0;le<Z;le++)if(X[le]==="S"){te[le]=V;for(var ae=le-1;ae>=0&&X[ae]==="WS";ae--)te[ae]=V}}(q,R,Ve)},H=function(O,R,ee,ne,Se){if(!(Se.hiLevel<O)){if(O===1&&V===1&&!a)return R.reverse(),void(ee&&ee.reverse());for(var we,je,Ne,Te,Ve=R.length,Be=0;Be<Ve;){if(ne[Be]>=O){for(Ne=Be+1;Ne<Ve&&ne[Ne]>=O;)Ne++;for(Te=Be,je=Ne-1;Te<je;Te++,je--)we=R[Te],R[Te]=R[je],R[je]=we,ee&&(we=ee[Te],ee[Te]=ee[je],ee[je]=we);Be=Ne}Be++}}},de=function(O,R,ee){var ne=O.split(""),Se={hiLevel:V};return ee||(ee=[]),Q(ne,ee,Se),function(we,je,Ne){if(Ne.hiLevel!==0&&m)for(var Te,Ve=0;Ve<we.length;Ve++)je[Ve]===1&&(Te=C.indexOf(we[Ve]))>=0&&(we[Ve]=C[Te+1])}(ne,ee,Se),H(2,ne,R,ee,Se),H(1,ne,R,ee,Se),ne.join("")};return this.__bidiEngine__.doBidiReorder=function(O,R,ee){if(function(Se,we){if(we)for(var je=0;je<Se.length;je++)we[je]=je;s===void 0&&(s=be(Se)),d===void 0&&(d=be(Se))}(O,R),c||!u||d)if(c&&u&&s^d)V=s?1:0,O=re(O,R,ee);else if(!c&&u&&d)V=s?1:0,O=de(O,R,ee),O=re(O,R);else if(!c||s||u||d){if(c&&!u&&s^d)O=re(O,R),s?(V=0,O=de(O,R,ee)):(V=1,O=de(O,R,ee),O=re(O,R));else if(c&&s&&!u&&d)V=1,O=de(O,R,ee),O=re(O,R);else if(!c&&!u&&s^d){var ne=m;s?(V=1,O=de(O,R,ee),V=0,m=!1,O=de(O,R,ee),m=ne):(V=0,O=de(O,R,ee),O=re(O,R),V=1,m=!1,O=de(O,R,ee),m=ne,O=re(O,R))}}else V=0,O=de(O,R,ee);else V=s?1:0,O=de(O,R,ee);return O},this.__bidiEngine__.setOptions=function(O){O&&(c=O.isInputVisual,u=O.isOutputVisual,s=O.isInputRtl,d=O.isOutputRtl,m=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var a=r.text;r.x,r.y;var i=r.options||{};r.mutex,i.lang;var c=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,e.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var s=0;for(c=[],s=0;s<a.length;s+=1)Object.prototype.toString.call(a[s])==="[object Array]"?c.push([e.doBidiReorder(a[s][0]),a[s][1],a[s][2]]):c.push([e.doBidiReorder(a[s])]);r.text=c}else r.text=e.doBidiReorder(a);e.setOptions({isInputVisual:!0})}])}(Pt),Pt.API.TTFFont=function(){function n(t){var e;if(this.rawData=t,e=this.contents=new lo(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new Sy(this),this.registerTTF()}return n.open=function(t){return new n(t)},n.prototype.parse=function(){return this.directory=new uy(this.contents),this.head=new dy(this),this.name=new vy(this),this.cmap=new _1(this),this.toUnicode={},this.hhea=new hy(this),this.maxp=new by(this),this.hmtx=new yy(this),this.post=new my(this),this.os2=new py(this),this.loca=new Ny(this),this.glyf=new wy(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var t,e,r,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var c,s,u,d;for(d=[],c=0,s=(u=this.bbox).length;c<s;c++)t=u[c],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(a=this.post.italic_angle),32768&(e=a>>16)&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},n.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},n.prototype.widthOfString=function(t,e,r){var a,i,c,s;for(c=0,i=0,s=(t=""+t).length;0<=s?i<s:i>s;i=0<=s?++i:--i)a=t.charCodeAt(i),c+=this.widthOfGlyph(this.characterToGlyph(a))+r*(1e3/e)||0;return c*(e/1e3)},n.prototype.lineHeight=function(t,e){var r;return e==null&&(e=!1),r=e?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},n}();var Yi,lo=function(){function n(t){this.data=t??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(t){return this.data[this.pos++]=t},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},n.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},n.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},n.prototype.readString=function(t){var e,r;for(r=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)r[e]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(t){var e,r,a;for(a=[],e=0,r=t.length;0<=r?e<r:e>r;e=0<=r?++e:--e)a.push(this.writeByte(t.charCodeAt(e)));return a},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(t){return this.writeInt16(t)},n.prototype.readLongLong=function(){var t,e,r,a,i,c,s,u;return t=this.readByte(),e=this.readByte(),r=this.readByte(),a=this.readByte(),i=this.readByte(),c=this.readByte(),s=this.readByte(),u=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^r)+4294967296*(255^a)+16777216*(255^i)+65536*(255^c)+256*(255^s)+(255^u)+1):72057594037927940*t+281474976710656*e+1099511627776*r+4294967296*a+16777216*i+65536*c+256*s+u},n.prototype.writeLongLong=function(t){var e,r;return e=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(t){return this.writeInt32(t)},n.prototype.read=function(t){var e,r;for(e=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)e.push(this.readByte());return e},n.prototype.write=function(t){var e,r,a,i;for(i=[],r=0,a=t.length;r<a;r++)e=t[r],i.push(this.writeByte(e));return i},n}(),uy=function(){var n;function t(e){var r,a,i;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)r={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(e){var r,a,i,c,s,u,d,m,b,x,p,L,k;for(k in p=Object.keys(e).length,u=Math.log(2),b=16*Math.floor(Math.log(p)/u),c=Math.floor(b/u),m=16*p-b,(a=new lo).writeInt(this.scalarType),a.writeShort(p),a.writeShort(b),a.writeShort(c),a.writeShort(m),i=16*p,d=a.pos+i,s=null,L=[],e)for(x=e[k],a.writeString(k),a.writeInt(n(x)),a.writeInt(d),a.writeInt(x.length),L=L.concat(x),k==="head"&&(s=d),d+=x.length;d%4;)L.push(0),d++;return a.write(L),r=2981146554-n(a.data),a.pos=s+8,a.writeUInt32(r),a.data},n=function(e){var r,a,i,c;for(e=N1.call(e);e.length%4;)e.push(0);for(i=new lo(e),a=0,r=0,c=e.length;r<c;r=r+=4)a+=i.readUInt32();return 4294967295&a},t}(),fy={}.hasOwnProperty,da=function(n,t){for(var e in t)fy.call(t,e)&&(n[e]=t[e]);function r(){this.constructor=n}return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n};Yi=function(){function n(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var dy=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return da(n,Yi),n.prototype.tag="head",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},n.prototype.encode=function(t){var e;return(e=new lo).writeInt(this.version),e.writeInt(this.revision),e.writeInt(this.checkSumAdjustment),e.writeInt(this.magicNumber),e.writeShort(this.flags),e.writeShort(this.unitsPerEm),e.writeLongLong(this.created),e.writeLongLong(this.modified),e.writeShort(this.xMin),e.writeShort(this.yMin),e.writeShort(this.xMax),e.writeShort(this.yMax),e.writeShort(this.macStyle),e.writeShort(this.lowestRecPPEM),e.writeShort(this.fontDirectionHint),e.writeShort(t),e.writeShort(this.glyphDataFormat),e.data},n}(),Vd=function(){function n(t,e){var r,a,i,c,s,u,d,m,b,x,p,L,k,C,S,F,V;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),b=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=t.readByte();break;case 4:for(p=t.readUInt16(),x=p/2,t.pos+=6,i=function(){var W,be;for(be=[],u=W=0;0<=x?W<x:W>x;u=0<=x?++W:--W)be.push(t.readUInt16());return be}(),t.pos+=2,k=function(){var W,be;for(be=[],u=W=0;0<=x?W<x:W>x;u=0<=x?++W:--W)be.push(t.readUInt16());return be}(),d=function(){var W,be;for(be=[],u=W=0;0<=x?W<x:W>x;u=0<=x?++W:--W)be.push(t.readUInt16());return be}(),m=function(){var W,be;for(be=[],u=W=0;0<=x?W<x:W>x;u=0<=x?++W:--W)be.push(t.readUInt16());return be}(),a=(this.length-t.pos+this.offset)/2,s=function(){var W,be;for(be=[],u=W=0;0<=a?W<a:W>a;u=0<=a?++W:--W)be.push(t.readUInt16());return be}(),u=S=0,V=i.length;S<V;u=++S)for(C=i[u],r=F=L=k[u];L<=C?F<=C:F>=C;r=L<=C?++F:--F)m[u]===0?c=r+d[u]:(c=s[m[u]/2+(r-L)-(x-u)]||0)!==0&&(c+=d[u]),this.codeMap[r]=65535&c}t.pos=b}return n.encode=function(t,e){var r,a,i,c,s,u,d,m,b,x,p,L,k,C,S,F,V,W,be,ue,re,Q,H,de,O,R,ee,ne,Se,we,je,Ne,Te,Ve,Be,T,D,q,X,te,Z,le,ae,Le,De,Re;switch(ne=new lo,c=Object.keys(t).sort(function(Ke,Ie){return Ke-Ie}),e){case"macroman":for(k=0,C=function(){var Ke=[];for(L=0;L<256;++L)Ke.push(0);return Ke}(),F={0:0},i={},Se=0,Te=c.length;Se<Te;Se++)F[ae=t[a=c[Se]]]==null&&(F[ae]=++k),i[a]={old:t[a],new:F[t[a]]},C[a]=F[t[a]];return ne.writeUInt16(1),ne.writeUInt16(0),ne.writeUInt32(12),ne.writeUInt16(0),ne.writeUInt16(262),ne.writeUInt16(0),ne.write(C),{charMap:i,subtable:ne.data,maxGlyphID:k+1};case"unicode":for(R=[],b=[],V=0,F={},r={},S=d=null,we=0,Ve=c.length;we<Ve;we++)F[be=t[a=c[we]]]==null&&(F[be]=++V),r[a]={old:be,new:F[be]},s=F[be]-a,S!=null&&s===d||(S&&b.push(S),R.push(a),d=s),S=a;for(S&&b.push(S),b.push(65535),R.push(65535),de=2*(H=R.length),Q=2*Math.pow(Math.log(H)/Math.LN2,2),x=Math.log(Q/2)/Math.LN2,re=2*H-Q,u=[],ue=[],p=[],L=je=0,Be=R.length;je<Be;L=++je){if(O=R[L],m=b[L],O===65535){u.push(0),ue.push(0);break}if(O-(ee=r[O].new)>=32768)for(u.push(0),ue.push(2*(p.length+H-L)),a=Ne=O;O<=m?Ne<=m:Ne>=m;a=O<=m?++Ne:--Ne)p.push(r[a].new);else u.push(ee-O),ue.push(0)}for(ne.writeUInt16(3),ne.writeUInt16(1),ne.writeUInt32(12),ne.writeUInt16(4),ne.writeUInt16(16+8*H+2*p.length),ne.writeUInt16(0),ne.writeUInt16(de),ne.writeUInt16(Q),ne.writeUInt16(x),ne.writeUInt16(re),Z=0,T=b.length;Z<T;Z++)a=b[Z],ne.writeUInt16(a);for(ne.writeUInt16(0),le=0,D=R.length;le<D;le++)a=R[le],ne.writeUInt16(a);for(Le=0,q=u.length;Le<q;Le++)s=u[Le],ne.writeUInt16(s);for(De=0,X=ue.length;De<X;De++)W=ue[De],ne.writeUInt16(W);for(Re=0,te=p.length;Re<te;Re++)k=p[Re],ne.writeUInt16(k);return{charMap:r,subtable:ne.data,maxGlyphID:V+1}}},n}(),_1=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return da(n,Yi),n.prototype.tag="cmap",n.prototype.parse=function(t){var e,r,a;for(t.pos=this.offset,this.version=t.readUInt16(),a=t.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=a?r<a:r>a;r=0<=a?++r:--r)e=new Vd(t,this.offset),this.tables.push(e),e.isUnicode&&this.unicode==null&&(this.unicode=e);return!0},n.encode=function(t,e){var r,a;return e==null&&(e="macroman"),r=Vd.encode(t,e),(a=new lo).writeUInt16(0),a.writeUInt16(1),r.table=a.data.concat(r.subtable),r},n}(),hy=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return da(n,Yi),n.prototype.tag="hhea",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},n}(),py=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return da(n,Yi),n.prototype.tag="OS/2",n.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var e,r;for(r=[],e=0;e<10;++e)r.push(t.readByte());return r}(),this.charRange=function(){var e,r;for(r=[],e=0;e<4;++e)r.push(t.readInt());return r}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var e,r;for(r=[],e=0;e<2;e=++e)r.push(t.readInt());return r}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},n}(),my=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return da(n,Yi),n.prototype.tag="post",n.prototype.parse=function(t){var e,r,a;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(r=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],a=[];t.pos<this.offset+this.length;)e=t.readByte(),a.push(this.names.push(t.readString(e)));return a;case 151552:return r=t.readUInt16(),this.offsets=t.read(r);case 262144:return this.map=(function(){var c,s,u;for(u=[],i=c=0,s=this.file.maxp.numGlyphs;0<=s?c<s:c>s;i=0<=s?++c:--c)u.push(t.readUInt32());return u}).call(this)}},n}(),gy=function(n,t){this.raw=n,this.length=n.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},vy=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return da(n,Yi),n.prototype.tag="name",n.prototype.parse=function(t){var e,r,a,i,c,s,u,d,m,b,x;for(t.pos=this.offset,t.readShort(),e=t.readShort(),s=t.readShort(),r=[],i=0;0<=e?i<e:i>e;i=0<=e?++i:--i)r.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+s+t.readShort()});for(u={},i=m=0,b=r.length;m<b;i=++m)a=r[i],t.pos=a.offset,d=t.readString(a.length),c=new gy(d,a),u[x=a.nameID]==null&&(u[x]=[]),u[a.nameID].push(c);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},n}(),by=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return da(n,Yi),n.prototype.tag="maxp",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},n}(),yy=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return da(n,Yi),n.prototype.tag="hmtx",n.prototype.parse=function(t){var e,r,a,i,c,s,u;for(t.pos=this.offset,this.metrics=[],e=0,s=this.file.hhea.numberOfMetrics;0<=s?e<s:e>s;e=0<=s?++e:--e)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,m;for(m=[],e=d=0;0<=a?d<a:d>a;e=0<=a?++d:--d)m.push(t.readInt16());return m}(),this.widths=(function(){var d,m,b,x;for(x=[],d=0,m=(b=this.metrics).length;d<m;d++)i=b[d],x.push(i.advance);return x}).call(this),r=this.widths[this.widths.length-1],u=[],e=c=0;0<=a?c<a:c>a;e=0<=a?++c:--c)u.push(this.widths.push(r));return u},n.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},n}(),N1=[].slice,wy=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return da(n,Yi),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(t){var e,r,a,i,c,s,u,d,m,b;return t in this.cache?this.cache[t]:(i=this.file.loca,e=this.file.contents,r=i.indexOf(t),(a=i.lengthOf(t))===0?this.cache[t]=null:(e.pos=this.offset+r,c=(s=new lo(e.read(a))).readShort(),d=s.readShort(),b=s.readShort(),u=s.readShort(),m=s.readShort(),this.cache[t]=c===-1?new _y(s,d,b,u,m):new xy(s,c,d,b,u,m),this.cache[t]))},n.prototype.encode=function(t,e,r){var a,i,c,s,u;for(c=[],i=[],s=0,u=e.length;s<u;s++)a=t[e[s]],i.push(c.length),a&&(c=c.concat(a.encode(r)));return i.push(c.length),{table:c,offsets:i}},n}(),xy=function(){function n(t,e,r,a,i,c){this.raw=t,this.numberOfContours=e,this.xMin=r,this.yMin=a,this.xMax=i,this.yMax=c,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),_y=function(){function n(t,e,r,a,i){var c,s;for(this.raw=t,this.xMin=e,this.yMin=r,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;s=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&s;)c.pos+=1&s?4:2,128&s?c.pos+=8:64&s?c.pos+=4:8&s&&(c.pos+=2)}return n.prototype.encode=function(){var t,e,r;for(e=new lo(N1.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)e.pos=this.glyphOffsets[t];return e.data},n}(),Ny=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return da(n,Yi),n.prototype.tag="loca",n.prototype.parse=function(t){var e,r;return t.pos=this.offset,e=this.file.head.indexToLocFormat,this.offsets=e===0?(function(){var a,i;for(i=[],r=0,a=this.length;r<a;r+=2)i.push(2*t.readUInt16());return i}).call(this):(function(){var a,i;for(i=[],r=0,a=this.length;r<a;r+=4)i.push(t.readUInt32());return i}).call(this)},n.prototype.indexOf=function(t){return this.offsets[t]},n.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},n.prototype.encode=function(t,e){for(var r=new Uint32Array(this.offsets.length),a=0,i=0,c=0;c<r.length;++c)if(r[c]=a,i<e.length&&e[i]==c){++i,r[c]=a;var s=this.offsets[c],u=this.offsets[c+1]-s;u>0&&(a+=u)}for(var d=new Array(4*r.length),m=0;m<r.length;++m)d[4*m+3]=255&r[m],d[4*m+2]=(65280&r[m])>>8,d[4*m+1]=(16711680&r[m])>>16,d[4*m]=(4278190080&r[m])>>24;return d},n}(),Sy=function(){function n(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var t,e,r,a,i;for(e in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)r=i[e],t[e]=a[r];return t},n.prototype.glyphsFor=function(t){var e,r,a,i,c,s,u;for(a={},c=0,s=t.length;c<s;c++)a[i=t[c]]=this.font.glyf.glyphFor(i);for(i in e=[],a)(r=a[i])!=null&&r.compound&&e.push.apply(e,r.glyphIDs);if(e.length>0)for(i in u=this.glyphsFor(e))r=u[i],a[i]=r;return a},n.prototype.encode=function(t,e){var r,a,i,c,s,u,d,m,b,x,p,L,k,C,S;for(a in r=_1.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(t),p={0:0},S=r.charMap)p[(u=S[a]).old]=u.new;for(L in x=r.maxGlyphID,c)L in p||(p[L]=x++);return m=function(F){var V,W;for(V in W={},F)W[F[V]]=V;return W}(p),b=Object.keys(m).sort(function(F,V){return F-V}),k=function(){var F,V,W;for(W=[],F=0,V=b.length;F<V;F++)s=b[F],W.push(m[s]);return W}(),i=this.font.glyf.encode(c,k,p),d=this.font.loca.encode(i.offsets,k),C={cmap:this.font.cmap.raw(),glyf:i.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(C["OS/2"]=this.font.os2.raw()),this.font.directory.encode(C)},n}();Pt.API.PDFObject=function(){var n;function t(){}return n=function(e,r){return(Array(r+1).join("0")+e).slice(-r)},t.convert=function(e){var r,a,i,c;if(Array.isArray(e))return"["+function(){var s,u,d;for(d=[],s=0,u=e.length;s<u;s++)r=e[s],d.push(t.convert(r));return d}().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e!=null&&e.isString)return"("+e+")";if(e instanceof Date)return"(D:"+n(e.getUTCFullYear(),4)+n(e.getUTCMonth(),2)+n(e.getUTCDate(),2)+n(e.getUTCHours(),2)+n(e.getUTCMinutes(),2)+n(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(a in i=["<<"],e)c=e[a],i.push("/"+a+" "+t.convert(c));return i.push(">>"),i.join(`
`)}return""+e},t}();function S1({highlights:n}){const[t,e]=rt.useState(!1),[r,a]=rt.useState(!1),[i,c]=rt.useState(!1),s=async()=>{try{e(!0);const d=new Pt({unit:"pt",format:"a4"}),m=d.internal.pageSize.getWidth(),b=50,x=m-b*2;let p=60;d.setFontSize(16),d.text("Amber Highlights",b,40),d.setFontSize(11);const L=k=>{if(!k)return[0,0,0];const C=k.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*([\d.]+))?\)/);if(C)return C.slice(1,4).map(Number);if(k.startsWith("#")){const S=k.replace("#",""),F=parseInt(S.length===3?S.repeat(2):S,16);return[F>>16&255,F>>8&255,F&255]}return[0,0,0]};n.forEach((k,C)=>{var re;p>750&&(d.addPage(),p=60);const[S,F,V]=L(k.color),W=p-6,be=d.splitTextToSize(`${C+1}. ${k.selectionString}`,x);if(d.text(be,b,p),p+=be.length*14,k.notes){d.setFontSize(10);const Q=d.splitTextToSize(`${k.notes}`,x-10);d.text(Q,b+4,p),p+=Q.length*12+6,d.setFontSize(11)}(re=k.website)!=null&&re.url?(d.setTextColor(0,0,255),d.textWithLink("Open Link",b,p+4,{url:k.website.url}),d.setTextColor(0,0,0),p+=18):p+=12;const ue=p;d.setDrawColor(S,F,V),d.setLineWidth(2),d.line(b-10,W,b-10,ue),p+=14}),d.save("amber-highlights.pdf")}finally{e(!1)}},u=async()=>{try{a(!0);const d=n.map((m,b)=>{var x;return`### ${b+1}. ${m.selectionString}
`+(m.notes?`> 💬 ${m.notes}
`:"")+((x=m.website)!=null&&x.url?`[🔗 ${m.website.url}](${m.website.url})`:"")}).join(`

---

`);await navigator.clipboard.writeText(d),c(!0),setTimeout(()=>c(!1),2e3)}finally{a(!1)}};return g.jsxs("div",{className:"inline-flex items-center gap-2",children:[g.jsxs(rn,{size:"sm",variant:"outline",className:"px-2.5 py-1.5 rounded-md flex items-center gap-2",onClick:s,disabled:t,"aria-label":"Export as PDF",children:[g.jsx(Fs,{className:"w-4 h-4"}),g.jsx("span",{className:"text-sm",children:t?"Exporting…":"PDF"})]}),g.jsxs(rn,{size:"sm",variant:"ghost",className:"px-2.5 py-1.5 rounded-md flex items-center gap-2",onClick:u,disabled:r,"aria-label":"Copy as Markdown",children:[i?g.jsx(Io,{className:"w-4 h-4 text-green-500 transition-all"}):g.jsx(V2,{className:"w-4 h-4"}),g.jsx("span",{className:"text-sm",children:"MD"})]})]})}function Ay(){const[n,t]=B.useState([]),[e,r]=B.useState(null),[a,i]=B.useState([]);B.useEffect(()=>{(async()=>{try{const d=await Hi.runtime.sendMessage({action:"getWebsites"});if(!(d!=null&&d.success)){console.warn("Failed to fetch websites:",d==null?void 0:d.error),t([]);return}t(d.data??[])}catch(d){console.error("Error fetching websites list:",d),t([])}})()},[]);const c=async u=>{if(e){i(d=>d.filter(m=>m.id!==u));try{await Hi.runtime.sendMessage({action:"deleteSingleHighlight",data:u})}catch(d){console.error("Error deleting highlight:",d)}}},s=async u=>{t(d=>d.filter(m=>m.id!==u)),i([]);try{await Hi.runtime.sendMessage({action:"deleteWebsite",data:u})}catch(d){console.error("Error deleting website:",d)}};return B.useEffect(()=>{(async()=>{if(e!=null&&e.url)try{const d=await Hi.runtime.sendMessage({action:"getWebsiteHighlights",data:e.url});d!=null&&d.success?i(d.data):console.error("Failed to fetch highlights:",d==null?void 0:d.error)}catch(d){console.error("Error fetching highlights:",d)}})()},[e]),g.jsx("div",{className:"h-[calc(100vh-5.6rem)] w-full flex bg-background border rounded-lg overflow-hidden",children:g.jsxs(vp,{direction:"horizontal",className:"flex-1 h-full overflow-hidden",children:[g.jsx(Pl,{defaultSize:25,minSize:20,maxSize:50,children:g.jsxs("div",{className:"flex flex-col h-full bg-muted/40",children:[g.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 shrink-0",children:[g.jsx(ks,{className:"h-5 w-5 text-muted-foreground"}),g.jsx("h2",{className:"text-sm font-medium uppercase tracking-wide text-muted-foreground",children:"Website Pages"})]}),g.jsx(so,{className:"flex-1 overflow-auto",children:g.jsx("ul",{className:"p-3 space-y-1.5",children:(n==null?void 0:n.length)>0?n.map(u=>g.jsxs("li",{className:Vt("flex items-center justify-between px-2 py-0.5 rounded-md border text-sm cursor-pointer select-none",(e==null?void 0:e.id)===u.id?"border-muted-foreground":"border-muted"),onClick:()=>r(u),children:[g.jsx("p",{className:"truncate flex-1 overflow-hidden text-ellipsis whitespace-nowrap w-[100px]",children:u.url}),g.jsxs(Bl,{children:[g.jsx(zl,{asChild:!0,children:g.jsx(rn,{variant:"ghost",size:"icon",onClick:d=>d.stopPropagation(),children:g.jsx(ql,{className:"h-4 w-4"})})}),g.jsxs(Ul,{align:"end",className:"w-32",children:[g.jsxs(ki,{onClick:()=>window.open(u.url,"_blank"),children:[g.jsx(hh,{className:"mr-2 h-4 w-4"})," Open"]}),g.jsxs(ki,{onClick:()=>s(u.id),className:"text-destructive focus:text-destructive",children:[g.jsx(Hl,{className:"mr-2 h-4 w-4"})," Delete"]})]})]})]},u.id)):g.jsxs("div",{className:"flex flex-col items-center justify-center py-10 text-center text-muted-foreground",children:[g.jsx(ks,{className:"h-6 w-6 mb-2 opacity-50"}),g.jsx("p",{className:"text-sm",children:"No websites with highlights yet."}),g.jsx("p",{className:"text-xs text-muted-foreground",children:"Add highlights on any webpage to see them appear here."})]})})})]})}),g.jsx(bp,{}),g.jsx(Pl,{defaultSize:75,children:g.jsxs("div",{className:"flex flex-col h-full bg-muted/55",children:[g.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 shrink-0",children:[g.jsx(xh,{className:"h-5 w-5 text-muted-foreground"}),g.jsxs("h2",{className:"text-sm w-full flex items-center justify-between font-medium uppercase tracking-wide text-muted-foreground",children:["Highlights",(a==null?void 0:a.length)>0&&g.jsx(S1,{highlights:a})]})]}),g.jsx(O5,{selectedWebsite:e,websiteHighlights:a,setWebsiteHighlights:i,handleDeleteHighlight:c})]})})]})})}function ky({selectedFolder:n,folderHighlights:t,setFolderHighlights:e,handleDeleteHighlight:r}){const[a,i]=B.useState(null),[c,s]=B.useState(""),u=x=>{i(x.id),s(x.notes||"")},d=async x=>{try{const p=await Hi.runtime.sendMessage({action:"updateHighlight",data:{id:x,updates:{notes:c}}});p!=null&&p.success?e(L=>L.map(k=>k.id===x?{...k,notes:c}:k)):console.warn("Failed to update notes:",p==null?void 0:p.error)}catch(p){console.error("Error updating notes:",p)}finally{i(null),s("")}},m=()=>{i(null),s("")};if(!n)return g.jsx("div",{className:"h-full flex items-center justify-center text-muted-foreground italic text-sm",children:"Select a folder to view its highlights."});if(t.length===0)return g.jsx("div",{className:"h-full flex items-center justify-center text-muted-foreground italic text-sm",children:"No highlights yet."});const b=x=>{var p;try{const L=(p=x==null?void 0:x.website)==null?void 0:p.url;if(!L){console.warn("No URL found for this highlight.");return}Hi.tabs.create({url:L})}catch(L){console.error("Failed to open highlight link:",L)}};return g.jsx(so,{className:"flex-1 h-full p-4 max-h-screen pb-14 w-full",children:g.jsx("div",{className:"space-y-3 w-full",children:t.map(x=>g.jsxs("div",{className:"bg-background group rounded-md border flex overflow-hidden",children:[g.jsx("div",{className:"w-2",style:{background:(x==null?void 0:x.color)||"yellow"}}),g.jsxs("div",{className:"flex-1 p-3 flex flex-col gap-1 w-full overflow-auto",children:[g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsx("h3",{className:"text-sm tracking-wide font-medium flex-1 pr-2 break-words whitespace-pre-wrap",children:x.selectionString}),g.jsxs(Bl,{children:[g.jsx(zl,{asChild:!0,children:g.jsx(rn,{variant:"ghost",size:"icon-sm",className:"opacity-0 group-hover:opacity-100 transition-opacity",onClick:p=>p.stopPropagation(),children:g.jsx(ql,{className:"h-4 w-4"})})}),g.jsxs(Ul,{align:"end",className:"w-56",children:[g.jsxs(ki,{onClick:()=>b(x),children:[g.jsx(gm,{className:"mr-2 h-4 w-4"})," open"]}),x!=null&&x.notes?g.jsxs(ki,{onClick:()=>u(x),children:[g.jsx(wh,{className:"mr-2 h-4 w-4"})," Edit Notes"]}):g.jsxs(ki,{onClick:()=>u(x),children:[g.jsx(ph,{className:"mr-2 h-4 w-4"})," Add Notes"]}),g.jsxs(ki,{onClick:()=>r(x.id),className:"text-destructive focus:text-destructive",children:[g.jsx(Hl,{className:"mr-2 h-4 w-4"})," Remove from Folder"]})]})]})]}),a===x.id?g.jsxs("div",{className:"mt-2 ml-6 space-y-2",children:[g.jsx(Ip,{value:c,onChange:p=>s(p.target.value),placeholder:"Write your note here...",className:"text-sm"}),g.jsxs("div",{className:"flex gap-2 justify-end",children:[g.jsxs(rn,{size:"sm",variant:"secondary",onClick:m,children:[g.jsx(oo,{className:"h-4 w-4 mr-1"})," Cancel"]}),g.jsxs(rn,{size:"sm",onClick:()=>d(x.id),children:[g.jsx(Io,{className:"h-4 w-4 mr-1"})," Save"]})]})]}):x.notes?g.jsx("p",{className:"text-sm text-muted-foreground leading-snug mt-1 ml-6 break-all whitespace-pre-wrap",children:x.notes}):null]})]},x.id))})})}var _l={exports:{}},Ly=_l.exports,Kd;function Py(){return Kd||(Kd=1,function(n,t){(function(e,r){n.exports=r()})(Ly,function(){var e=function(l,h){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,N){w.__proto__=N}||function(w,N){for(var A in N)Object.prototype.hasOwnProperty.call(N,A)&&(w[A]=N[A])})(l,h)},r=function(){return(r=Object.assign||function(l){for(var h,w=1,N=arguments.length;w<N;w++)for(var A in h=arguments[w])Object.prototype.hasOwnProperty.call(h,A)&&(l[A]=h[A]);return l}).apply(this,arguments)};function a(l,h,w){for(var N,A=0,E=h.length;A<E;A++)!N&&A in h||((N=N||Array.prototype.slice.call(h,0,A))[A]=h[A]);return l.concat(N||Array.prototype.slice.call(h))}var i=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:o2,c=Object.keys,s=Array.isArray;function u(l,h){return typeof h!="object"||c(h).forEach(function(w){l[w]=h[w]}),l}typeof Promise>"u"||i.Promise||(i.Promise=Promise);var d=Object.getPrototypeOf,m={}.hasOwnProperty;function b(l,h){return m.call(l,h)}function x(l,h){typeof h=="function"&&(h=h(d(l))),(typeof Reflect>"u"?c:Reflect.ownKeys)(h).forEach(function(w){L(l,w,h[w])})}var p=Object.defineProperty;function L(l,h,w,N){p(l,h,u(w&&b(w,"get")&&typeof w.get=="function"?{get:w.get,set:w.set,configurable:!0}:{value:w,configurable:!0,writable:!0},N))}function k(l){return{from:function(h){return l.prototype=Object.create(h.prototype),L(l.prototype,"constructor",l),{extend:x.bind(null,l.prototype)}}}}var C=Object.getOwnPropertyDescriptor,S=[].slice;function F(l,h,w){return S.call(l,h,w)}function V(l,h){return h(l)}function W(l){if(!l)throw new Error("Assertion Failed")}function be(l){i.setImmediate?setImmediate(l):setTimeout(l,0)}function ue(l,h){if(typeof h=="string"&&b(l,h))return l[h];if(!h)return l;if(typeof h!="string"){for(var w=[],N=0,A=h.length;N<A;++N){var E=ue(l,h[N]);w.push(E)}return w}var K=h.indexOf(".");if(K!==-1){var ie=l[h.substr(0,K)];return ie==null?void 0:ue(ie,h.substr(K+1))}}function re(l,h,w){if(l&&h!==void 0&&!("isFrozen"in Object&&Object.isFrozen(l)))if(typeof h!="string"&&"length"in h){W(typeof w!="string"&&"length"in w);for(var N=0,A=h.length;N<A;++N)re(l,h[N],w[N])}else{var E,K,ie=h.indexOf(".");ie!==-1?(E=h.substr(0,ie),(K=h.substr(ie+1))===""?w===void 0?s(l)&&!isNaN(parseInt(E))?l.splice(E,1):delete l[E]:l[E]=w:re(ie=!(ie=l[E])||!b(l,E)?l[E]={}:ie,K,w)):w===void 0?s(l)&&!isNaN(parseInt(h))?l.splice(h,1):delete l[h]:l[h]=w}}function Q(l){var h,w={};for(h in l)b(l,h)&&(w[h]=l[h]);return w}var H=[].concat;function de(l){return H.apply([],l)}var Ct="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(de([8,16,32,64].map(function(l){return["Int","Uint","Float"].map(function(h){return h+l+"Array"})}))).filter(function(l){return i[l]}),O=new Set(Ct.map(function(l){return i[l]})),R=null;function ee(l){return R=new WeakMap,l=function h(w){if(!w||typeof w!="object")return w;var N=R.get(w);if(N)return N;if(s(w)){N=[],R.set(w,N);for(var A=0,E=w.length;A<E;++A)N.push(h(w[A]))}else if(O.has(w.constructor))N=w;else{var K,ie=d(w);for(K in N=ie===Object.prototype?{}:Object.create(ie),R.set(w,N),w)b(w,K)&&(N[K]=h(w[K]))}return N}(l),R=null,l}var ne={}.toString;function Se(l){return ne.call(l).slice(8,-1)}var we=typeof Symbol<"u"?Symbol.iterator:"@@iterator",je=typeof we=="symbol"?function(l){var h;return l!=null&&(h=l[we])&&h.apply(l)}:function(){return null};function Ne(l,h){return h=l.indexOf(h),0<=h&&l.splice(h,1),0<=h}var Te={};function Ve(l){var h,w,N,A;if(arguments.length===1){if(s(l))return l.slice();if(this===Te&&typeof l=="string")return[l];if(A=je(l)){for(w=[];!(N=A.next()).done;)w.push(N.value);return w}if(l==null)return[l];if(typeof(h=l.length)!="number")return[l];for(w=new Array(h);h--;)w[h]=l[h];return w}for(h=arguments.length,w=new Array(h);h--;)w[h]=arguments[h];return w}var Be=typeof Symbol<"u"?function(l){return l[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Tt=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Zn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Tt),T={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function D(l,h){this.name=l,this.message=h}function q(l,h){return l+". Errors: "+Object.keys(h).map(function(w){return h[w].toString()}).filter(function(w,N,A){return A.indexOf(w)===N}).join(`
`)}function X(l,h,w,N){this.failures=h,this.failedKeys=N,this.successCount=w,this.message=q(l,h)}function te(l,h){this.name="BulkError",this.failures=Object.keys(h).map(function(w){return h[w]}),this.failuresByPos=h,this.message=q(l,this.failures)}k(D).from(Error).extend({toString:function(){return this.name+": "+this.message}}),k(X).from(D),k(te).from(D);var Z=Zn.reduce(function(l,h){return l[h]=h+"Error",l},{}),le=D,ae=Zn.reduce(function(l,h){var w=h+"Error";function N(A,E){this.name=w,A?typeof A=="string"?(this.message="".concat(A).concat(E?`
 `+E:""),this.inner=E||null):typeof A=="object"&&(this.message="".concat(A.name," ").concat(A.message),this.inner=A):(this.message=T[h]||w,this.inner=null)}return k(N).from(le),l[h]=N,l},{});ae.Syntax=SyntaxError,ae.Type=TypeError,ae.Range=RangeError;var Le=Tt.reduce(function(l,h){return l[h+"Error"]=ae[h],l},{}),De=Zn.reduce(function(l,h){return["Syntax","Type","Range"].indexOf(h)===-1&&(l[h+"Error"]=ae[h]),l},{});function Re(){}function Ke(l){return l}function Ie(l,h){return l==null||l===Ke?h:function(w){return h(l(w))}}function J(l,h){return function(){l.apply(this,arguments),h.apply(this,arguments)}}function Ot(l,h){return l===Re?h:function(){var w=l.apply(this,arguments);w!==void 0&&(arguments[0]=w);var N=this.onsuccess,A=this.onerror;this.onsuccess=null,this.onerror=null;var E=h.apply(this,arguments);return N&&(this.onsuccess=this.onsuccess?J(N,this.onsuccess):N),A&&(this.onerror=this.onerror?J(A,this.onerror):A),E!==void 0?E:w}}function St(l,h){return l===Re?h:function(){l.apply(this,arguments);var w=this.onsuccess,N=this.onerror;this.onsuccess=this.onerror=null,h.apply(this,arguments),w&&(this.onsuccess=this.onsuccess?J(w,this.onsuccess):w),N&&(this.onerror=this.onerror?J(N,this.onerror):N)}}function ut(l,h){return l===Re?h:function(w){var N=l.apply(this,arguments);u(w,N);var A=this.onsuccess,E=this.onerror;return this.onsuccess=null,this.onerror=null,w=h.apply(this,arguments),A&&(this.onsuccess=this.onsuccess?J(A,this.onsuccess):A),E&&(this.onerror=this.onerror?J(E,this.onerror):E),N===void 0?w===void 0?void 0:w:u(N,w)}}function $e(l,h){return l===Re?h:function(){return h.apply(this,arguments)!==!1&&l.apply(this,arguments)}}function gt(l,h){return l===Re?h:function(){var w=l.apply(this,arguments);if(w&&typeof w.then=="function"){for(var N=this,A=arguments.length,E=new Array(A);A--;)E[A]=arguments[A];return w.then(function(){return h.apply(N,E)})}return h.apply(this,arguments)}}De.ModifyError=X,De.DexieError=D,De.BulkError=te;var Qe=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function xt(l){Qe=l}var ft={},an=100,Ct=typeof Promise>"u"?[]:function(){var l=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[l,d(l),l];var h=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[h,d(h),l]}(),Tt=Ct[0],Zn=Ct[1],Ct=Ct[2],Zn=Zn&&Zn.then,Qt=Tt&&Tt.constructor,Rt=!!Ct,ht=function(l,h){kt.push([l,h]),wt&&(queueMicrotask(Tn),wt=!1)},At=!0,wt=!0,Yt=[],en=[],vt=Ke,Et={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Re,pgp:!1,env:{},finalize:Re},tt=Et,kt=[],zt=0,jt=[];function Xe(l){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var h=this._PSD=tt;if(typeof l!="function"){if(l!==ft)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&It(this,this._value))}this._state=null,this._value=null,++h.ref,function w(N,A){try{A(function(E){if(N._state===null){if(E===N)throw new TypeError("A promise cannot be resolved with itself.");var K=N._lib&&Kn();E&&typeof E.then=="function"?w(N,function(ie,fe){E instanceof Xe?E._then(ie,fe):E.then(ie,fe)}):(N._state=!0,N._value=E,st(N)),K&&lt()}},It.bind(null,N))}catch(E){It(N,E)}}(this,l)}var In={get:function(){var l=tt,h=bi;function w(N,A){var E=this,K=!l.global&&(l!==tt||h!==bi),ie=K&&!or(),fe=new Xe(function(me,ye){vn(E,new dn(ha(N,l,K,ie),ha(A,l,K,ie),me,ye,l))});return this._consoleTask&&(fe._consoleTask=this._consoleTask),fe}return w.prototype=ft,w},set:function(l){L(this,"then",l&&l.prototype===ft?In:{get:function(){return l},set:In.set})}};function dn(l,h,w,N,A){this.onFulfilled=typeof l=="function"?l:null,this.onRejected=typeof h=="function"?h:null,this.resolve=w,this.reject=N,this.psd=A}function It(l,h){var w,N;en.push(h),l._state===null&&(w=l._lib&&Kn(),h=vt(h),l._state=!1,l._value=h,N=l,Yt.some(function(A){return A._value===N._value})||Yt.push(N),st(l),w&&lt())}function st(l){var h=l._listeners;l._listeners=[];for(var w=0,N=h.length;w<N;++w)vn(l,h[w]);var A=l._PSD;--A.ref||A.finalize(),zt===0&&(++zt,ht(function(){--zt==0&&Pn()},[]))}function vn(l,h){if(l._state!==null){var w=l._state?h.onFulfilled:h.onRejected;if(w===null)return(l._state?h.resolve:h.reject)(l._value);++h.psd.ref,++zt,ht(on,[w,l,h])}else l._listeners.push(h)}function on(l,h,w){try{var N,A=h._value;!h._state&&en.length&&(en=[]),N=Qe&&h._consoleTask?h._consoleTask.run(function(){return l(A)}):l(A),h._state||en.indexOf(A)!==-1||function(E){for(var K=Yt.length;K;)if(Yt[--K]._value===E._value)return Yt.splice(K,1)}(h),w.resolve(N)}catch(E){w.reject(E)}finally{--zt==0&&Pn(),--w.psd.ref||w.psd.finalize()}}function Tn(){Fr(Et,function(){Kn()&&lt()})}function Kn(){var l=At;return wt=At=!1,l}function lt(){var l,h,w;do for(;0<kt.length;)for(l=kt,kt=[],w=l.length,h=0;h<w;++h){var N=l[h];N[0].apply(null,N[1])}while(0<kt.length);wt=At=!0}function Pn(){var l=Yt;Yt=[],l.forEach(function(N){N._PSD.onunhandled.call(null,N._value,N)});for(var h=jt.slice(0),w=h.length;w;)h[--w]()}function cr(l){return new Xe(ft,!1,l)}function Dt(l,h){var w=tt;return function(){var N=Kn(),A=tt;try{return Er(w,!0),l.apply(this,arguments)}catch(E){h&&h(E)}finally{Er(A,!1),N&&lt()}}}x(Xe.prototype,{then:In,_then:function(l,h){vn(this,new dn(null,null,l,h,tt))},catch:function(l){if(arguments.length===1)return this.then(null,l);var h=l,w=arguments[1];return typeof h=="function"?this.then(null,function(N){return(N instanceof h?w:cr)(N)}):this.then(null,function(N){return(N&&N.name===h?w:cr)(N)})},finally:function(l){return this.then(function(h){return Xe.resolve(l()).then(function(){return h})},function(h){return Xe.resolve(l()).then(function(){return cr(h)})})},timeout:function(l,h){var w=this;return l<1/0?new Xe(function(N,A){var E=setTimeout(function(){return A(new ae.Timeout(h))},l);w.then(N,A).finally(clearTimeout.bind(null,E))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&L(Xe.prototype,Symbol.toStringTag,"Dexie.Promise"),Et.env=ei(),x(Xe,{all:function(){var l=Ve.apply(null,arguments).map(Cr);return new Xe(function(h,w){l.length===0&&h([]);var N=l.length;l.forEach(function(A,E){return Xe.resolve(A).then(function(K){l[E]=K,--N||h(l)},w)})})},resolve:function(l){return l instanceof Xe?l:l&&typeof l.then=="function"?new Xe(function(h,w){l.then(h,w)}):new Xe(ft,!0,l)},reject:cr,race:function(){var l=Ve.apply(null,arguments).map(Cr);return new Xe(function(h,w){l.map(function(N){return Xe.resolve(N).then(h,w)})})},PSD:{get:function(){return tt},set:function(l){return tt=l}},totalEchoes:{get:function(){return bi}},newPSD:ar,usePSD:Fr,scheduler:{get:function(){return ht},set:function(l){ht=l}},rejectionMapper:{get:function(){return vt},set:function(l){vt=l}},follow:function(l,h){return new Xe(function(w,N){return ar(function(A,E){var K=tt;K.unhandleds=[],K.onunhandled=E,K.finalize=J(function(){var ie,fe=this;ie=function(){fe.unhandleds.length===0?A():E(fe.unhandleds[0])},jt.push(function me(){ie(),jt.splice(jt.indexOf(me),1)}),++zt,ht(function(){--zt==0&&Pn()},[])},K.finalize),l()},h,w,N)})}}),Qt&&(Qt.allSettled&&L(Xe,"allSettled",function(){var l=Ve.apply(null,arguments).map(Cr);return new Xe(function(h){l.length===0&&h([]);var w=l.length,N=new Array(w);l.forEach(function(A,E){return Xe.resolve(A).then(function(K){return N[E]={status:"fulfilled",value:K}},function(K){return N[E]={status:"rejected",reason:K}}).then(function(){return--w||h(N)})})})}),Qt.any&&typeof AggregateError<"u"&&L(Xe,"any",function(){var l=Ve.apply(null,arguments).map(Cr);return new Xe(function(h,w){l.length===0&&w(new AggregateError([]));var N=l.length,A=new Array(N);l.forEach(function(E,K){return Xe.resolve(E).then(function(ie){return h(ie)},function(ie){A[K]=ie,--N||w(new AggregateError(A))})})})}),Qt.withResolvers&&(Xe.withResolvers=Qt.withResolvers));var Kt={awaits:0,echoes:0,id:0},Sn=0,gn=[],Wn=0,bi=0,Xi=0;function ar(l,h,w,N){var A=tt,E=Object.create(A);return E.parent=A,E.ref=0,E.global=!1,E.id=++Xi,Et.env,E.env=Rt?{Promise:Xe,PromiseProp:{value:Xe,configurable:!0,writable:!0},all:Xe.all,race:Xe.race,allSettled:Xe.allSettled,any:Xe.any,resolve:Xe.resolve,reject:Xe.reject}:{},h&&u(E,h),++A.ref,E.finalize=function(){--this.parent.ref||this.parent.finalize()},N=Fr(E,l,w,N),E.ref===0&&E.finalize(),N}function _r(){return Kt.id||(Kt.id=++Sn),++Kt.awaits,Kt.echoes+=an,Kt.id}function or(){return!!Kt.awaits&&(--Kt.awaits==0&&(Kt.id=0),Kt.echoes=Kt.awaits*an,!0)}function Cr(l){return Kt.echoes&&l&&l.constructor===Qt?(_r(),l.then(function(h){return or(),h},function(h){return or(),Nn(h)})):l}function Wr(){var l=gn[gn.length-1];gn.pop(),Er(l,!1)}function Er(l,h){var w,N=tt;(h?!Kt.echoes||Wn++&&l===tt:!Wn||--Wn&&l===tt)||queueMicrotask(h?(function(A){++bi,Kt.echoes&&--Kt.echoes!=0||(Kt.echoes=Kt.awaits=Kt.id=0),gn.push(tt),Er(A,!0)}).bind(null,l):Wr),l!==tt&&(tt=l,N===Et&&(Et.env=ei()),Rt&&(w=Et.env.Promise,h=l.env,(N.global||l.global)&&(Object.defineProperty(i,"Promise",h.PromiseProp),w.all=h.all,w.race=h.race,w.resolve=h.resolve,w.reject=h.reject,h.allSettled&&(w.allSettled=h.allSettled),h.any&&(w.any=h.any))))}function ei(){var l=i.Promise;return Rt?{Promise:l,PromiseProp:Object.getOwnPropertyDescriptor(i,"Promise"),all:l.all,race:l.race,allSettled:l.allSettled,any:l.any,resolve:l.resolve,reject:l.reject}:{}}function Fr(l,h,w,N,A){var E=tt;try{return Er(l,!0),h(w,N,A)}finally{Er(E,!1)}}function ha(l,h,w,N){return typeof l!="function"?l:function(){var A=tt;w&&_r(),Er(h,!0);try{return l.apply(this,arguments)}finally{Er(A,!1),N&&queueMicrotask(or)}}}function Ji(l){Promise===Qt&&Kt.echoes===0?Wn===0?l():enqueueNativeMicroTask(l):setTimeout(l,0)}(""+Zn).indexOf("[native code]")===-1&&(_r=or=Re);var Nn=Xe.reject,ji="￿",Br="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",fo="String expected.",Ci=[],Nr="__dbnames",pa="readonly",Ma="readwrite";function ti(l,h){return l?h?function(){return l.apply(this,arguments)&&h.apply(this,arguments)}:l:h}var ho={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function ma(l){return typeof l!="string"||/\./.test(l)?function(h){return h}:function(h){return h[l]===void 0&&l in h&&delete(h=ee(h))[l],h}}function po(){throw ae.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Gt(l,h){try{var w=qo(l),N=qo(h);if(w!==N)return w==="Array"?1:N==="Array"?-1:w==="binary"?1:N==="binary"?-1:w==="string"?1:N==="string"?-1:w==="Date"?1:N!=="Date"?NaN:-1;switch(w){case"number":case"Date":case"string":return h<l?1:l<h?-1:0;case"binary":return function(A,E){for(var K=A.length,ie=E.length,fe=K<ie?K:ie,me=0;me<fe;++me)if(A[me]!==E[me])return A[me]<E[me]?-1:1;return K===ie?0:K<ie?-1:1}(Vn(l),Vn(h));case"Array":return function(A,E){for(var K=A.length,ie=E.length,fe=K<ie?K:ie,me=0;me<fe;++me){var ye=Gt(A[me],E[me]);if(ye!==0)return ye}return K===ie?0:K<ie?-1:1}(l,h)}}catch{}return NaN}function qo(l){var h=typeof l;return h!="object"?h:ArrayBuffer.isView(l)?"binary":(l=Se(l),l==="ArrayBuffer"?"binary":l)}function Vn(l){return l instanceof Uint8Array?l:ArrayBuffer.isView(l)?new Uint8Array(l.buffer,l.byteOffset,l.byteLength):new Uint8Array(l)}function ga(l,h,w){var N=l.schema.yProps;return N?(h&&0<w.numFailures&&(h=h.filter(function(A,E){return!w.failures[E]})),Promise.all(N.map(function(A){return A=A.updatesTable,h?l.db.table(A).where("k").anyOf(h).delete():l.db.table(A).clear()})).then(function(){return w})):w}var mo=(sn.prototype._trans=function(l,h,w){var N=this._tx||tt.trans,A=this.name,E=Qe&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(l==="readonly"?"read":"write"," ").concat(this.name));function K(me,ye,oe){if(!oe.schema[A])throw new ae.NotFound("Table "+A+" not part of transaction");return h(oe.idbtrans,oe)}var ie=Kn();try{var fe=N&&N.db._novip===this.db._novip?N===tt.trans?N._promise(l,K,w):ar(function(){return N._promise(l,K,w)},{trans:N,transless:tt.transless||tt}):function me(ye,oe,pe,se){if(ye.idbdb&&(ye._state.openComplete||tt.letThrough||ye._vip)){var he=ye._createTransaction(oe,pe,ye._dbSchema);try{he.create(),ye._state.PR1398_maxLoop=3}catch(ve){return ve.name===Z.InvalidState&&ye.isOpen()&&0<--ye._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),ye.close({disableAutoOpen:!1}),ye.open().then(function(){return me(ye,oe,pe,se)})):Nn(ve)}return he._promise(oe,function(ve,_e){return ar(function(){return tt.trans=he,se(ve,_e,he)})}).then(function(ve){if(oe==="readwrite")try{he.idbtrans.commit()}catch{}return oe==="readonly"?ve:he._completion.then(function(){return ve})})}if(ye._state.openComplete)return Nn(new ae.DatabaseClosed(ye._state.dbOpenError));if(!ye._state.isBeingOpened){if(!ye._state.autoOpen)return Nn(new ae.DatabaseClosed);ye.open().catch(Re)}return ye._state.dbReadyPromise.then(function(){return me(ye,oe,pe,se)})}(this.db,l,[this.name],K);return E&&(fe._consoleTask=E,fe=fe.catch(function(me){return console.trace(me),Nn(me)})),fe}finally{ie&&lt()}},sn.prototype.get=function(l,h){var w=this;return l&&l.constructor===Object?this.where(l).first(h):l==null?Nn(new ae.Type("Invalid argument to Table.get()")):this._trans("readonly",function(N){return w.core.get({trans:N,key:l}).then(function(A){return w.hook.reading.fire(A)})}).then(h)},sn.prototype.where=function(l){if(typeof l=="string")return new this.db.WhereClause(this,l);if(s(l))return new this.db.WhereClause(this,"[".concat(l.join("+"),"]"));var h=c(l);if(h.length===1)return this.where(h[0]).equals(l[h[0]]);var w=this.schema.indexes.concat(this.schema.primKey).filter(function(ie){if(ie.compound&&h.every(function(me){return 0<=ie.keyPath.indexOf(me)})){for(var fe=0;fe<h.length;++fe)if(h.indexOf(ie.keyPath[fe])===-1)return!1;return!0}return!1}).sort(function(ie,fe){return ie.keyPath.length-fe.keyPath.length})[0];if(w&&this.db._maxKey!==ji){var E=w.keyPath.slice(0,h.length);return this.where(E).equals(E.map(function(fe){return l[fe]}))}!w&&Qe&&console.warn("The query ".concat(JSON.stringify(l)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(h.join("+"),"]"));var N=this.schema.idxByName;function A(ie,fe){return Gt(ie,fe)===0}var K=h.reduce(function(oe,fe){var me=oe[0],ye=oe[1],oe=N[fe],pe=l[fe];return[me||oe,me||!oe?ti(ye,oe&&oe.multi?function(se){return se=ue(se,fe),s(se)&&se.some(function(he){return A(pe,he)})}:function(se){return A(pe,ue(se,fe))}):ye]},[null,null]),E=K[0],K=K[1];return E?this.where(E.name).equals(l[E.keyPath]).filter(K):w?this.filter(K):this.where(h).equals("")},sn.prototype.filter=function(l){return this.toCollection().and(l)},sn.prototype.count=function(l){return this.toCollection().count(l)},sn.prototype.offset=function(l){return this.toCollection().offset(l)},sn.prototype.limit=function(l){return this.toCollection().limit(l)},sn.prototype.each=function(l){return this.toCollection().each(l)},sn.prototype.toArray=function(l){return this.toCollection().toArray(l)},sn.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},sn.prototype.orderBy=function(l){return new this.db.Collection(new this.db.WhereClause(this,s(l)?"[".concat(l.join("+"),"]"):l))},sn.prototype.reverse=function(){return this.toCollection().reverse()},sn.prototype.mapToClass=function(l){var h,w=this.db,N=this.name;function A(){return h!==null&&h.apply(this,arguments)||this}(this.schema.mappedClass=l).prototype instanceof po&&(function(fe,me){if(typeof me!="function"&&me!==null)throw new TypeError("Class extends value "+String(me)+" is not a constructor or null");function ye(){this.constructor=fe}e(fe,me),fe.prototype=me===null?Object.create(me):(ye.prototype=me.prototype,new ye)}(A,h=l),Object.defineProperty(A.prototype,"db",{get:function(){return w},enumerable:!1,configurable:!0}),A.prototype.table=function(){return N},l=A);for(var E=new Set,K=l.prototype;K;K=d(K))Object.getOwnPropertyNames(K).forEach(function(fe){return E.add(fe)});function ie(fe){if(!fe)return fe;var me,ye=Object.create(l.prototype);for(me in fe)if(!E.has(me))try{ye[me]=fe[me]}catch{}return ye}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=ie,this.hook("reading",ie),l},sn.prototype.defineClass=function(){return this.mapToClass(function(l){u(this,l)})},sn.prototype.add=function(l,h){var w=this,N=this.schema.primKey,A=N.auto,E=N.keyPath,K=l;return E&&A&&(K=ma(E)(l)),this._trans("readwrite",function(ie){return w.core.mutate({trans:ie,type:"add",keys:h!=null?[h]:null,values:[K]})}).then(function(ie){return ie.numFailures?Xe.reject(ie.failures[0]):ie.lastResult}).then(function(ie){if(E)try{re(l,E,ie)}catch{}return ie})},sn.prototype.update=function(l,h){return typeof l!="object"||s(l)?this.where(":id").equals(l).modify(h):(l=ue(l,this.schema.primKey.keyPath),l===void 0?Nn(new ae.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(l).modify(h))},sn.prototype.put=function(l,h){var w=this,N=this.schema.primKey,A=N.auto,E=N.keyPath,K=l;return E&&A&&(K=ma(E)(l)),this._trans("readwrite",function(ie){return w.core.mutate({trans:ie,type:"put",values:[K],keys:h!=null?[h]:null})}).then(function(ie){return ie.numFailures?Xe.reject(ie.failures[0]):ie.lastResult}).then(function(ie){if(E)try{re(l,E,ie)}catch{}return ie})},sn.prototype.delete=function(l){var h=this;return this._trans("readwrite",function(w){return h.core.mutate({trans:w,type:"delete",keys:[l]}).then(function(N){return ga(h,[l],N)}).then(function(N){return N.numFailures?Xe.reject(N.failures[0]):void 0})})},sn.prototype.clear=function(){var l=this;return this._trans("readwrite",function(h){return l.core.mutate({trans:h,type:"deleteRange",range:ho}).then(function(w){return ga(l,null,w)})}).then(function(h){return h.numFailures?Xe.reject(h.failures[0]):void 0})},sn.prototype.bulkGet=function(l){var h=this;return this._trans("readonly",function(w){return h.core.getMany({keys:l,trans:w}).then(function(N){return N.map(function(A){return h.hook.reading.fire(A)})})})},sn.prototype.bulkAdd=function(l,h,w){var N=this,A=Array.isArray(h)?h:void 0,E=(w=w||(A?void 0:h))?w.allKeys:void 0;return this._trans("readwrite",function(K){var me=N.schema.primKey,ie=me.auto,me=me.keyPath;if(me&&A)throw new ae.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(A&&A.length!==l.length)throw new ae.InvalidArgument("Arguments objects and keys must have the same length");var fe=l.length,me=me&&ie?l.map(ma(me)):l;return N.core.mutate({trans:K,type:"add",keys:A,values:me,wantResults:E}).then(function(he){var oe=he.numFailures,pe=he.results,se=he.lastResult,he=he.failures;if(oe===0)return E?pe:se;throw new te("".concat(N.name,".bulkAdd(): ").concat(oe," of ").concat(fe," operations failed"),he)})})},sn.prototype.bulkPut=function(l,h,w){var N=this,A=Array.isArray(h)?h:void 0,E=(w=w||(A?void 0:h))?w.allKeys:void 0;return this._trans("readwrite",function(K){var me=N.schema.primKey,ie=me.auto,me=me.keyPath;if(me&&A)throw new ae.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(A&&A.length!==l.length)throw new ae.InvalidArgument("Arguments objects and keys must have the same length");var fe=l.length,me=me&&ie?l.map(ma(me)):l;return N.core.mutate({trans:K,type:"put",keys:A,values:me,wantResults:E}).then(function(he){var oe=he.numFailures,pe=he.results,se=he.lastResult,he=he.failures;if(oe===0)return E?pe:se;throw new te("".concat(N.name,".bulkPut(): ").concat(oe," of ").concat(fe," operations failed"),he)})})},sn.prototype.bulkUpdate=function(l){var h=this,w=this.core,N=l.map(function(K){return K.key}),A=l.map(function(K){return K.changes}),E=[];return this._trans("readwrite",function(K){return w.getMany({trans:K,keys:N,cache:"clone"}).then(function(ie){var fe=[],me=[];l.forEach(function(oe,pe){var se=oe.key,he=oe.changes,ve=ie[pe];if(ve){for(var _e=0,ke=Object.keys(he);_e<ke.length;_e++){var Oe=ke[_e],Me=he[Oe];if(Oe===h.schema.primKey.keyPath){if(Gt(Me,se)!==0)throw new ae.Constraint("Cannot update primary key in bulkUpdate()")}else re(ve,Oe,Me)}E.push(pe),fe.push(se),me.push(ve)}});var ye=fe.length;return w.mutate({trans:K,type:"put",keys:fe,values:me,updates:{keys:N,changeSpecs:A}}).then(function(oe){var pe=oe.numFailures,se=oe.failures;if(pe===0)return ye;for(var he=0,ve=Object.keys(se);he<ve.length;he++){var _e,ke=ve[he],Oe=E[Number(ke)];Oe!=null&&(_e=se[ke],delete se[ke],se[Oe]=_e)}throw new te("".concat(h.name,".bulkUpdate(): ").concat(pe," of ").concat(ye," operations failed"),se)})})})},sn.prototype.bulkDelete=function(l){var h=this,w=l.length;return this._trans("readwrite",function(N){return h.core.mutate({trans:N,type:"delete",keys:l}).then(function(A){return ga(h,l,A)})}).then(function(K){var A=K.numFailures,E=K.lastResult,K=K.failures;if(A===0)return E;throw new te("".concat(h.name,".bulkDelete(): ").concat(A," of ").concat(w," operations failed"),K)})},sn);function sn(){}function ni(l){function h(K,ie){if(ie){for(var fe=arguments.length,me=new Array(fe-1);--fe;)me[fe-1]=arguments[fe];return w[K].subscribe.apply(null,me),l}if(typeof K=="string")return w[K]}var w={};h.addEventType=E;for(var N=1,A=arguments.length;N<A;++N)E(arguments[N]);return h;function E(K,ie,fe){if(typeof K!="object"){var me;ie=ie||$e;var ye={subscribers:[],fire:fe=fe||Re,subscribe:function(oe){ye.subscribers.indexOf(oe)===-1&&(ye.subscribers.push(oe),ye.fire=ie(ye.fire,oe))},unsubscribe:function(oe){ye.subscribers=ye.subscribers.filter(function(pe){return pe!==oe}),ye.fire=ye.subscribers.reduce(ie,fe)}};return w[K]=h[K]=ye}c(me=K).forEach(function(oe){var pe=me[oe];if(s(pe))E(oe,me[oe][0],me[oe][1]);else{if(pe!=="asap")throw new ae.InvalidArgument("Invalid event config");var se=E(oe,Ke,function(){for(var he=arguments.length,ve=new Array(he);he--;)ve[he]=arguments[he];se.subscribers.forEach(function(_e){be(function(){_e.apply(null,ve)})})})}})}}function Sr(l,h){return k(h).from({prototype:l}),h}function Vr(l,h){return!(l.filter||l.algorithm||l.or)&&(h?l.justLimit:!l.replayFilter)}function On(l,h){l.filter=ti(l.filter,h)}function va(l,h,w){var N=l.replayFilter;l.replayFilter=N?function(){return ti(N(),h())}:h,l.justLimit=w&&!N}function Fa(l,h){if(l.isPrimKey)return h.primaryKey;var w=h.getIndexByKeyPath(l.index);if(!w)throw new ae.Schema("KeyPath "+l.index+" on object store "+h.name+" is not indexed");return w}function Uo(l,h,w){var N=Fa(l,h.schema);return h.openCursor({trans:w,values:!l.keysOnly,reverse:l.dir==="prev",unique:!!l.unique,query:{index:N,range:l.range}})}function Ba(l,h,w,N){var A=l.replayFilter?ti(l.filter,l.replayFilter()):l.filter;if(l.or){var E={},K=function(ie,fe,me){var ye,oe;A&&!A(fe,me,function(pe){return fe.stop(pe)},function(pe){return fe.fail(pe)})||((oe=""+(ye=fe.primaryKey))=="[object ArrayBuffer]"&&(oe=""+new Uint8Array(ye)),b(E,oe)||(E[oe]=!0,h(ie,fe,me)))};return Promise.all([l.or._iterate(K,w),ri(Uo(l,N,w),l.algorithm,K,!l.keysOnly&&l.valueMapper)])}return ri(Uo(l,N,w),ti(l.algorithm,A),h,!l.keysOnly&&l.valueMapper)}function ri(l,h,w,N){var A=Dt(N?function(E,K,ie){return w(N(E),K,ie)}:w);return l.then(function(E){if(E)return E.start(function(){var K=function(){return E.continue()};h&&!h(E,function(ie){return K=ie},function(ie){E.stop(ie),K=Re},function(ie){E.fail(ie),K=Re})||A(E.value,E,function(ie){return K=ie}),K()})})}var Zi=(go.prototype.execute=function(l){var h=this["@@propmod"];if(h.add!==void 0){var w=h.add;if(s(w))return a(a([],s(l)?l:[],!0),w).sort();if(typeof w=="number")return(Number(l)||0)+w;if(typeof w=="bigint")try{return BigInt(l)+w}catch{return BigInt(0)+w}throw new TypeError("Invalid term ".concat(w))}if(h.remove!==void 0){var N=h.remove;if(s(N))return s(l)?l.filter(function(A){return!N.includes(A)}).sort():[];if(typeof N=="number")return Number(l)-N;if(typeof N=="bigint")try{return BigInt(l)-N}catch{return BigInt(0)-N}throw new TypeError("Invalid subtrahend ".concat(N))}return w=(w=h.replacePrefix)===null||w===void 0?void 0:w[0],w&&typeof l=="string"&&l.startsWith(w)?h.replacePrefix[1]+l.substring(w.length):l},go);function go(l){this["@@propmod"]=l}var Qi=(tn.prototype._read=function(l,h){var w=this._ctx;return w.error?w.table._trans(null,Nn.bind(null,w.error)):w.table._trans("readonly",l).then(h)},tn.prototype._write=function(l){var h=this._ctx;return h.error?h.table._trans(null,Nn.bind(null,h.error)):h.table._trans("readwrite",l,"locked")},tn.prototype._addAlgorithm=function(l){var h=this._ctx;h.algorithm=ti(h.algorithm,l)},tn.prototype._iterate=function(l,h){return Ba(this._ctx,l,h,this._ctx.table.core)},tn.prototype.clone=function(l){var h=Object.create(this.constructor.prototype),w=Object.create(this._ctx);return l&&u(w,l),h._ctx=w,h},tn.prototype.raw=function(){return this._ctx.valueMapper=null,this},tn.prototype.each=function(l){var h=this._ctx;return this._read(function(w){return Ba(h,l,w,h.table.core)})},tn.prototype.count=function(l){var h=this;return this._read(function(w){var N=h._ctx,A=N.table.core;if(Vr(N,!0))return A.count({trans:w,query:{index:Fa(N,A.schema),range:N.range}}).then(function(K){return Math.min(K,N.limit)});var E=0;return Ba(N,function(){return++E,!1},w,A).then(function(){return E})}).then(l)},tn.prototype.sortBy=function(l,h){var w=l.split(".").reverse(),N=w[0],A=w.length-1;function E(fe,me){return me?E(fe[w[me]],me-1):fe[N]}var K=this._ctx.dir==="next"?1:-1;function ie(fe,me){return Gt(E(fe,A),E(me,A))*K}return this.toArray(function(fe){return fe.sort(ie)}).then(h)},tn.prototype.toArray=function(l){var h=this;return this._read(function(w){var N=h._ctx;if(N.dir==="next"&&Vr(N,!0)&&0<N.limit){var A=N.valueMapper,E=Fa(N,N.table.core.schema);return N.table.core.query({trans:w,limit:N.limit,values:!0,query:{index:E,range:N.range}}).then(function(ie){return ie=ie.result,A?ie.map(A):ie})}var K=[];return Ba(N,function(ie){return K.push(ie)},w,N.table.core).then(function(){return K})},l)},tn.prototype.offset=function(l){var h=this._ctx;return l<=0||(h.offset+=l,Vr(h)?va(h,function(){var w=l;return function(N,A){return w===0||(w===1?--w:A(function(){N.advance(w),w=0}),!1)}}):va(h,function(){var w=l;return function(){return--w<0}})),this},tn.prototype.limit=function(l){return this._ctx.limit=Math.min(this._ctx.limit,l),va(this._ctx,function(){var h=l;return function(w,N,A){return--h<=0&&N(A),0<=h}},!0),this},tn.prototype.until=function(l,h){return On(this._ctx,function(w,N,A){return!l(w.value)||(N(A),h)}),this},tn.prototype.first=function(l){return this.limit(1).toArray(function(h){return h[0]}).then(l)},tn.prototype.last=function(l){return this.reverse().first(l)},tn.prototype.filter=function(l){var h;return On(this._ctx,function(w){return l(w.value)}),(h=this._ctx).isMatch=ti(h.isMatch,l),this},tn.prototype.and=function(l){return this.filter(l)},tn.prototype.or=function(l){return new this.db.WhereClause(this._ctx.table,l,this)},tn.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},tn.prototype.desc=function(){return this.reverse()},tn.prototype.eachKey=function(l){var h=this._ctx;return h.keysOnly=!h.isMatch,this.each(function(w,N){l(N.key,N)})},tn.prototype.eachUniqueKey=function(l){return this._ctx.unique="unique",this.eachKey(l)},tn.prototype.eachPrimaryKey=function(l){var h=this._ctx;return h.keysOnly=!h.isMatch,this.each(function(w,N){l(N.primaryKey,N)})},tn.prototype.keys=function(l){var h=this._ctx;h.keysOnly=!h.isMatch;var w=[];return this.each(function(N,A){w.push(A.key)}).then(function(){return w}).then(l)},tn.prototype.primaryKeys=function(l){var h=this._ctx;if(h.dir==="next"&&Vr(h,!0)&&0<h.limit)return this._read(function(N){var A=Fa(h,h.table.core.schema);return h.table.core.query({trans:N,values:!1,limit:h.limit,query:{index:A,range:h.range}})}).then(function(N){return N.result}).then(l);h.keysOnly=!h.isMatch;var w=[];return this.each(function(N,A){w.push(A.primaryKey)}).then(function(){return w}).then(l)},tn.prototype.uniqueKeys=function(l){return this._ctx.unique="unique",this.keys(l)},tn.prototype.firstKey=function(l){return this.limit(1).keys(function(h){return h[0]}).then(l)},tn.prototype.lastKey=function(l){return this.reverse().firstKey(l)},tn.prototype.distinct=function(){var l=this._ctx,l=l.index&&l.table.schema.idxByName[l.index];if(!l||!l.multi)return this;var h={};return On(this._ctx,function(A){var N=A.primaryKey.toString(),A=b(h,N);return h[N]=!0,!A}),this},tn.prototype.modify=function(l){var h=this,w=this._ctx;return this._write(function(N){var A,E,K;K=typeof l=="function"?l:(A=c(l),E=A.length,function(ke){for(var Oe=!1,Me=0;Me<E;++Me){var Fe=A[Me],Ye=l[Fe],nt=ue(ke,Fe);Ye instanceof Zi?(re(ke,Fe,Ye.execute(nt)),Oe=!0):nt!==Ye&&(re(ke,Fe,Ye),Oe=!0)}return Oe});var ie=w.table.core,oe=ie.schema.primaryKey,fe=oe.outbound,me=oe.extractKey,ye=200,oe=h.db._options.modifyChunkSize;oe&&(ye=typeof oe=="object"?oe[ie.name]||oe["*"]||200:oe);function pe(ke,Fe){var Me=Fe.failures,Fe=Fe.numFailures;he+=ke-Fe;for(var Ye=0,nt=c(Me);Ye<nt.length;Ye++){var Ze=nt[Ye];se.push(Me[Ze])}}var se=[],he=0,ve=[],_e=l===Ho;return h.clone().primaryKeys().then(function(ke){function Oe(Fe){var Ye=Math.min(ye,ke.length-Fe),nt=ke.slice(Fe,Fe+Ye);return(_e?Promise.resolve([]):ie.getMany({trans:N,keys:nt,cache:"immutable"})).then(function(Ze){var et=[],ot=[],it=fe?[]:null,ct=_e?nt:[];if(!_e)for(var Ht=0;Ht<Ye;++Ht){var nn=Ze[Ht],qt={value:ee(nn),primKey:ke[Fe+Ht]};K.call(qt,qt.value,qt)!==!1&&(qt.value==null?ct.push(ke[Fe+Ht]):fe||Gt(me(nn),me(qt.value))===0?(ot.push(qt.value),fe&&it.push(ke[Fe+Ht])):(ct.push(ke[Fe+Ht]),et.push(qt.value)))}return Promise.resolve(0<et.length&&ie.mutate({trans:N,type:"add",values:et}).then(function(Mn){for(var Bt in Mn.failures)ct.splice(parseInt(Bt),1);pe(et.length,Mn)})).then(function(){return(0<ot.length||Me&&typeof l=="object")&&ie.mutate({trans:N,type:"put",keys:it,values:ot,criteria:Me,changeSpec:typeof l!="function"&&l,isAdditionalChunk:0<Fe}).then(function(Mn){return pe(ot.length,Mn)})}).then(function(){return(0<ct.length||Me&&_e)&&ie.mutate({trans:N,type:"delete",keys:ct,criteria:Me,isAdditionalChunk:0<Fe}).then(function(Mn){return ga(w.table,ct,Mn)}).then(function(Mn){return pe(ct.length,Mn)})}).then(function(){return ke.length>Fe+Ye&&Oe(Fe+ye)})})}var Me=Vr(w)&&w.limit===1/0&&(typeof l!="function"||_e)&&{index:w.index,range:w.range};return Oe(0).then(function(){if(0<se.length)throw new X("Error modifying one or more objects",se,he,ve);return ke.length})})})},tn.prototype.delete=function(){var l=this._ctx,h=l.range;return!Vr(l)||l.table.schema.yProps||!l.isPrimKey&&h.type!==3?this.modify(Ho):this._write(function(w){var N=l.table.core.schema.primaryKey,A=h;return l.table.core.count({trans:w,query:{index:N,range:A}}).then(function(E){return l.table.core.mutate({trans:w,type:"deleteRange",range:A}).then(function(fe){var ie=fe.failures,fe=fe.numFailures;if(fe)throw new X("Could not delete some values",Object.keys(ie).map(function(me){return ie[me]}),E-fe);return E-fe})})})},tn);function tn(){}var Ho=function(l,h){return h.value=null};function fs(l,h){return l<h?-1:l===h?0:1}function ds(l,h){return h<l?-1:l===h?0:1}function ur(l,h,w){return l=l instanceof za?new l.Collection(l):l,l._ctx.error=new(w||TypeError)(h),l}function Kr(l){return new l.Collection(l,function(){return ea("")}).limit(0)}function ii(l,h,w,N){var A,E,K,ie,fe,me,ye,oe=w.length;if(!w.every(function(he){return typeof he=="string"}))return ur(l,fo);function pe(he){A=he==="next"?function(_e){return _e.toUpperCase()}:function(_e){return _e.toLowerCase()},E=he==="next"?function(_e){return _e.toLowerCase()}:function(_e){return _e.toUpperCase()},K=he==="next"?fs:ds;var ve=w.map(function(_e){return{lower:E(_e),upper:A(_e)}}).sort(function(_e,ke){return K(_e.lower,ke.lower)});ie=ve.map(function(_e){return _e.upper}),fe=ve.map(function(_e){return _e.lower}),ye=(me=he)==="next"?"":N}pe("next"),l=new l.Collection(l,function(){return yi(ie[0],fe[oe-1]+N)}),l._ondirectionchange=function(he){pe(he)};var se=0;return l._addAlgorithm(function(he,ve,_e){var ke=he.key;if(typeof ke!="string")return!1;var Oe=E(ke);if(h(Oe,fe,se))return!0;for(var Me=null,Fe=se;Fe<oe;++Fe){var Ye=function(nt,Ze,et,ot,it,ct){for(var Ht=Math.min(nt.length,ot.length),nn=-1,qt=0;qt<Ht;++qt){var Mn=Ze[qt];if(Mn!==ot[qt])return it(nt[qt],et[qt])<0?nt.substr(0,qt)+et[qt]+et.substr(qt+1):it(nt[qt],ot[qt])<0?nt.substr(0,qt)+ot[qt]+et.substr(qt+1):0<=nn?nt.substr(0,nn)+Ze[nn]+et.substr(nn+1):null;it(nt[qt],Mn)<0&&(nn=qt)}return Ht<ot.length&&ct==="next"?nt+et.substr(nt.length):Ht<nt.length&&ct==="prev"?nt.substr(0,et.length):nn<0?null:nt.substr(0,nn)+ot[nn]+et.substr(nn+1)}(ke,Oe,ie[Fe],fe[Fe],K,me);Ye===null&&Me===null?se=Fe+1:(Me===null||0<K(Me,Ye))&&(Me=Ye)}return ve(Me!==null?function(){he.continue(Me+ye)}:_e),!1}),l}function yi(l,h,w,N){return{type:2,lower:l,upper:h,lowerOpen:w,upperOpen:N}}function ea(l){return{type:1,lower:l,upper:l}}var za=(Object.defineProperty(bt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),bt.prototype.between=function(l,h,w,N){w=w!==!1,N=N===!0;try{return 0<this._cmp(l,h)||this._cmp(l,h)===0&&(w||N)&&(!w||!N)?Kr(this):new this.Collection(this,function(){return yi(l,h,!w,!N)})}catch{return ur(this,Br)}},bt.prototype.equals=function(l){return l==null?ur(this,Br):new this.Collection(this,function(){return ea(l)})},bt.prototype.above=function(l){return l==null?ur(this,Br):new this.Collection(this,function(){return yi(l,void 0,!0)})},bt.prototype.aboveOrEqual=function(l){return l==null?ur(this,Br):new this.Collection(this,function(){return yi(l,void 0,!1)})},bt.prototype.below=function(l){return l==null?ur(this,Br):new this.Collection(this,function(){return yi(void 0,l,!1,!0)})},bt.prototype.belowOrEqual=function(l){return l==null?ur(this,Br):new this.Collection(this,function(){return yi(void 0,l)})},bt.prototype.startsWith=function(l){return typeof l!="string"?ur(this,fo):this.between(l,l+ji,!0,!0)},bt.prototype.startsWithIgnoreCase=function(l){return l===""?this.startsWith(l):ii(this,function(h,w){return h.indexOf(w[0])===0},[l],ji)},bt.prototype.equalsIgnoreCase=function(l){return ii(this,function(h,w){return h===w[0]},[l],"")},bt.prototype.anyOfIgnoreCase=function(){var l=Ve.apply(Te,arguments);return l.length===0?Kr(this):ii(this,function(h,w){return w.indexOf(h)!==-1},l,"")},bt.prototype.startsWithAnyOfIgnoreCase=function(){var l=Ve.apply(Te,arguments);return l.length===0?Kr(this):ii(this,function(h,w){return w.some(function(N){return h.indexOf(N)===0})},l,ji)},bt.prototype.anyOf=function(){var l=this,h=Ve.apply(Te,arguments),w=this._cmp;try{h.sort(w)}catch{return ur(this,Br)}if(h.length===0)return Kr(this);var N=new this.Collection(this,function(){return yi(h[0],h[h.length-1])});N._ondirectionchange=function(E){w=E==="next"?l._ascending:l._descending,h.sort(w)};var A=0;return N._addAlgorithm(function(E,K,ie){for(var fe=E.key;0<w(fe,h[A]);)if(++A===h.length)return K(ie),!1;return w(fe,h[A])===0||(K(function(){E.continue(h[A])}),!1)}),N},bt.prototype.notEqual=function(l){return this.inAnyRange([[-1/0,l],[l,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},bt.prototype.noneOf=function(){var l=Ve.apply(Te,arguments);if(l.length===0)return new this.Collection(this);try{l.sort(this._ascending)}catch{return ur(this,Br)}var h=l.reduce(function(w,N){return w?w.concat([[w[w.length-1][1],N]]):[[-1/0,N]]},null);return h.push([l[l.length-1],this.db._maxKey]),this.inAnyRange(h,{includeLowers:!1,includeUppers:!1})},bt.prototype.inAnyRange=function(ke,h){var w=this,N=this._cmp,A=this._ascending,E=this._descending,K=this._min,ie=this._max;if(ke.length===0)return Kr(this);if(!ke.every(function(Oe){return Oe[0]!==void 0&&Oe[1]!==void 0&&A(Oe[0],Oe[1])<=0}))return ur(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ae.InvalidArgument);var fe=!h||h.includeLowers!==!1,me=h&&h.includeUppers===!0,ye,oe=A;function pe(Oe,Me){return oe(Oe[0],Me[0])}try{(ye=ke.reduce(function(Oe,Me){for(var Fe=0,Ye=Oe.length;Fe<Ye;++Fe){var nt=Oe[Fe];if(N(Me[0],nt[1])<0&&0<N(Me[1],nt[0])){nt[0]=K(nt[0],Me[0]),nt[1]=ie(nt[1],Me[1]);break}}return Fe===Ye&&Oe.push(Me),Oe},[])).sort(pe)}catch{return ur(this,Br)}var se=0,he=me?function(Oe){return 0<A(Oe,ye[se][1])}:function(Oe){return 0<=A(Oe,ye[se][1])},ve=fe?function(Oe){return 0<E(Oe,ye[se][0])}:function(Oe){return 0<=E(Oe,ye[se][0])},_e=he,ke=new this.Collection(this,function(){return yi(ye[0][0],ye[ye.length-1][1],!fe,!me)});return ke._ondirectionchange=function(Oe){oe=Oe==="next"?(_e=he,A):(_e=ve,E),ye.sort(pe)},ke._addAlgorithm(function(Oe,Me,Fe){for(var Ye,nt=Oe.key;_e(nt);)if(++se===ye.length)return Me(Fe),!1;return!he(Ye=nt)&&!ve(Ye)||(w._cmp(nt,ye[se][1])===0||w._cmp(nt,ye[se][0])===0||Me(function(){oe===A?Oe.continue(ye[se][0]):Oe.continue(ye[se][1])}),!1)}),ke},bt.prototype.startsWithAnyOf=function(){var l=Ve.apply(Te,arguments);return l.every(function(h){return typeof h=="string"})?l.length===0?Kr(this):this.inAnyRange(l.map(function(h){return[h,h+ji]})):ur(this,"startsWithAnyOf() only works with strings")},bt);function bt(){}function $r(l){return Dt(function(h){return ba(h),l(h.target.error),!1})}function ba(l){l.stopPropagation&&l.stopPropagation(),l.preventDefault&&l.preventDefault()}var ya="storagemutated",vo="x-storagemutated-1",vr=ni(null,ya),Ei=(Gr.prototype._lock=function(){return W(!tt.global),++this._reculock,this._reculock!==1||tt.global||(tt.lockOwnerFor=this),this},Gr.prototype._unlock=function(){if(W(!tt.global),--this._reculock==0)for(tt.global||(tt.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var l=this._blockedFuncs.shift();try{Fr(l[1],l[0])}catch{}}return this},Gr.prototype._locked=function(){return this._reculock&&tt.lockOwnerFor!==this},Gr.prototype.create=function(l){var h=this;if(!this.mode)return this;var w=this.db.idbdb,N=this.db._state.dbOpenError;if(W(!this.idbtrans),!l&&!w)switch(N&&N.name){case"DatabaseClosedError":throw new ae.DatabaseClosed(N);case"MissingAPIError":throw new ae.MissingAPI(N.message,N);default:throw new ae.OpenFailed(N)}if(!this.active)throw new ae.TransactionInactive;return W(this._completion._state===null),(l=this.idbtrans=l||(this.db.core||w).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Dt(function(A){ba(A),h._reject(l.error)}),l.onabort=Dt(function(A){ba(A),h.active&&h._reject(new ae.Abort(l.error)),h.active=!1,h.on("abort").fire(A)}),l.oncomplete=Dt(function(){h.active=!1,h._resolve(),"mutatedParts"in l&&vr.storagemutated.fire(l.mutatedParts)}),this},Gr.prototype._promise=function(l,h,w){var N=this;if(l==="readwrite"&&this.mode!=="readwrite")return Nn(new ae.ReadOnly("Transaction is readonly"));if(!this.active)return Nn(new ae.TransactionInactive);if(this._locked())return new Xe(function(E,K){N._blockedFuncs.push([function(){N._promise(l,h,w).then(E,K)},tt])});if(w)return ar(function(){var E=new Xe(function(K,ie){N._lock();var fe=h(K,ie,N);fe&&fe.then&&fe.then(K,ie)});return E.finally(function(){return N._unlock()}),E._lib=!0,E});var A=new Xe(function(E,K){var ie=h(E,K,N);ie&&ie.then&&ie.then(E,K)});return A._lib=!0,A},Gr.prototype._root=function(){return this.parent?this.parent._root():this},Gr.prototype.waitFor=function(l){var h,w=this._root(),N=Xe.resolve(l);w._waitingFor?w._waitingFor=w._waitingFor.then(function(){return N}):(w._waitingFor=N,w._waitingQueue=[],h=w.idbtrans.objectStore(w.storeNames[0]),function E(){for(++w._spinCount;w._waitingQueue.length;)w._waitingQueue.shift()();w._waitingFor&&(h.get(-1/0).onsuccess=E)}());var A=w._waitingFor;return new Xe(function(E,K){N.then(function(ie){return w._waitingQueue.push(Dt(E.bind(null,ie)))},function(ie){return w._waitingQueue.push(Dt(K.bind(null,ie)))}).finally(function(){w._waitingFor===A&&(w._waitingFor=null)})})},Gr.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ae.Abort))},Gr.prototype.table=function(l){var h=this._memoizedTables||(this._memoizedTables={});if(b(h,l))return h[l];var w=this.schema[l];if(!w)throw new ae.NotFound("Table "+l+" not part of transaction");return w=new this.db.Table(l,w,this),w.core=this.db.core.table(l),h[l]=w},Gr);function Gr(){}function bo(l,h,w,N,A,E,K,ie){return{name:l,keyPath:h,unique:w,multi:N,auto:A,compound:E,src:(w&&!K?"&":"")+(N?"*":"")+(A?"++":"")+wa(h),type:ie}}function wa(l){return typeof l=="string"?l:l?"["+[].join.call(l,"+")+"]":""}function xa(l,h,w){return{name:l,primKey:h,indexes:w,mappedClass:null,idxByName:(N=function(A){return[A.name,A]},w.reduce(function(A,E,K){return K=N(E,K),K&&(A[K[0]]=K[1]),A},{}))};var N}var ai=function(l){try{return l.only([[]]),ai=function(){return[[]]},[[]]}catch{return ai=function(){return ji},ji}};function ta(l){return l==null?function(){}:typeof l=="string"?(h=l).split(".").length===1?function(w){return w[h]}:function(w){return ue(w,h)}:function(w){return ue(w,l)};var h}function _a(l){return[].slice.call(l)}var hs=0;function Ii(l){return l==null?":id":typeof l=="string"?l:"[".concat(l.join("+"),"]")}function yo(l,h,fe){function N(_e){if(_e.type===3)return null;if(_e.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var se=_e.lower,he=_e.upper,ve=_e.lowerOpen,_e=_e.upperOpen;return se===void 0?he===void 0?null:h.upperBound(he,!!_e):he===void 0?h.lowerBound(se,!!ve):h.bound(se,he,!!ve,!!_e)}function A(pe){var se,he=pe.name;return{name:he,schema:pe,mutate:function(ve){var _e=ve.trans,ke=ve.type,Oe=ve.keys,Me=ve.values,Fe=ve.range;return new Promise(function(Ye,nt){Ye=Dt(Ye);var Ze=_e.objectStore(he),et=Ze.keyPath==null,ot=ke==="put"||ke==="add";if(!ot&&ke!=="delete"&&ke!=="deleteRange")throw new Error("Invalid operation type: "+ke);var it,ct=(Oe||Me||{length:1}).length;if(Oe&&Me&&Oe.length!==Me.length)throw new Error("Given keys array must have same length as given values array.");if(ct===0)return Ye({numFailures:0,failures:{},results:[],lastResult:void 0});function Ht(sr){++Mn,ba(sr)}var nn=[],qt=[],Mn=0;if(ke==="deleteRange"){if(Fe.type===4)return Ye({numFailures:Mn,failures:qt,results:[],lastResult:void 0});Fe.type===3?nn.push(it=Ze.clear()):nn.push(it=Ze.delete(N(Fe)))}else{var et=ot?et?[Me,Oe]:[Me,null]:[Oe,null],Bt=et[0],dr=et[1];if(ot)for(var hr=0;hr<ct;++hr)nn.push(it=dr&&dr[hr]!==void 0?Ze[ke](Bt[hr],dr[hr]):Ze[ke](Bt[hr])),it.onerror=Ht;else for(hr=0;hr<ct;++hr)nn.push(it=Ze[ke](Bt[hr])),it.onerror=Ht}function Ka(sr){sr=sr.target.result,nn.forEach(function(Qn,Ir){return Qn.error!=null&&(qt[Ir]=Qn.error)}),Ye({numFailures:Mn,failures:qt,results:ke==="delete"?Oe:nn.map(function(Qn){return Qn.result}),lastResult:sr})}it.onerror=function(sr){Ht(sr),Ka(sr)},it.onsuccess=Ka})},getMany:function(ve){var _e=ve.trans,ke=ve.keys;return new Promise(function(Oe,Me){Oe=Dt(Oe);for(var Fe,Ye=_e.objectStore(he),nt=ke.length,Ze=new Array(nt),et=0,ot=0,it=function(nn){nn=nn.target,Ze[nn._pos]=nn.result,++ot===et&&Oe(Ze)},ct=$r(Me),Ht=0;Ht<nt;++Ht)ke[Ht]!=null&&((Fe=Ye.get(ke[Ht]))._pos=Ht,Fe.onsuccess=it,Fe.onerror=ct,++et);et===0&&Oe(Ze)})},get:function(ve){var _e=ve.trans,ke=ve.key;return new Promise(function(Oe,Me){Oe=Dt(Oe);var Fe=_e.objectStore(he).get(ke);Fe.onsuccess=function(Ye){return Oe(Ye.target.result)},Fe.onerror=$r(Me)})},query:(se=me,function(ve){return new Promise(function(_e,ke){_e=Dt(_e);var Oe,Me,Fe,et=ve.trans,Ye=ve.values,nt=ve.limit,it=ve.query,Ze=nt===1/0?void 0:nt,ot=it.index,it=it.range,et=et.objectStore(he),ot=ot.isPrimaryKey?et:et.index(ot.name),it=N(it);if(nt===0)return _e({result:[]});se?((Ze=Ye?ot.getAll(it,Ze):ot.getAllKeys(it,Ze)).onsuccess=function(ct){return _e({result:ct.target.result})},Ze.onerror=$r(ke)):(Oe=0,Me=!Ye&&"openKeyCursor"in ot?ot.openKeyCursor(it):ot.openCursor(it),Fe=[],Me.onsuccess=function(ct){var Ht=Me.result;return Ht?(Fe.push(Ye?Ht.value:Ht.primaryKey),++Oe===nt?_e({result:Fe}):void Ht.continue()):_e({result:Fe})},Me.onerror=$r(ke))})}),openCursor:function(ve){var _e=ve.trans,ke=ve.values,Oe=ve.query,Me=ve.reverse,Fe=ve.unique;return new Promise(function(Ye,nt){Ye=Dt(Ye);var ot=Oe.index,Ze=Oe.range,et=_e.objectStore(he),et=ot.isPrimaryKey?et:et.index(ot.name),ot=Me?Fe?"prevunique":"prev":Fe?"nextunique":"next",it=!ke&&"openKeyCursor"in et?et.openKeyCursor(N(Ze),ot):et.openCursor(N(Ze),ot);it.onerror=$r(nt),it.onsuccess=Dt(function(ct){var Ht,nn,qt,Mn,Bt=it.result;Bt?(Bt.___id=++hs,Bt.done=!1,Ht=Bt.continue.bind(Bt),nn=(nn=Bt.continuePrimaryKey)&&nn.bind(Bt),qt=Bt.advance.bind(Bt),Mn=function(){throw new Error("Cursor not stopped")},Bt.trans=_e,Bt.stop=Bt.continue=Bt.continuePrimaryKey=Bt.advance=function(){throw new Error("Cursor not started")},Bt.fail=Dt(nt),Bt.next=function(){var dr=this,hr=1;return this.start(function(){return hr--?dr.continue():dr.stop()}).then(function(){return dr})},Bt.start=function(dr){function hr(){if(it.result)try{dr()}catch(sr){Bt.fail(sr)}else Bt.done=!0,Bt.start=function(){throw new Error("Cursor behind last entry")},Bt.stop()}var Ka=new Promise(function(sr,Qn){sr=Dt(sr),it.onerror=$r(Qn),Bt.fail=Qn,Bt.stop=function(Ir){Bt.stop=Bt.continue=Bt.continuePrimaryKey=Bt.advance=Mn,sr(Ir)}});return it.onsuccess=Dt(function(sr){it.onsuccess=hr,hr()}),Bt.continue=Ht,Bt.continuePrimaryKey=nn,Bt.advance=qt,hr(),Ka},Ye(Bt)):Ye(null)},nt)})},count:function(ve){var _e=ve.query,ke=ve.trans,Oe=_e.index,Me=_e.range;return new Promise(function(Fe,Ye){var nt=ke.objectStore(he),Ze=Oe.isPrimaryKey?nt:nt.index(Oe.name),nt=N(Me),Ze=nt?Ze.count(nt):Ze.count();Ze.onsuccess=Dt(function(et){return Fe(et.target.result)}),Ze.onerror=$r(Ye)})}}}var E,K,ie,ye=(K=fe,ie=_a((E=l).objectStoreNames),{schema:{name:E.name,tables:ie.map(function(pe){return K.objectStore(pe)}).map(function(pe){var se=pe.keyPath,_e=pe.autoIncrement,he=s(se),ve={},_e={name:pe.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:se==null,compound:he,keyPath:se,autoIncrement:_e,unique:!0,extractKey:ta(se)},indexes:_a(pe.indexNames).map(function(ke){return pe.index(ke)}).map(function(Fe){var Oe=Fe.name,Me=Fe.unique,Ye=Fe.multiEntry,Fe=Fe.keyPath,Ye={name:Oe,compound:s(Fe),keyPath:Fe,unique:Me,multiEntry:Ye,extractKey:ta(Fe)};return ve[Ii(Fe)]=Ye}),getIndexByKeyPath:function(ke){return ve[Ii(ke)]}};return ve[":id"]=_e.primaryKey,se!=null&&(ve[Ii(se)]=_e.primaryKey),_e})},hasGetAll:0<ie.length&&"getAll"in K.objectStore(ie[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),fe=ye.schema,me=ye.hasGetAll,ye=fe.tables.map(A),oe={};return ye.forEach(function(pe){return oe[pe.name]=pe}),{stack:"dbcore",transaction:l.transaction.bind(l),table:function(pe){if(!oe[pe])throw new Error("Table '".concat(pe,"' not found"));return oe[pe]},MIN_KEY:-1/0,MAX_KEY:ai(h),schema:fe}}function Na(l,h,w,N){var A=w.IDBKeyRange;return w.indexedDB,{dbcore:(N=yo(h,A,N),l.dbcore.reduce(function(E,K){return K=K.create,r(r({},E),K(E))},N))}}function wi(l,N){var w=N.db,N=Na(l._middlewares,w,l._deps,N);l.core=N.dbcore,l.tables.forEach(function(A){var E=A.name;l.core.schema.tables.some(function(K){return K.name===E})&&(A.core=l.core.table(E),l[E]instanceof l.Table&&(l[E].core=A.core))})}function na(l,h,w,N){w.forEach(function(A){var E=N[A];h.forEach(function(K){var ie=function fe(me,ye){return C(me,ye)||(me=d(me))&&fe(me,ye)}(K,A);(!ie||"value"in ie&&ie.value===void 0)&&(K===l.Transaction.prototype||K instanceof l.Transaction?L(K,A,{get:function(){return this.table(A)},set:function(fe){p(this,A,{value:fe,writable:!0,configurable:!0,enumerable:!0})}}):K[A]=new l.Table(A,E))})})}function ra(l,h){h.forEach(function(w){for(var N in w)w[N]instanceof l.Table&&delete w[N]})}function wo(l,h){return l._cfg.version-h._cfg.version}function Sa(l,h,w,N){var A=l._dbSchema;w.objectStoreNames.contains("$meta")&&!A.$meta&&(A.$meta=xa("$meta",xo("")[0],[]),l._storeNames.push("$meta"));var E=l._createTransaction("readwrite",l._storeNames,A);E.create(w),E._completion.catch(N);var K=E._reject.bind(E),ie=tt.transless||tt;ar(function(){return tt.trans=E,tt.transless=ie,h!==0?(wi(l,w),me=h,((fe=E).storeNames.includes("$meta")?fe.table("$meta").get("version").then(function(ye){return ye??me}):Xe.resolve(me)).then(function(ye){return pe=ye,se=E,he=w,ve=[],ye=(oe=l)._versions,_e=oe._dbSchema=ka(0,oe.idbdb,he),(ye=ye.filter(function(ke){return ke._cfg.version>=pe})).length!==0?(ye.forEach(function(ke){ve.push(function(){var Oe=_e,Me=ke._cfg.dbschema;_i(oe,Oe,he),_i(oe,Me,he),_e=oe._dbSchema=Me;var Fe=qa(Oe,Me);Fe.add.forEach(function(ot){oi(he,ot[0],ot[1].primKey,ot[1].indexes)}),Fe.change.forEach(function(ot){if(ot.recreate)throw new ae.Upgrade("Not yet support for changing primary key");var it=he.objectStore(ot.name);ot.add.forEach(function(ct){return Aa(it,ct)}),ot.change.forEach(function(ct){it.deleteIndex(ct.name),Aa(it,ct)}),ot.del.forEach(function(ct){return it.deleteIndex(ct)})});var Ye=ke._cfg.contentUpgrade;if(Ye&&ke._cfg.version>pe){wi(oe,he),se._memoizedTables={};var nt=Q(Me);Fe.del.forEach(function(ot){nt[ot]=Oe[ot]}),ra(oe,[oe.Transaction.prototype]),na(oe,[oe.Transaction.prototype],c(nt),nt),se.schema=nt;var Ze,et=Be(Ye);return et&&_r(),Fe=Xe.follow(function(){var ot;(Ze=Ye(se))&&et&&(ot=or.bind(null,null),Ze.then(ot,ot))}),Ze&&typeof Ze.then=="function"?Xe.resolve(Ze):Fe.then(function(){return Ze})}}),ve.push(function(Oe){var Me,Fe,Ye=ke._cfg.dbschema;Me=Ye,Fe=Oe,[].slice.call(Fe.db.objectStoreNames).forEach(function(nt){return Me[nt]==null&&Fe.db.deleteObjectStore(nt)}),ra(oe,[oe.Transaction.prototype]),na(oe,[oe.Transaction.prototype],oe._storeNames,oe._dbSchema),se.schema=oe._dbSchema}),ve.push(function(Oe){oe.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(oe.idbdb.version/10)===ke._cfg.version?(oe.idbdb.deleteObjectStore("$meta"),delete oe._dbSchema.$meta,oe._storeNames=oe._storeNames.filter(function(Me){return Me!=="$meta"})):Oe.objectStore("$meta").put(ke._cfg.version,"version"))})}),function ke(){return ve.length?Xe.resolve(ve.shift()(se.idbtrans)).then(ke):Xe.resolve()}().then(function(){xi(_e,he)})):Xe.resolve();var oe,pe,se,he,ve,_e}).catch(K)):(c(A).forEach(function(ye){oi(w,ye,A[ye].primKey,A[ye].indexes)}),wi(l,w),void Xe.follow(function(){return l.on.populate.fire(E)}).catch(K));var fe,me})}function Wo(l,h){xi(l._dbSchema,h),h.db.version%10!=0||h.objectStoreNames.contains("$meta")||h.db.createObjectStore("$meta").add(Math.ceil(h.db.version/10-1),"version");var w=ka(0,l.idbdb,h);_i(l,l._dbSchema,h);for(var N=0,A=qa(w,l._dbSchema).change;N<A.length;N++){var E=function(K){if(K.change.length||K.recreate)return console.warn("Unable to patch indexes of table ".concat(K.name," because it has changes on the type of index or primary key.")),{value:void 0};var ie=h.objectStore(K.name);K.add.forEach(function(fe){Qe&&console.debug("Dexie upgrade patch: Creating missing index ".concat(K.name,".").concat(fe.src)),Aa(ie,fe)})}(A[N]);if(typeof E=="object")return E.value}}function qa(l,h){var w,N={del:[],add:[],change:[]};for(w in l)h[w]||N.del.push(w);for(w in h){var A=l[w],E=h[w];if(A){var K={name:w,def:E,recreate:!1,del:[],add:[],change:[]};if(""+(A.primKey.keyPath||"")!=""+(E.primKey.keyPath||"")||A.primKey.auto!==E.primKey.auto)K.recreate=!0,N.change.push(K);else{var ie=A.idxByName,fe=E.idxByName,me=void 0;for(me in ie)fe[me]||K.del.push(me);for(me in fe){var ye=ie[me],oe=fe[me];ye?ye.src!==oe.src&&K.change.push(oe):K.add.push(oe)}(0<K.del.length||0<K.add.length||0<K.change.length)&&N.change.push(K)}}else N.add.push([w,E])}return N}function oi(l,h,w,N){var A=l.db.createObjectStore(h,w.keyPath?{keyPath:w.keyPath,autoIncrement:w.auto}:{autoIncrement:w.auto});return N.forEach(function(E){return Aa(A,E)}),A}function xi(l,h){c(l).forEach(function(w){h.db.objectStoreNames.contains(w)||(Qe&&console.debug("Dexie: Creating missing table",w),oi(h,w,l[w].primKey,l[w].indexes))})}function Aa(l,h){l.createIndex(h.name,h.keyPath,{unique:h.unique,multiEntry:h.multi})}function ka(l,h,w){var N={};return F(h.objectStoreNames,0).forEach(function(A){for(var E=w.objectStore(A),K=bo(wa(me=E.keyPath),me||"",!0,!1,!!E.autoIncrement,me&&typeof me!="string",!0),ie=[],fe=0;fe<E.indexNames.length;++fe){var ye=E.index(E.indexNames[fe]),me=ye.keyPath,ye=bo(ye.name,me,!!ye.unique,!!ye.multiEntry,!1,me&&typeof me!="string",!1);ie.push(ye)}N[A]=xa(A,K,ie)}),N}function _i(l,h,w){for(var N=w.db.objectStoreNames,A=0;A<N.length;++A){var E=N[A],K=w.objectStore(E);l._hasGetAll="getAll"in K;for(var ie=0;ie<K.indexNames.length;++ie){var fe=K.indexNames[ie],me=K.index(fe).keyPath,ye=typeof me=="string"?me:"["+F(me).join("+")+"]";!h[E]||(me=h[E].idxByName[ye])&&(me.name=fe,delete h[E].idxByName[ye],h[E].idxByName[fe]=me)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&i.WorkerGlobalScope&&i instanceof i.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(l._hasGetAll=!1)}function xo(l){return l.split(",").map(function(h,w){var E=h.split(":"),N=(A=E[1])===null||A===void 0?void 0:A.trim(),A=(h=E[0].trim()).replace(/([&*]|\+\+)/g,""),E=/^\[/.test(A)?A.match(/^\[(.*)\]$/)[1].split("+"):A;return bo(A,E||null,/\&/.test(h),/\*/.test(h),/\+\+/.test(h),s(E),w===0,N)})}var v=(P.prototype._createTableSchema=xa,P.prototype._parseIndexSyntax=xo,P.prototype._parseStoresSpec=function(l,h){var w=this;c(l).forEach(function(N){if(l[N]!==null){var A=w._parseIndexSyntax(l[N]),E=A.shift();if(!E)throw new ae.Schema("Invalid schema for table "+N+": "+l[N]);if(E.unique=!0,E.multi)throw new ae.Schema("Primary key cannot be multiEntry*");A.forEach(function(K){if(K.auto)throw new ae.Schema("Only primary key can be marked as autoIncrement (++)");if(!K.keyPath)throw new ae.Schema("Index must have a name and cannot be an empty string")}),A=w._createTableSchema(N,E,A),h[N]=A}})},P.prototype.stores=function(w){var h=this.db;this._cfg.storesSource=this._cfg.storesSource?u(this._cfg.storesSource,w):w;var w=h._versions,N={},A={};return w.forEach(function(E){u(N,E._cfg.storesSource),A=E._cfg.dbschema={},E._parseStoresSpec(N,A)}),h._dbSchema=A,ra(h,[h._allTables,h,h.Transaction.prototype]),na(h,[h._allTables,h,h.Transaction.prototype,this._cfg.tables],c(A),A),h._storeNames=c(A),this},P.prototype.upgrade=function(l){return this._cfg.contentUpgrade=gt(this._cfg.contentUpgrade||Re,l),this},P);function P(){}function $(l,h){var w=l._dbNamesDB;return w||(w=l._dbNamesDB=new kr(Nr,{addons:[],indexedDB:l,IDBKeyRange:h})).version(1).stores({dbnames:"name"}),w.table("dbnames")}function ce(l){return l&&typeof l.databases=="function"}function Ae(l){return ar(function(){return tt.letThrough=!0,l()})}function qe(l){return!("from"in l)}var He=function(l,h){if(!this){var w=new He;return l&&"d"in l&&u(w,l),w}u(this,arguments.length?{d:1,from:l,to:1<arguments.length?h:l}:{d:0})};function dt(l,h,w){var N=Gt(h,w);if(!isNaN(N)){if(0<N)throw RangeError();if(qe(l))return u(l,{from:h,to:w,d:1});var A=l.l,N=l.r;if(Gt(w,l.from)<0)return A?dt(A,h,w):l.l={from:h,to:w,d:1,l:null,r:null},un(l);if(0<Gt(h,l.to))return N?dt(N,h,w):l.r={from:h,to:w,d:1,l:null,r:null},un(l);Gt(h,l.from)<0&&(l.from=h,l.l=null,l.d=N?N.d+1:1),0<Gt(w,l.to)&&(l.to=w,l.r=null,l.d=l.l?l.l.d+1:1),w=!l.r,A&&!l.l&&pt(l,A),N&&w&&pt(l,N)}}function pt(l,h){qe(h)||function w(N,fe){var E=fe.from,K=fe.to,ie=fe.l,fe=fe.r;dt(N,E,K),ie&&w(N,ie),fe&&w(N,fe)}(l,h)}function Mt(l,h){var w=Ft(h),N=w.next();if(N.done)return!1;for(var A=N.value,E=Ft(l),K=E.next(A.from),ie=K.value;!N.done&&!K.done;){if(Gt(ie.from,A.to)<=0&&0<=Gt(ie.to,A.from))return!0;Gt(A.from,ie.from)<0?A=(N=w.next(ie.from)).value:ie=(K=E.next(A.from)).value}return!1}function Ft(l){var h=qe(l)?null:{s:0,n:l};return{next:function(w){for(var N=0<arguments.length;h;)switch(h.s){case 0:if(h.s=1,N)for(;h.n.l&&Gt(w,h.n.from)<0;)h={up:h,n:h.n.l,s:1};else for(;h.n.l;)h={up:h,n:h.n.l,s:1};case 1:if(h.s=2,!N||Gt(w,h.n.to)<=0)return{value:h.n,done:!1};case 2:if(h.n.r){h.s=3,h={up:h,n:h.n.r,s:0};continue}case 3:h=h.up}return{done:!0}}}}function un(l){var h,w,N=(((h=l.r)===null||h===void 0?void 0:h.d)||0)-(((w=l.l)===null||w===void 0?void 0:w.d)||0),A=1<N?"r":N<-1?"l":"";A&&(h=A=="r"?"l":"r",w=r({},l),N=l[A],l.from=N.from,l.to=N.to,l[A]=N[A],w[A]=N[h],(l[h]=w).d=jn(w)),l.d=jn(l)}function jn(w){var h=w.r,w=w.l;return(h?w?Math.max(h.d,w.d):h.d:w?w.d:0)+1}function Rn(l,h){return c(h).forEach(function(w){l[w]?pt(l[w],h[w]):l[w]=function N(A){var E,K,ie={};for(E in A)b(A,E)&&(K=A[E],ie[E]=!K||typeof K!="object"||O.has(K.constructor)?K:N(K));return ie}(h[w])}),l}function bn(l,h){return l.all||h.all||Object.keys(l).some(function(w){return h[w]&&Mt(h[w],l[w])})}x(He.prototype,((Zn={add:function(l){return pt(this,l),this},addKey:function(l){return dt(this,l,l),this},addKeys:function(l){var h=this;return l.forEach(function(w){return dt(h,w,w)}),this},hasKey:function(l){var h=Ft(this).next(l).value;return h&&Gt(h.from,l)<=0&&0<=Gt(h.to,l)}})[we]=function(){return Ft(this)},Zn));var An={},zn={},Jn=!1;function Ar(l){Rn(zn,l),Jn||(Jn=!0,setTimeout(function(){Jn=!1,br(zn,!(zn={}))},0))}function br(l,h){h===void 0&&(h=!1);var w=new Set;if(l.all)for(var N=0,A=Object.values(An);N<A.length;N++)_o(K=A[N],l,w,h);else for(var E in l){var K,ie=/^idb\:\/\/(.*)\/(.*)\//.exec(E);ie&&(E=ie[1],ie=ie[2],(K=An["idb://".concat(E,"/").concat(ie)])&&_o(K,l,w,h))}w.forEach(function(fe){return fe()})}function _o(l,h,w,N){for(var A=[],E=0,K=Object.entries(l.queries.query);E<K.length;E++){for(var ie=K[E],fe=ie[0],me=[],ye=0,oe=ie[1];ye<oe.length;ye++){var pe=oe[ye];bn(h,pe.obsSet)?pe.subscribers.forEach(function(_e){return w.add(_e)}):N&&me.push(pe)}N&&A.push([fe,me])}if(N)for(var se=0,he=A;se<he.length;se++){var ve=he[se],fe=ve[0],me=ve[1];l.queries.query[fe]=me}}function Ua(l){var h=l._state,w=l._deps.indexedDB;if(h.isBeingOpened||l.idbdb)return h.dbReadyPromise.then(function(){return h.dbOpenError?Nn(h.dbOpenError):l});h.isBeingOpened=!0,h.dbOpenError=null,h.openComplete=!1;var N=h.openCanceller,A=Math.round(10*l.verno),E=!1;function K(){if(h.openCanceller!==N)throw new ae.DatabaseClosed("db.open() was cancelled")}function ie(){return new Xe(function(pe,se){if(K(),!w)throw new ae.MissingAPI;var he=l.name,ve=h.autoSchema||!A?w.open(he):w.open(he,A);if(!ve)throw new ae.MissingAPI;ve.onerror=$r(se),ve.onblocked=Dt(l._fireOnBlocked),ve.onupgradeneeded=Dt(function(_e){var ke;ye=ve.transaction,h.autoSchema&&!l._options.allowEmptyDB?(ve.onerror=ba,ye.abort(),ve.result.close(),(ke=w.deleteDatabase(he)).onsuccess=ke.onerror=Dt(function(){se(new ae.NoSuchDatabase("Database ".concat(he," doesnt exist")))})):(ye.onerror=$r(se),_e=_e.oldVersion>Math.pow(2,62)?0:_e.oldVersion,oe=_e<1,l.idbdb=ve.result,E&&Wo(l,ye),Sa(l,_e/10,ye,se))},se),ve.onsuccess=Dt(function(){ye=null;var _e,ke,Oe,Me,Fe,Ye=l.idbdb=ve.result,nt=F(Ye.objectStoreNames);if(0<nt.length)try{var Ze=Ye.transaction((Me=nt).length===1?Me[0]:Me,"readonly");if(h.autoSchema)ke=Ye,Oe=Ze,(_e=l).verno=ke.version/10,Oe=_e._dbSchema=ka(0,ke,Oe),_e._storeNames=F(ke.objectStoreNames,0),na(_e,[_e._allTables],c(Oe),Oe);else if(_i(l,l._dbSchema,Ze),((Fe=qa(ka(0,(Fe=l).idbdb,Ze),Fe._dbSchema)).add.length||Fe.change.some(function(et){return et.add.length||et.change.length}))&&!E)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Ye.close(),A=Ye.version+1,E=!0,pe(ie());wi(l,Ze)}catch{}Ci.push(l),Ye.onversionchange=Dt(function(et){h.vcFired=!0,l.on("versionchange").fire(et)}),Ye.onclose=Dt(function(et){l.on("close").fire(et)}),oe&&(Fe=l._deps,Ze=he,Ye=Fe.indexedDB,Fe=Fe.IDBKeyRange,ce(Ye)||Ze===Nr||$(Ye,Fe).put({name:Ze}).catch(Re)),pe()},se)}).catch(function(pe){switch(pe==null?void 0:pe.name){case"UnknownError":if(0<h.PR1398_maxLoop)return h.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),ie();break;case"VersionError":if(0<A)return A=0,ie()}return Xe.reject(pe)})}var fe,me=h.dbReadyResolve,ye=null,oe=!1;return Xe.race([N,(typeof navigator>"u"?Xe.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(pe){function se(){return indexedDB.databases().finally(pe)}fe=setInterval(se,100),se()}).finally(function(){return clearInterval(fe)}):Promise.resolve()).then(ie)]).then(function(){return K(),h.onReadyBeingFired=[],Xe.resolve(Ae(function(){return l.on.ready.fire(l.vip)})).then(function pe(){if(0<h.onReadyBeingFired.length){var se=h.onReadyBeingFired.reduce(gt,Re);return h.onReadyBeingFired=[],Xe.resolve(Ae(function(){return se(l.vip)})).then(pe)}})}).finally(function(){h.openCanceller===N&&(h.onReadyBeingFired=null,h.isBeingOpened=!1)}).catch(function(pe){h.dbOpenError=pe;try{ye&&ye.abort()}catch{}return N===h.openCanceller&&l._close(),Nn(pe)}).finally(function(){h.openComplete=!0,me()}).then(function(){var pe;return oe&&(pe={},l.tables.forEach(function(se){se.schema.indexes.forEach(function(he){he.name&&(pe["idb://".concat(l.name,"/").concat(se.name,"/").concat(he.name)]=new He(-1/0,[[[]]]))}),pe["idb://".concat(l.name,"/").concat(se.name,"/")]=pe["idb://".concat(l.name,"/").concat(se.name,"/:dels")]=new He(-1/0,[[[]]])}),vr(ya).fire(pe),br(pe,!0)),l})}function Ti(l){function h(E){return l.next(E)}var w=A(h),N=A(function(E){return l.throw(E)});function A(E){return function(fe){var ie=E(fe),fe=ie.value;return ie.done?fe:fe&&typeof fe.then=="function"?fe.then(w,N):s(fe)?Promise.all(fe).then(w,N):w(fe)}}return A(h)()}function si(l,h,w){for(var N=s(l)?l.slice():[l],A=0;A<w;++A)N.push(h);return N}var La={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(l){return r(r({},l),{table:function(h){var w=l.table(h),N=w.schema,A={},E=[];function K(oe,pe,se){var he=Ii(oe),ve=A[he]=A[he]||[],_e=oe==null?0:typeof oe=="string"?1:oe.length,ke=0<pe,ke=r(r({},se),{name:ke?"".concat(he,"(virtual-from:").concat(se.name,")"):se.name,lowLevelIndex:se,isVirtual:ke,keyTail:pe,keyLength:_e,extractKey:ta(oe),unique:!ke&&se.unique});return ve.push(ke),ke.isPrimaryKey||E.push(ke),1<_e&&K(_e===2?oe[0]:oe.slice(0,_e-1),pe+1,se),ve.sort(function(Oe,Me){return Oe.keyTail-Me.keyTail}),ke}h=K(N.primaryKey.keyPath,0,N.primaryKey),A[":id"]=[h];for(var ie=0,fe=N.indexes;ie<fe.length;ie++){var me=fe[ie];K(me.keyPath,0,me)}function ye(oe){var pe,se=oe.query.index;return se.isVirtual?r(r({},oe),{query:{index:se.lowLevelIndex,range:(pe=oe.query.range,se=se.keyTail,{type:pe.type===1?2:pe.type,lower:si(pe.lower,pe.lowerOpen?l.MAX_KEY:l.MIN_KEY,se),lowerOpen:!0,upper:si(pe.upper,pe.upperOpen?l.MIN_KEY:l.MAX_KEY,se),upperOpen:!0})}}):oe}return r(r({},w),{schema:r(r({},N),{primaryKey:h,indexes:E,getIndexByKeyPath:function(oe){return(oe=A[Ii(oe)])&&oe[0]}}),count:function(oe){return w.count(ye(oe))},query:function(oe){return w.query(ye(oe))},openCursor:function(oe){var pe=oe.query.index,se=pe.keyTail,he=pe.isVirtual,ve=pe.keyLength;return he?w.openCursor(ye(oe)).then(function(ke){return ke&&_e(ke)}):w.openCursor(oe);function _e(ke){return Object.create(ke,{continue:{value:function(Oe){Oe!=null?ke.continue(si(Oe,oe.reverse?l.MAX_KEY:l.MIN_KEY,se)):oe.unique?ke.continue(ke.key.slice(0,ve).concat(oe.reverse?l.MIN_KEY:l.MAX_KEY,se)):ke.continue()}},continuePrimaryKey:{value:function(Oe,Me){ke.continuePrimaryKey(si(Oe,l.MAX_KEY,se),Me)}},primaryKey:{get:function(){return ke.primaryKey}},key:{get:function(){var Oe=ke.key;return ve===1?Oe[0]:Oe.slice(0,ve)}},value:{get:function(){return ke.value}}})}}})}})}};function Oi(l,h,w,N){return w=w||{},N=N||"",c(l).forEach(function(A){var E,K,ie;b(h,A)?(E=l[A],K=h[A],typeof E=="object"&&typeof K=="object"&&E&&K?(ie=Se(E))!==Se(K)?w[N+A]=h[A]:ie==="Object"?Oi(E,K,w,N+A+"."):E!==K&&(w[N+A]=h[A]):E!==K&&(w[N+A]=h[A])):w[N+A]=void 0}),c(h).forEach(function(A){b(l,A)||(w[N+A]=h[A])}),w}function Ri(l,h){return h.type==="delete"?h.keys:h.keys||h.values.map(l.extractKey)}var yr={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(l){return r(r({},l),{table:function(h){var w=l.table(h),N=w.schema.primaryKey;return r(r({},w),{mutate:function(A){var E=tt.trans,K=E.table(h).hook,ie=K.deleting,fe=K.creating,me=K.updating;switch(A.type){case"add":if(fe.fire===Re)break;return E._promise("readwrite",function(){return ye(A)},!0);case"put":if(fe.fire===Re&&me.fire===Re)break;return E._promise("readwrite",function(){return ye(A)},!0);case"delete":if(ie.fire===Re)break;return E._promise("readwrite",function(){return ye(A)},!0);case"deleteRange":if(ie.fire===Re)break;return E._promise("readwrite",function(){return function oe(pe,se,he){return w.query({trans:pe,values:!1,query:{index:N,range:se},limit:he}).then(function(ve){var _e=ve.result;return ye({type:"delete",keys:_e,trans:pe}).then(function(ke){return 0<ke.numFailures?Promise.reject(ke.failures[0]):_e.length<he?{failures:[],numFailures:0,lastResult:void 0}:oe(pe,r(r({},se),{lower:_e[_e.length-1],lowerOpen:!0}),he)})})}(A.trans,A.range,1e4)},!0)}return w.mutate(A);function ye(oe){var pe,se,he,ve=tt.trans,_e=oe.keys||Ri(N,oe);if(!_e)throw new Error("Keys missing");return(oe=oe.type==="add"||oe.type==="put"?r(r({},oe),{keys:_e}):r({},oe)).type!=="delete"&&(oe.values=a([],oe.values)),oe.keys&&(oe.keys=a([],oe.keys)),pe=w,he=_e,((se=oe).type==="add"?Promise.resolve([]):pe.getMany({trans:se.trans,keys:he,cache:"immutable"})).then(function(ke){var Oe=_e.map(function(Me,Fe){var Ye,nt,Ze,et=ke[Fe],ot={onerror:null,onsuccess:null};return oe.type==="delete"?ie.fire.call(ot,Me,et,ve):oe.type==="add"||et===void 0?(Ye=fe.fire.call(ot,Me,oe.values[Fe],ve),Me==null&&Ye!=null&&(oe.keys[Fe]=Me=Ye,N.outbound||re(oe.values[Fe],N.keyPath,Me))):(Ye=Oi(et,oe.values[Fe]),(nt=me.fire.call(ot,Ye,Me,et,ve))&&(Ze=oe.values[Fe],Object.keys(nt).forEach(function(it){b(Ze,it)?Ze[it]=nt[it]:re(Ze,it,nt[it])}))),ot});return w.mutate(oe).then(function(Me){for(var Fe=Me.failures,Ye=Me.results,nt=Me.numFailures,Me=Me.lastResult,Ze=0;Ze<_e.length;++Ze){var et=(Ye||_e)[Ze],ot=Oe[Ze];et==null?ot.onerror&&ot.onerror(Fe[Ze]):ot.onsuccess&&ot.onsuccess(oe.type==="put"&&ke[Ze]?oe.values[Ze]:et)}return{failures:Fe,results:Ye,numFailures:nt,lastResult:Me}}).catch(function(Me){return Oe.forEach(function(Fe){return Fe.onerror&&Fe.onerror(Me)}),Promise.reject(Me)})})}}})}})}};function ia(l,h,w){try{if(!h||h.keys.length<l.length)return null;for(var N=[],A=0,E=0;A<h.keys.length&&E<l.length;++A)Gt(h.keys[A],l[E])===0&&(N.push(w?ee(h.values[A]):h.values[A]),++E);return N.length===l.length?N:null}catch{return null}}var Pa={stack:"dbcore",level:-1,create:function(l){return{table:function(h){var w=l.table(h);return r(r({},w),{getMany:function(N){if(!N.cache)return w.getMany(N);var A=ia(N.keys,N.trans._cache,N.cache==="clone");return A?Xe.resolve(A):w.getMany(N).then(function(E){return N.trans._cache={keys:N.keys,values:N.cache==="clone"?ee(E):E},E})},mutate:function(N){return N.type!=="add"&&(N.trans._cache=null),w.mutate(N)}})}}}};function Ha(l,h){return l.trans.mode==="readonly"&&!!l.subscr&&!l.trans.explicit&&l.trans.db._options.cache!=="disabled"&&!h.schema.primaryKey.outbound}function Wa(l,h){switch(l){case"query":return h.values&&!h.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var qn={stack:"dbcore",level:0,name:"Observability",create:function(l){var h=l.schema.name,w=new He(l.MIN_KEY,l.MAX_KEY);return r(r({},l),{transaction:function(N,A,E){if(tt.subscr&&A!=="readonly")throw new ae.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(tt.querier));return l.transaction(N,A,E)},table:function(N){var A=l.table(N),E=A.schema,K=E.primaryKey,oe=E.indexes,ie=K.extractKey,fe=K.outbound,me=K.autoIncrement&&oe.filter(function(se){return se.compound&&se.keyPath.includes(K.keyPath)}),ye=r(r({},A),{mutate:function(se){function he(it){return it="idb://".concat(h,"/").concat(N,"/").concat(it),Me[it]||(Me[it]=new He)}var ve,_e,ke,Oe=se.trans,Me=se.mutatedParts||(se.mutatedParts={}),Fe=he(""),Ye=he(":dels"),nt=se.type,ot=se.type==="deleteRange"?[se.range]:se.type==="delete"?[se.keys]:se.values.length<50?[Ri(K,se).filter(function(it){return it}),se.values]:[],Ze=ot[0],et=ot[1],ot=se.trans._cache;return s(Ze)?(Fe.addKeys(Ze),(ot=nt==="delete"||Ze.length===et.length?ia(Ze,ot):null)||Ye.addKeys(Ze),(ot||et)&&(ve=he,_e=ot,ke=et,E.indexes.forEach(function(it){var ct=ve(it.name||"");function Ht(qt){return qt!=null?it.extractKey(qt):null}function nn(qt){return it.multiEntry&&s(qt)?qt.forEach(function(Mn){return ct.addKey(Mn)}):ct.addKey(qt)}(_e||ke).forEach(function(qt,dr){var Bt=_e&&Ht(_e[dr]),dr=ke&&Ht(ke[dr]);Gt(Bt,dr)!==0&&(Bt!=null&&nn(Bt),dr!=null&&nn(dr))})}))):Ze?(et={from:(et=Ze.lower)!==null&&et!==void 0?et:l.MIN_KEY,to:(et=Ze.upper)!==null&&et!==void 0?et:l.MAX_KEY},Ye.add(et),Fe.add(et)):(Fe.add(w),Ye.add(w),E.indexes.forEach(function(it){return he(it.name).add(w)})),A.mutate(se).then(function(it){return!Ze||se.type!=="add"&&se.type!=="put"||(Fe.addKeys(it.results),me&&me.forEach(function(ct){for(var Ht=se.values.map(function(Bt){return ct.extractKey(Bt)}),nn=ct.keyPath.findIndex(function(Bt){return Bt===K.keyPath}),qt=0,Mn=it.results.length;qt<Mn;++qt)Ht[qt][nn]=it.results[qt];he(ct.name).addKeys(Ht)})),Oe.mutatedParts=Rn(Oe.mutatedParts||{},Me),it})}}),oe=function(he){var ve=he.query,he=ve.index,ve=ve.range;return[he,new He((he=ve.lower)!==null&&he!==void 0?he:l.MIN_KEY,(ve=ve.upper)!==null&&ve!==void 0?ve:l.MAX_KEY)]},pe={get:function(se){return[K,new He(se.key)]},getMany:function(se){return[K,new He().addKeys(se.keys)]},count:oe,query:oe,openCursor:oe};return c(pe).forEach(function(se){ye[se]=function(he){var ve=tt.subscr,_e=!!ve,ke=Ha(tt,A)&&Wa(se,he)?he.obsSet={}:ve;if(_e){var Oe=function(et){return et="idb://".concat(h,"/").concat(N,"/").concat(et),ke[et]||(ke[et]=new He)},Me=Oe(""),Fe=Oe(":dels"),ve=pe[se](he),_e=ve[0],ve=ve[1];if((se==="query"&&_e.isPrimaryKey&&!he.values?Fe:Oe(_e.name||"")).add(ve),!_e.isPrimaryKey){if(se!=="count"){var Ye=se==="query"&&fe&&he.values&&A.query(r(r({},he),{values:!1}));return A[se].apply(this,arguments).then(function(et){if(se==="query"){if(fe&&he.values)return Ye.then(function(Ht){return Ht=Ht.result,Me.addKeys(Ht),et});var ot=he.values?et.result.map(ie):et.result;(he.values?Me:Fe).addKeys(ot)}else if(se==="openCursor"){var it=et,ct=he.values;return it&&Object.create(it,{key:{get:function(){return Fe.addKey(it.primaryKey),it.key}},primaryKey:{get:function(){var Ht=it.primaryKey;return Fe.addKey(Ht),Ht}},value:{get:function(){return ct&&Me.addKey(it.primaryKey),it.value}}})}return et})}Fe.add(w)}}return A[se].apply(this,arguments)}}),ye}})}};function Ni(l,h,w){if(w.numFailures===0)return h;if(h.type==="deleteRange")return null;var N=h.keys?h.keys.length:"values"in h&&h.values?h.values.length:1;return w.numFailures===N?null:(h=r({},h),s(h.keys)&&(h.keys=h.keys.filter(function(A,E){return!(E in w.failures)})),"values"in h&&s(h.values)&&(h.values=h.values.filter(function(A,E){return!(E in w.failures)})),h)}function aa(l,h){return w=l,((N=h).lower===void 0||(N.lowerOpen?0<Gt(w,N.lower):0<=Gt(w,N.lower)))&&(l=l,(h=h).upper===void 0||(h.upperOpen?Gt(l,h.upper)<0:Gt(l,h.upper)<=0));var w,N}function No(l,h,pe,N,A,E){if(!pe||pe.length===0)return l;var K=h.query.index,ie=K.multiEntry,fe=h.query.range,me=N.schema.primaryKey.extractKey,ye=K.extractKey,oe=(K.lowLevelIndex||K).extractKey,pe=pe.reduce(function(se,he){var ve=se,_e=[];if(he.type==="add"||he.type==="put")for(var ke=new He,Oe=he.values.length-1;0<=Oe;--Oe){var Me,Fe=he.values[Oe],Ye=me(Fe);ke.hasKey(Ye)||(Me=ye(Fe),(ie&&s(Me)?Me.some(function(it){return aa(it,fe)}):aa(Me,fe))&&(ke.addKey(Ye),_e.push(Fe)))}switch(he.type){case"add":var nt=new He().addKeys(h.values?se.map(function(ct){return me(ct)}):se),ve=se.concat(h.values?_e.filter(function(ct){return ct=me(ct),!nt.hasKey(ct)&&(nt.addKey(ct),!0)}):_e.map(function(ct){return me(ct)}).filter(function(ct){return!nt.hasKey(ct)&&(nt.addKey(ct),!0)}));break;case"put":var Ze=new He().addKeys(he.values.map(function(ct){return me(ct)}));ve=se.filter(function(ct){return!Ze.hasKey(h.values?me(ct):ct)}).concat(h.values?_e:_e.map(function(ct){return me(ct)}));break;case"delete":var et=new He().addKeys(he.keys);ve=se.filter(function(ct){return!et.hasKey(h.values?me(ct):ct)});break;case"deleteRange":var ot=he.range;ve=se.filter(function(ct){return!aa(me(ct),ot)})}return ve},l);return pe===l?l:(pe.sort(function(se,he){return Gt(oe(se),oe(he))||Gt(me(se),me(he))}),h.limit&&h.limit<1/0&&(pe.length>h.limit?pe.length=h.limit:l.length===h.limit&&pe.length<h.limit&&(A.dirty=!0)),E?Object.freeze(pe):pe)}function zr(l,h){return Gt(l.lower,h.lower)===0&&Gt(l.upper,h.upper)===0&&!!l.lowerOpen==!!h.lowerOpen&&!!l.upperOpen==!!h.upperOpen}function ja(l,h){return function(w,N,A,E){if(w===void 0)return N!==void 0?-1:0;if(N===void 0)return 1;if((N=Gt(w,N))===0){if(A&&E)return 0;if(A)return 1;if(E)return-1}return N}(l.lower,h.lower,l.lowerOpen,h.lowerOpen)<=0&&0<=function(w,N,A,E){if(w===void 0)return N!==void 0?1:0;if(N===void 0)return-1;if((N=Gt(w,N))===0){if(A&&E)return 0;if(A)return-1;if(E)return 1}return N}(l.upper,h.upper,l.upperOpen,h.upperOpen)}function So(l,h,w,N){l.subscribers.add(w),N.addEventListener("abort",function(){var A,E;l.subscribers.delete(w),l.subscribers.size===0&&(A=l,E=h,setTimeout(function(){A.subscribers.size===0&&Ne(E,A)},3e3))})}var Ao={stack:"dbcore",level:0,name:"Cache",create:function(l){var h=l.schema.name;return r(r({},l),{transaction:function(w,N,A){var E,K,ie=l.transaction(w,N,A);return N==="readwrite"&&(K=(E=new AbortController).signal,A=function(fe){return function(){if(E.abort(),N==="readwrite"){for(var me=new Set,ye=0,oe=w;ye<oe.length;ye++){var pe=oe[ye],se=An["idb://".concat(h,"/").concat(pe)];if(se){var he=l.table(pe),ve=se.optimisticOps.filter(function(ct){return ct.trans===ie});if(ie._explicit&&fe&&ie.mutatedParts)for(var _e=0,ke=Object.values(se.queries.query);_e<ke.length;_e++)for(var Oe=0,Me=(nt=ke[_e]).slice();Oe<Me.length;Oe++)bn((Ze=Me[Oe]).obsSet,ie.mutatedParts)&&(Ne(nt,Ze),Ze.subscribers.forEach(function(ct){return me.add(ct)}));else if(0<ve.length){se.optimisticOps=se.optimisticOps.filter(function(ct){return ct.trans!==ie});for(var Fe=0,Ye=Object.values(se.queries.query);Fe<Ye.length;Fe++)for(var nt,Ze,et,ot=0,it=(nt=Ye[Fe]).slice();ot<it.length;ot++)(Ze=it[ot]).res!=null&&ie.mutatedParts&&(fe&&!Ze.dirty?(et=Object.isFrozen(Ze.res),et=No(Ze.res,Ze.req,ve,he,Ze,et),Ze.dirty?(Ne(nt,Ze),Ze.subscribers.forEach(function(ct){return me.add(ct)})):et!==Ze.res&&(Ze.res=et,Ze.promise=Xe.resolve({result:et}))):(Ze.dirty&&Ne(nt,Ze),Ze.subscribers.forEach(function(ct){return me.add(ct)})))}}}me.forEach(function(ct){return ct()})}}},ie.addEventListener("abort",A(!1),{signal:K}),ie.addEventListener("error",A(!1),{signal:K}),ie.addEventListener("complete",A(!0),{signal:K})),ie},table:function(w){var N=l.table(w),A=N.schema.primaryKey;return r(r({},N),{mutate:function(E){var K=tt.trans;if(A.outbound||K.db._options.cache==="disabled"||K.explicit||K.idbtrans.mode!=="readwrite")return N.mutate(E);var ie=An["idb://".concat(h,"/").concat(w)];return ie?(K=N.mutate(E),E.type!=="add"&&E.type!=="put"||!(50<=E.values.length||Ri(A,E).some(function(fe){return fe==null}))?(ie.optimisticOps.push(E),E.mutatedParts&&Ar(E.mutatedParts),K.then(function(fe){0<fe.numFailures&&(Ne(ie.optimisticOps,E),(fe=Ni(0,E,fe))&&ie.optimisticOps.push(fe),E.mutatedParts&&Ar(E.mutatedParts))}),K.catch(function(){Ne(ie.optimisticOps,E),E.mutatedParts&&Ar(E.mutatedParts)})):K.then(function(fe){var me=Ni(0,r(r({},E),{values:E.values.map(function(ye,oe){var pe;return fe.failures[oe]?ye:(ye=(pe=A.keyPath)!==null&&pe!==void 0&&pe.includes(".")?ee(ye):r({},ye),re(ye,A.keyPath,fe.results[oe]),ye)})}),fe);ie.optimisticOps.push(me),queueMicrotask(function(){return E.mutatedParts&&Ar(E.mutatedParts)})}),K):N.mutate(E)},query:function(E){if(!Ha(tt,N)||!Wa("query",E))return N.query(E);var K=((me=tt.trans)===null||me===void 0?void 0:me.db._options.cache)==="immutable",oe=tt,ie=oe.requery,fe=oe.signal,me=function(he,ve,_e,ke){var Oe=An["idb://".concat(he,"/").concat(ve)];if(!Oe)return[];if(!(ve=Oe.queries[_e]))return[null,!1,Oe,null];var Me=ve[(ke.query?ke.query.index.name:null)||""];if(!Me)return[null,!1,Oe,null];switch(_e){case"query":var Fe=Me.find(function(Ye){return Ye.req.limit===ke.limit&&Ye.req.values===ke.values&&zr(Ye.req.query.range,ke.query.range)});return Fe?[Fe,!0,Oe,Me]:[Me.find(function(Ye){return("limit"in Ye.req?Ye.req.limit:1/0)>=ke.limit&&(!ke.values||Ye.req.values)&&ja(Ye.req.query.range,ke.query.range)}),!1,Oe,Me];case"count":return Fe=Me.find(function(Ye){return zr(Ye.req.query.range,ke.query.range)}),[Fe,!!Fe,Oe,Me]}}(h,w,"query",E),ye=me[0],oe=me[1],pe=me[2],se=me[3];return ye&&oe?ye.obsSet=E.obsSet:(oe=N.query(E).then(function(he){var ve=he.result;if(ye&&(ye.res=ve),K){for(var _e=0,ke=ve.length;_e<ke;++_e)Object.freeze(ve[_e]);Object.freeze(ve)}else he.result=ee(ve);return he}).catch(function(he){return se&&ye&&Ne(se,ye),Promise.reject(he)}),ye={obsSet:E.obsSet,promise:oe,subscribers:new Set,type:"query",req:E,dirty:!1},se?se.push(ye):(se=[ye],(pe=pe||(An["idb://".concat(h,"/").concat(w)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[E.query.index.name||""]=se)),So(ye,se,ie,fe),ye.promise.then(function(he){return{result:No(he.result,E,pe==null?void 0:pe.optimisticOps,N,ye,K)}})}})}})}};function li(l,h){return new Proxy(l,{get:function(w,N,A){return N==="db"?h:Reflect.get(w,N,A)}})}var kr=(ln.prototype.version=function(l){if(isNaN(l)||l<.1)throw new ae.Type("Given version is not a positive number");if(l=Math.round(10*l)/10,this.idbdb||this._state.isBeingOpened)throw new ae.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,l);var h=this._versions,w=h.filter(function(N){return N._cfg.version===l})[0];return w||(w=new this.Version(l),h.push(w),h.sort(wo),w.stores({}),this._state.autoSchema=!1,w)},ln.prototype._whenReady=function(l){var h=this;return this.idbdb&&(this._state.openComplete||tt.letThrough||this._vip)?l():new Xe(function(w,N){if(h._state.openComplete)return N(new ae.DatabaseClosed(h._state.dbOpenError));if(!h._state.isBeingOpened){if(!h._state.autoOpen)return void N(new ae.DatabaseClosed);h.open().catch(Re)}h._state.dbReadyPromise.then(w,N)}).then(l)},ln.prototype.use=function(l){var h=l.stack,w=l.create,N=l.level,A=l.name;return A&&this.unuse({stack:h,name:A}),l=this._middlewares[h]||(this._middlewares[h]=[]),l.push({stack:h,create:w,level:N??10,name:A}),l.sort(function(E,K){return E.level-K.level}),this},ln.prototype.unuse=function(l){var h=l.stack,w=l.name,N=l.create;return h&&this._middlewares[h]&&(this._middlewares[h]=this._middlewares[h].filter(function(A){return N?A.create!==N:!!w&&A.name!==w})),this},ln.prototype.open=function(){var l=this;return Fr(Et,function(){return Ua(l)})},ln.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var l=this._state,h=Ci.indexOf(this);if(0<=h&&Ci.splice(h,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}l.isBeingOpened||(l.dbReadyPromise=new Xe(function(w){l.dbReadyResolve=w}),l.openCanceller=new Xe(function(w,N){l.cancelOpen=N}))},ln.prototype.close=function(w){var h=(w===void 0?{disableAutoOpen:!0}:w).disableAutoOpen,w=this._state;h?(w.isBeingOpened&&w.cancelOpen(new ae.DatabaseClosed),this._close(),w.autoOpen=!1,w.dbOpenError=new ae.DatabaseClosed):(this._close(),w.autoOpen=this._options.autoOpen||w.isBeingOpened,w.openComplete=!1,w.dbOpenError=null)},ln.prototype.delete=function(l){var h=this;l===void 0&&(l={disableAutoOpen:!0});var w=0<arguments.length&&typeof arguments[0]!="object",N=this._state;return new Xe(function(A,E){function K(){h.close(l);var ie=h._deps.indexedDB.deleteDatabase(h.name);ie.onsuccess=Dt(function(){var fe,me,ye;fe=h._deps,me=h.name,ye=fe.indexedDB,fe=fe.IDBKeyRange,ce(ye)||me===Nr||$(ye,fe).delete(me).catch(Re),A()}),ie.onerror=$r(E),ie.onblocked=h._fireOnBlocked}if(w)throw new ae.InvalidArgument("Invalid closeOptions argument to db.delete()");N.isBeingOpened?N.dbReadyPromise.then(K):K()})},ln.prototype.backendDB=function(){return this.idbdb},ln.prototype.isOpen=function(){return this.idbdb!==null},ln.prototype.hasBeenClosed=function(){var l=this._state.dbOpenError;return l&&l.name==="DatabaseClosed"},ln.prototype.hasFailed=function(){return this._state.dbOpenError!==null},ln.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(ln.prototype,"tables",{get:function(){var l=this;return c(this._allTables).map(function(h){return l._allTables[h]})},enumerable:!1,configurable:!0}),ln.prototype.transaction=function(){var l=(function(h,w,N){var A=arguments.length;if(A<2)throw new ae.InvalidArgument("Too few arguments");for(var E=new Array(A-1);--A;)E[A-1]=arguments[A];return N=E.pop(),[h,de(E),N]}).apply(this,arguments);return this._transaction.apply(this,l)},ln.prototype._transaction=function(l,h,w){var N=this,A=tt.trans;A&&A.db===this&&l.indexOf("!")===-1||(A=null);var E,K,ie=l.indexOf("?")!==-1;l=l.replace("!","").replace("?","");try{if(K=h.map(function(me){if(me=me instanceof N.Table?me.name:me,typeof me!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return me}),l=="r"||l===pa)E=pa;else{if(l!="rw"&&l!=Ma)throw new ae.InvalidArgument("Invalid transaction mode: "+l);E=Ma}if(A){if(A.mode===pa&&E===Ma){if(!ie)throw new ae.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");A=null}A&&K.forEach(function(me){if(A&&A.storeNames.indexOf(me)===-1){if(!ie)throw new ae.SubTransaction("Table "+me+" not included in parent transaction.");A=null}}),ie&&A&&!A.active&&(A=null)}}catch(me){return A?A._promise(null,function(ye,oe){oe(me)}):Nn(me)}var fe=(function me(ye,oe,pe,se,he){return Xe.resolve().then(function(){var ve=tt.transless||tt,_e=ye._createTransaction(oe,pe,ye._dbSchema,se);if(_e.explicit=!0,ve={trans:_e,transless:ve},se)_e.idbtrans=se.idbtrans;else try{_e.create(),_e.idbtrans._explicit=!0,ye._state.PR1398_maxLoop=3}catch(Me){return Me.name===Z.InvalidState&&ye.isOpen()&&0<--ye._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),ye.close({disableAutoOpen:!1}),ye.open().then(function(){return me(ye,oe,pe,null,he)})):Nn(Me)}var ke,Oe=Be(he);return Oe&&_r(),ve=Xe.follow(function(){var Me;(ke=he.call(_e,_e))&&(Oe?(Me=or.bind(null,null),ke.then(Me,Me)):typeof ke.next=="function"&&typeof ke.throw=="function"&&(ke=Ti(ke)))},ve),(ke&&typeof ke.then=="function"?Xe.resolve(ke).then(function(Me){return _e.active?Me:Nn(new ae.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):ve.then(function(){return ke})).then(function(Me){return se&&_e._resolve(),_e._completion.then(function(){return Me})}).catch(function(Me){return _e._reject(Me),Nn(Me)})})}).bind(null,this,E,K,A,w);return A?A._promise(E,fe,"lock"):tt.trans?Fr(tt.transless,function(){return N._whenReady(fe)}):this._whenReady(fe)},ln.prototype.table=function(l){if(!b(this._allTables,l))throw new ae.InvalidTable("Table ".concat(l," does not exist"));return this._allTables[l]},ln);function ln(l,h){var w=this;this._middlewares={},this.verno=0;var N=ln.dependencies;this._options=h=r({addons:ln.addons,autoOpen:!0,indexedDB:N.indexedDB,IDBKeyRange:N.IDBKeyRange,cache:"cloned"},h),this._deps={indexedDB:h.indexedDB,IDBKeyRange:h.IDBKeyRange},N=h.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var A,E,K,ie,fe,me={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Re,dbReadyPromise:null,cancelOpen:Re,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:h.autoOpen};me.dbReadyPromise=new Xe(function(oe){me.dbReadyResolve=oe}),me.openCanceller=new Xe(function(oe,pe){me.cancelOpen=pe}),this._state=me,this.name=l,this.on=ni(this,"populate","blocked","versionchange","close",{ready:[gt,Re]}),this.once=function(oe,pe){var se=function(){for(var he=[],ve=0;ve<arguments.length;ve++)he[ve]=arguments[ve];w.on(oe).unsubscribe(se),pe.apply(w,he)};return w.on(oe,se)},this.on.ready.subscribe=V(this.on.ready.subscribe,function(oe){return function(pe,se){ln.vip(function(){var he,ve=w._state;ve.openComplete?(ve.dbOpenError||Xe.resolve().then(pe),se&&oe(pe)):ve.onReadyBeingFired?(ve.onReadyBeingFired.push(pe),se&&oe(pe)):(oe(pe),he=w,se||oe(function _e(){he.on.ready.unsubscribe(pe),he.on.ready.unsubscribe(_e)}))})}}),this.Collection=(A=this,Sr(Qi.prototype,function(ke,_e){this.db=A;var se=ho,he=null;if(_e)try{se=_e()}catch(Oe){he=Oe}var ve=ke._ctx,_e=ve.table,ke=_e.hook.reading.fire;this._ctx={table:_e,index:ve.index,isPrimKey:!ve.index||_e.schema.primKey.keyPath&&ve.index===_e.schema.primKey.name,range:se,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:he,or:ve.or,valueMapper:ke!==Ke?ke:null}})),this.Table=(E=this,Sr(mo.prototype,function(oe,pe,se){this.db=E,this._tx=se,this.name=oe,this.schema=pe,this.hook=E._allTables[oe]?E._allTables[oe].hook:ni(null,{creating:[Ot,Re],reading:[Ie,Ke],updating:[ut,Re],deleting:[St,Re]})})),this.Transaction=(K=this,Sr(Ei.prototype,function(oe,pe,se,he,ve){var _e=this;oe!=="readonly"&&pe.forEach(function(ke){ke=(ke=se[ke])===null||ke===void 0?void 0:ke.yProps,ke&&(pe=pe.concat(ke.map(function(Oe){return Oe.updatesTable})))}),this.db=K,this.mode=oe,this.storeNames=pe,this.schema=se,this.chromeTransactionDurability=he,this.idbtrans=null,this.on=ni(this,"complete","error","abort"),this.parent=ve||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Xe(function(ke,Oe){_e._resolve=ke,_e._reject=Oe}),this._completion.then(function(){_e.active=!1,_e.on.complete.fire()},function(ke){var Oe=_e.active;return _e.active=!1,_e.on.error.fire(ke),_e.parent?_e.parent._reject(ke):Oe&&_e.idbtrans&&_e.idbtrans.abort(),Nn(ke)})})),this.Version=(ie=this,Sr(v.prototype,function(oe){this.db=ie,this._cfg={version:oe,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(fe=this,Sr(za.prototype,function(oe,pe,se){if(this.db=fe,this._ctx={table:oe,index:pe===":id"?null:pe,or:se},this._cmp=this._ascending=Gt,this._descending=function(he,ve){return Gt(ve,he)},this._max=function(he,ve){return 0<Gt(he,ve)?he:ve},this._min=function(he,ve){return Gt(he,ve)<0?he:ve},this._IDBKeyRange=fe._deps.IDBKeyRange,!this._IDBKeyRange)throw new ae.MissingAPI})),this.on("versionchange",function(oe){0<oe.newVersion?console.warn("Another connection wants to upgrade database '".concat(w.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(w.name,"'. Closing db now to resume the delete request.")),w.close({disableAutoOpen:!1})}),this.on("blocked",function(oe){!oe.newVersion||oe.newVersion<oe.oldVersion?console.warn("Dexie.delete('".concat(w.name,"') was blocked")):console.warn("Upgrade '".concat(w.name,"' blocked by other connection holding version ").concat(oe.oldVersion/10))}),this._maxKey=ai(h.IDBKeyRange),this._createTransaction=function(oe,pe,se,he){return new w.Transaction(oe,pe,se,w._options.chromeTransactionDurability,he)},this._fireOnBlocked=function(oe){w.on("blocked").fire(oe),Ci.filter(function(pe){return pe.name===w.name&&pe!==w&&!pe._state.vcFired}).map(function(pe){return pe.on("versionchange").fire(oe)})},this.use(Pa),this.use(Ao),this.use(qn),this.use(La),this.use(yr);var ye=new Proxy(this,{get:function(oe,pe,se){if(pe==="_vip")return!0;if(pe==="table")return function(ve){return li(w.table(ve),ye)};var he=Reflect.get(oe,pe,se);return he instanceof mo?li(he,ye):pe==="tables"?he.map(function(ve){return li(ve,ye)}):pe==="_createTransaction"?function(){return li(he.apply(this,arguments),ye)}:he}});this.vip=ye,N.forEach(function(oe){return oe(w)})}var wr,Zn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Di=(Si.prototype.subscribe=function(l,h,w){return this._subscribe(l&&typeof l!="function"?l:{next:l,error:h,complete:w})},Si.prototype[Zn]=function(){return this},Si);function Si(l){this._subscribe=l}try{wr={indexedDB:i.indexedDB||i.mozIndexedDB||i.webkitIndexedDB||i.msIndexedDB,IDBKeyRange:i.IDBKeyRange||i.webkitIDBKeyRange}}catch{wr={indexedDB:null,IDBKeyRange:null}}function Va(l){var h,w=!1,N=new Di(function(A){var E=Be(l),K,ie=!1,fe={},me={},ye={get closed(){return ie},unsubscribe:function(){ie||(ie=!0,K&&K.abort(),oe&&vr.storagemutated.unsubscribe(se))}};A.start&&A.start(ye);var oe=!1,pe=function(){return Ji(he)},se=function(ve){Rn(fe,ve),bn(me,fe)&&pe()},he=function(){var ve,_e,ke;!ie&&wr.indexedDB&&(fe={},ve={},K&&K.abort(),K=new AbortController,ke=function(Oe){var Me=Kn();try{E&&_r();var Fe=ar(l,Oe);return Fe=E?Fe.finally(or):Fe}finally{Me&&lt()}}(_e={subscr:ve,signal:K.signal,requery:pe,querier:l,trans:null}),Promise.resolve(ke).then(function(Oe){w=!0,h=Oe,ie||_e.signal.aborted||(fe={},function(Me){for(var Fe in Me)if(b(Me,Fe))return;return 1}(me=ve)||oe||(vr(ya,se),oe=!0),Ji(function(){return!ie&&A.next&&A.next(Oe)}))},function(Oe){w=!1,["DatabaseClosedError","AbortError"].includes(Oe==null?void 0:Oe.name)||ie||Ji(function(){ie||A.error&&A.error(Oe)})}))};return setTimeout(pe,0),ye});return N.hasValue=function(){return w},N.getValue=function(){return h},N}var Yr=kr;function Dn(l){var h=fr;try{fr=!0,vr.storagemutated.fire(l),br(l,!0)}finally{fr=h}}x(Yr,r(r({},De),{delete:function(l){return new Yr(l,{addons:[]}).delete()},exists:function(l){return new Yr(l,{addons:[]}).open().then(function(h){return h.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(l){try{return h=Yr.dependencies,w=h.indexedDB,h=h.IDBKeyRange,(ce(w)?Promise.resolve(w.databases()).then(function(N){return N.map(function(A){return A.name}).filter(function(A){return A!==Nr})}):$(w,h).toCollection().primaryKeys()).then(l)}catch{return Nn(new ae.MissingAPI)}var h,w},defineClass:function(){return function(l){u(this,l)}},ignoreTransaction:function(l){return tt.trans?Fr(tt.transless,l):l()},vip:Ae,async:function(l){return function(){try{var h=Ti(l.apply(this,arguments));return h&&typeof h.then=="function"?h:Xe.resolve(h)}catch(w){return Nn(w)}}},spawn:function(l,h,w){try{var N=Ti(l.apply(w,h||[]));return N&&typeof N.then=="function"?N:Xe.resolve(N)}catch(A){return Nn(A)}},currentTransaction:{get:function(){return tt.trans||null}},waitFor:function(l,h){return h=Xe.resolve(typeof l=="function"?Yr.ignoreTransaction(l):l).timeout(h||6e4),tt.trans?tt.trans.waitFor(h):h},Promise:Xe,debug:{get:function(){return Qe},set:function(l){xt(l)}},derive:k,extend:u,props:x,override:V,Events:ni,on:vr,liveQuery:Va,extendObservabilitySet:Rn,getByKeyPath:ue,setByKeyPath:re,delByKeyPath:function(l,h){typeof h=="string"?re(l,h,void 0):"length"in h&&[].map.call(h,function(w){re(l,w,void 0)})},shallowClone:Q,deepClone:ee,getObjectDiff:Oi,cmp:Gt,asap:be,minKey:-1/0,addons:[],connections:Ci,errnames:Z,dependencies:wr,cache:An,semVer:"4.2.0",version:"4.2.0".split(".").map(function(l){return parseInt(l)}).reduce(function(l,h,w){return l+h/Math.pow(10,2*w)})})),Yr.maxKey=ai(Yr.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(vr(ya,function(l){fr||(l=new CustomEvent(vo,{detail:l}),fr=!0,dispatchEvent(l),fr=!1)}),addEventListener(vo,function(l){l=l.detail,fr||Dn(l)}));var Mi,fr=!1,ci=function(){};return typeof BroadcastChannel<"u"&&((ci=function(){(Mi=new BroadcastChannel(vo)).onmessage=function(l){return l.data&&Dn(l.data)}})(),typeof Mi.unref=="function"&&Mi.unref(),vr(ya,function(l){fr||Mi.postMessage(l)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(l){if(!kr.disableBfCache&&l.persisted){Qe&&console.debug("Dexie: handling persisted pagehide"),Mi!=null&&Mi.close();for(var h=0,w=Ci;h<w.length;h++)w[h].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(l){!kr.disableBfCache&&l.persisted&&(Qe&&console.debug("Dexie: handling persisted pageshow"),ci(),Dn({all:new He(-1/0,[[]])}))})),Xe.rejectionMapper=function(l,h){return!l||l instanceof D||l instanceof TypeError||l instanceof SyntaxError||!l.name||!Le[l.name]?l:(h=new Le[l.name](h||l.message,l),"stack"in l&&L(h,"stack",{get:function(){return this.inner.stack}}),h)},xt(Qe),r(kr,Object.freeze({__proto__:null,Dexie:kr,liveQuery:Va,Entity:po,cmp:Gt,PropModification:Zi,replacePrefix:function(l,h){return new Zi({replacePrefix:[l,h]})},add:function(l){return new Zi({add:l})},remove:function(l){return new Zi({remove:l})},default:kr,RangeSet:He,mergeRanges:pt,rangesOverlap:Mt}),{default:kr}),kr})}(_l)),_l.exports}var jy=Py();const du=s2(jy),$d=Symbol.for("Dexie"),Rl=globalThis[$d]||(globalThis[$d]=du);if(du.semVer!==Rl.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${du.semVer} and ${Rl.semVer}`);const{liveQuery:ux,mergeRanges:fx,rangesOverlap:dx,RangeSet:hx,cmp:px,Entity:mx,PropModification:gx,replacePrefix:vx,add:bx,remove:yx,DexieYProvider:wx}=Rl;class Cy extends Rl{constructor(){super("AMBER_DATABASE");pn(this,"websites");pn(this,"highlights");pn(this,"folders");this.version(1).stores({folders:"id,createdAt,name,parentId,[createdAt+id]"}),this.version(1).stores({websites:"id,createdAt,url,[createdAt+id]"}),this.version(1).stores({highlights:"id,createdAt,urlId,folderId,color,fontSettings,notes,selectionString,anchorOffset,focusOffset,anchorPath,focusPath,anchorContext,focusContext,[createdAt+id]"})}}const lr=new Cy,A1=(n,t)=>{for(const e of n){if(e.id===t)return e;const r=A1(e.children,t);if(r)return r}return null},Ey=(n,t,e)=>{const r=A1(e,n);if(!r)return!1;const a=i=>i.id===t?!0:i.children.some(c=>a(c));return a(r)},Iy=(n,t,e)=>{if(t===null)return[...n,e];const r=a=>a.map(i=>i.id===t?{...i,children:[...i.children,e]}:{...i,children:r(i.children)});return r(n)},k1=(n,t,e)=>n.map(r=>r.id===t?{...r,name:e}:{...r,children:k1(r.children,t,e)}),L1=(n,t)=>n.filter(e=>e.id!==t).map(e=>({...e,children:L1(e.children,t)})),Ty=(n,t,e)=>{let r=null;const a=s=>s.filter(u=>u.id===t?(r=u,!1):!0).map(u=>({...u,children:a(u.children)})),i=a(n);if(!r)return n;if(e===null)return[...i,r];const c=s=>s.map(u=>u.id===e?{...u,children:[...u.children,r]}:{...u,children:c(u.children)});return c(i)};function Tu({...n}){return g.jsx(Uh,{"data-slot":"dialog",...n})}function P1({...n}){return g.jsx(Gm,{"data-slot":"dialog-trigger",...n})}function Oy({...n}){return g.jsx(Hh,{"data-slot":"dialog-portal",...n})}function Ry({className:n,...t}){return g.jsx(Wh,{"data-slot":"dialog-overlay",className:Vt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),...t})}function Ou({className:n,children:t,showCloseButton:e=!0,...r}){return g.jsxs(Oy,{"data-slot":"dialog-portal",children:[g.jsx(Ry,{}),g.jsxs(Vh,{"data-slot":"dialog-content",className:Vt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",n),...r,children:[t,e&&g.jsxs(Gh,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[g.jsx(oo,{}),g.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Ru({className:n,...t}){return g.jsx("div",{"data-slot":"dialog-header",className:Vt("flex flex-col gap-2 text-center sm:text-left",n),...t})}function Dy({className:n,...t}){return g.jsx("div",{"data-slot":"dialog-footer",className:Vt("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",n),...t})}function Du({className:n,...t}){return g.jsx(Kh,{"data-slot":"dialog-title",className:Vt("text-lg leading-none font-semibold",n),...t})}function My({className:n,...t}){return g.jsx($h,{"data-slot":"dialog-description",className:Vt("text-muted-foreground text-sm",n),...t})}const j1=({folder:n,onAddChild:t,onRename:e,onDelete:r,onMove:a,onSelect:i,selectedId:c,level:s})=>{const[u,d]=B.useState(!1),[m,b]=B.useState(!1),[x,p]=B.useState(n.name),[L,k]=B.useState(!1),[C,S]=B.useState(!1),[F,V]=B.useState(!1),W=c===n.id,be=()=>{x.trim()&&x!==n.name&&e(n.id,x.trim()),b(!1)},ue=R=>{R.key==="Enter"?be():R.key==="Escape"&&(p(n.name),b(!1))},re=R=>{R.stopPropagation(),S(!0),R.dataTransfer.effectAllowed="move",R.dataTransfer.setData("folderId",n.id)},Q=()=>{S(!1)},H=R=>{R.preventDefault(),R.stopPropagation(),(R.dataTransfer.types.includes("folderid")?"exists":null)&&(R.dataTransfer.dropEffect="move",V(!0))},de=R=>{R.preventDefault(),R.stopPropagation(),V(!1)},O=R=>{R.preventDefault(),R.stopPropagation(),V(!1);const ee=R.dataTransfer.getData("folderId");ee&&ee!==n.id&&(a(ee,n.id),d(!0))};return g.jsxs("div",{className:"select-none",children:[g.jsxs("div",{onDragOver:H,onDragLeave:de,onDrop:O,className:Vt("flex items-center gap-2 py-2 px-3",{"border border-dashed border-muted-foreground":F,"bg-accent/80":W&&!F,"hover:bg-accent/90":!W&&!F,"bg-muted/30":L&&!F&&!W}),style:{paddingLeft:`${s*20+12}px`},onMouseEnter:()=>k(!0),onMouseLeave:()=>k(!1),onClick:()=>!m&&i(n),children:[g.jsx("div",{draggable:!0,onDragStart:re,onDragEnd:Q,onClick:R=>R.stopPropagation(),className:Vt("cursor-grab active:cursor-grabbing p-1 rounded transition-colors hover:bg-accent/40",{"opacity-30":C}),children:g.jsx(vh,{className:"w-4 h-4 text-muted-foreground"})}),g.jsx("div",{className:"flex items-center",children:n.children.length>0?g.jsx("button",{onClick:R=>{R.stopPropagation(),d(!u)},className:"rounded hover:bg-accent/40 transition-colors",children:u?g.jsx(bu,{className:"w-4 h-4 text-muted-foreground"}):g.jsx(M2,{className:"w-4 h-4 text-muted-foreground"})}):g.jsx("div",{className:"w-4 h-4"})}),g.jsx(Ms,{className:Vt("w-5 h-5 flex-shrink-0",{"text-accent-foreground":W,"text-muted-foreground":!W})}),m?g.jsx(ss,{value:x,onChange:R=>p(R.target.value),onBlur:be,onKeyDown:ue,onClick:R=>R.stopPropagation(),className:"h-7 text-sm flex-1",autoFocus:!0,onFocus:R=>R.target.select()}):g.jsx("span",{onDoubleClick:R=>{R.stopPropagation(),b(!0),p(n.name)},className:Vt("flex-1 text-sm font-medium cursor-text truncate transition-colors w-[100px]",{"text-accent-foreground font-medium":W,"text-foreground":!W}),children:n.name}),g.jsx("div",{className:Vt("flex items-center transition-opacity",L||m?"opacity-100":"opacity-0"),children:g.jsxs(Bl,{children:[g.jsx(zl,{asChild:!0,children:g.jsx(rn,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:R=>R.stopPropagation(),children:g.jsx(ql,{className:"w-4 h-4 text-muted-foreground"})})}),g.jsxs(Ul,{align:"end",sideOffset:4,children:[g.jsxs(ki,{onClick:R=>{R.stopPropagation(),t(n.id)},children:[g.jsx(mh,{className:"w-4 h-4 mr-2"}),"Add subfolder"]}),g.jsxs(ki,{onClick:R=>{R.stopPropagation(),b(!0),p(n.name)},children:[g.jsx(sm,{className:"w-4 h-4 mr-2"}),"Rename"]}),g.jsx(v2,{}),g.jsxs(ki,{onClick:R=>{R.stopPropagation(),r(n.id)},className:"text-destructive focus:bg-destructive/10",children:[g.jsx(Hl,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})})]}),u&&n.children.length>0&&g.jsx("div",{children:n.children.map(R=>g.jsx(j1,{folder:R,onAddChild:t,onRename:e,onDelete:r,onMove:a,onSelect:i,selectedId:c,level:s+1},R.id))})]})},C1=(n,t=null)=>{const e=[];for(const r of n)e.push({id:r.id,name:r.name,parentId:t,createdAt:r.createdAt??Date.now()}),r.children&&r.children.length>0&&e.push(...C1(r.children,r.id));return e},Fy=n=>{const t=new Map,e=[];for(const r of n)t.set(r.id,{id:r.id,name:r.name,createdAt:r.createdAt,children:[]});for(const r of n){const a=t.get(r.id);if(r.parentId){const i=t.get(r.parentId);i==null||i.children.push(a)}else e.push(a)}return e};function By({selectedFolder:n,setSelectedFolder:t}){const[e,r]=B.useState(""),[a,i]=B.useState([]),[c,s]=B.useState(!1);B.useEffect(()=>{(async()=>{try{const k=(await lr.folders.toArray()).sort((S,F)=>Number(S.createdAt)-Number(F.createdAt));if(k.length===0){i([]),console.warn("No folders found in IndexedDB");return}const C=Fy(k);i(C)}catch(L){console.error("❌ Failed to load folders from IndexedDB:",L),i([])}})()},[]),B.useEffect(()=>{if(!a)return;(async()=>{try{const L=C1(a),k=await lr.folders.toArray(),C=new Set(k.map(V=>V.id)),S=new Set(L.map(V=>V.id)),F=[...C].filter(V=>!S.has(V));(F==null?void 0:F.length)>0&&await lr.folders.bulkDelete(F),await lr.folders.bulkPut(L)}catch(L){console.error("❌ Failed to sync folders:",L)}})()},[a]);const u=(p,L)=>{const k={id:crypto.randomUUID(),name:L||"New Folder",children:[],createdAt:Date.now()};i(C=>Iy(C,p,k))},d=(p,L)=>{i(k=>k1(k,p,L)),(n==null?void 0:n.id)===p&&t({...n,name:L})},m=p=>{(n==null?void 0:n.id)===p&&t(null),i(L=>L1(L,p))},b=(p,L)=>{L&&(p===L||Ey(p,L,a))||i(k=>Ty(k,p,L))},x=()=>{const p=e.trim();p&&(u(null,p),r(""),s(!1))};return g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"flex items-center justify-between  gap-2 px-4 py-2 shrink-0",children:[g.jsxs("div",{className:"flex flex-row gap-1",children:[g.jsx(C2,{className:"h-5 w-5 text-muted-foreground"}),g.jsx("h2",{className:"text-sm font-medium uppercase tracking-wide text-muted-foreground",children:"Folders"})]}),g.jsxs(Tu,{open:c,onOpenChange:s,children:[g.jsx(P1,{asChild:!0,children:g.jsx(rn,{variant:"ghost",size:"icon-sm",className:"flex items-center  border border-muted-foreground/20 hover:bg-accent/60 hover:text-accent-foreground hover:shadow-sm",children:g.jsx(mh,{className:"w-4 h-4"})})}),g.jsxs(Ou,{className:"sm:max-w-md",children:[g.jsx(Ru,{children:g.jsx(Du,{children:"Create New Folder"})}),g.jsx("div",{className:"py-4",children:g.jsx(ss,{placeholder:"Enter folder name...",value:e,onChange:p=>r(p.target.value),autoFocus:!0})}),g.jsxs(Dy,{children:[g.jsx(rn,{variant:"outline",onClick:()=>{r(""),s(!1)},children:"Cancel"}),g.jsx(rn,{onClick:x,disabled:!e.trim(),children:"Save"})]})]})]})]}),g.jsx(so,{className:"flex-1 overflow-auto ",children:g.jsx("div",{children:g.jsx("div",{className:"border-t pt-4 ",children:a.length===0?g.jsxs("div",{className:"text-center py-12 text-foreground",children:[g.jsx(Ms,{className:"w-16 h-16 mx-auto mb-3 opacity-50"}),g.jsx("p",{className:"text-lg",children:"No folders yet"}),g.jsx("p",{className:"text-sm",children:"Create your first folder to get started"})]}):g.jsx("div",{className:"space-y-1 min-h-[400px]",onDragOver:p=>{p.preventDefault(),p.dataTransfer.dropEffect="move"},onDrop:p=>{p.preventDefault();const L=p.dataTransfer.getData("folderId");L&&b(L,null)},children:a.map(p=>g.jsx(j1,{folder:p,onAddChild:u,onRename:d,onDelete:m,onMove:b,onSelect:t,selectedId:(n==null?void 0:n.id)||null,level:0},p.id))})})})})]})}function zy(){const[n,t]=B.useState([]),[e,r]=B.useState(null);B.useEffect(()=>{(async()=>{if(e!=null&&e.id)try{const c=await Hi.runtime.sendMessage({action:"getFolderHighlights",data:e.id});c!=null&&c.success?t(c.data):console.error("Failed to fetch highlights:",c==null?void 0:c.error)}catch(c){console.error("Error fetching highlights:",c)}})()},[e]);const a=async i=>{if(e){t(c=>c.filter(s=>s.id!==i));try{await Hi.runtime.sendMessage({action:"updateHighlight",data:{id:i,updates:{folderId:""}}})}catch(c){console.error("Error deleting highlight:",c)}}};return g.jsx("div",{className:"h-[calc(100vh-5.6rem)] w-full flex bg-background border rounded-lg overflow-hidden",children:g.jsxs(vp,{direction:"horizontal",className:"flex-1 h-full overflow-hidden",children:[g.jsx(Pl,{defaultSize:25,minSize:20,maxSize:50,children:g.jsx("div",{className:"flex flex-col h-full bg-muted/40",children:g.jsx(By,{selectedFolder:e,setSelectedFolder:r})})}),g.jsx(bp,{}),g.jsx(Pl,{defaultSize:75,children:g.jsxs("div",{className:"flex flex-col h-full bg-muted/55",children:[g.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 shrink-0",children:[g.jsx(xh,{className:"h-5 w-5 text-muted-foreground"}),g.jsxs("h2",{className:"text-sm w-full flex items-center justify-between font-medium uppercase tracking-wide text-muted-foreground",children:["Highlights",(n==null?void 0:n.length)>0&&g.jsx(S1,{highlights:n})]})]}),g.jsx(ky,{selectedFolder:e,folderHighlights:n,setFolderHighlights:t,handleDeleteHighlight:a})]})})]})})}var Mu="Progress",Fu=100,[qy,xx]=Rs(Mu),[Uy,Hy]=qy(Mu),E1=B.forwardRef((n,t)=>{const{__scopeProgress:e,value:r=null,max:a,getValueLabel:i=Wy,...c}=n;(a||a===0)&&!Gd(a)&&console.error(Vy(`${a}`,"Progress"));const s=Gd(a)?a:Fu;r!==null&&!Yd(r,s)&&console.error(Ky(`${r}`,"Progress"));const u=Yd(r,s)?r:null,d=Dl(u)?i(u,s):void 0;return g.jsx(Uy,{scope:e,value:u,max:s,children:g.jsx(mn.div,{"aria-valuemax":s,"aria-valuemin":0,"aria-valuenow":Dl(u)?u:void 0,"aria-valuetext":d,role:"progressbar","data-state":O1(u,s),"data-value":u??void 0,"data-max":s,...c,ref:t})})});E1.displayName=Mu;var I1="ProgressIndicator",T1=B.forwardRef((n,t)=>{const{__scopeProgress:e,...r}=n,a=Hy(I1,e);return g.jsx(mn.div,{"data-state":O1(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...r,ref:t})});T1.displayName=I1;function Wy(n,t){return`${Math.round(n/t*100)}%`}function O1(n,t){return n==null?"indeterminate":n===t?"complete":"loading"}function Dl(n){return typeof n=="number"}function Gd(n){return Dl(n)&&!isNaN(n)&&n>0}function Yd(n,t){return Dl(n)&&!isNaN(n)&&n<=t&&n>=0}function Vy(n,t){return`Invalid prop \`max\` of value \`${n}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Fu}\`.`}function Ky(n,t){return`Invalid prop \`value\` of value \`${n}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Fu} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var $y=E1,Gy=T1;function Bu({className:n,value:t,...e}){return g.jsx($y,{"data-slot":"progress",className:Vt("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",n),...e,children:g.jsx(Gy,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})})}function Yy(){const[n,t]=B.useState("unknown"),[e,r]=B.useState(0);B.useEffect(()=>{(async()=>{var s;try{const u=await((s=window.LanguageModel)==null?void 0:s.availability());t(u??"unknown")}catch(u){console.error("Error checking Gemini Nano availability:",u),t("unknown")}})()},[]);const a=async()=>{try{console.log("🚀 Starting Gemini Nano download with monitor…"),t("downloading"),r(0);const c=await window.LanguageModel.create({monitor(s){s.addEventListener("statechange",u=>{console.log("📦 State changed:",u.state),u.state==="downloading"&&t("downloading"),u.state==="available"&&(t("available"),r(100))}),s.addEventListener("downloadprogress",u=>{const d=Math.min(Math.floor(u.loaded*100),100);console.log(`⬇️ Download progress: ${d}%`),r(d)})}});console.log("✅ LanguageModel.create() resolved:",c)}catch(c){console.error("❌ Error starting model download:",c),console.info("Make sure chrome://flags/#prompt-api-for-gemini-nano is enabled and Chrome restarted."),t("downloadable")}},i=c=>{var u;const s=`chrome://flags/#${c}`;try{typeof chrome<"u"&&((u=chrome==null?void 0:chrome.tabs)!=null&&u.create)?chrome.tabs.create({url:s}):window.open(s,"_blank")}catch(d){console.error("Failed to open flag via chrome.tabs.create, falling back:",d),window.open(s,"_blank")}};return g.jsx("div",{children:g.jsxs(Ls,{className:"shadow-sm border border-border/50",children:[g.jsxs(Ps,{className:"flex flex-row items-center gap-3",children:[g.jsx(fm,{className:"w-5 h-5 text-primary"}),g.jsx(js,{className:"text-xl",children:"1. Enable Chrome Flags & Download Gemini Nano Model"})]}),g.jsxs(Cs,{className:"text-muted-foreground space-y-4",children:[g.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[g.jsxs("li",{children:[g.jsx("strong",{children:"Chrome version"})," must be"," ",g.jsx("span",{className:"font-medium",children:"≥ 128.0"})]}),g.jsxs("li",{children:["Minimum ",g.jsx("span",{className:"font-medium",children:"22 GB"})," of free storage space"]}),[{label:"optimization guide",id:"optimization-guide-on-device-model",note:"Enabled BypassPerfRequirement"},{label:"prompt API",id:"prompt-api-for-gemini-nano",note:"Enabled"},{label:"summarization API",id:"summarization-api-for-gemini-nano",note:"Enabled Multilingual"},{label:"translation API",id:"translation-api",note:"Enabled"}].map(c=>g.jsxs("li",{className:"flex flex-col sm:flex-row sm:items-center sm:gap-3 my-4",children:[g.jsxs("div",{children:[g.jsxs("strong",{children:["Enable ",c.label,":"]})," ",g.jsxs("code",{className:"bg-muted px-1.5 py-0.5 rounded text-sm",children:["chrome://flags/#",c.id]})," ","— set to"," ",g.jsx("code",{className:"bg-muted px-1.5 py-0.5  rounded text-sm",children:c.note})]}),g.jsxs(rn,{variant:"ghost",size:"sm",onClick:()=>i(c.id),className:"mt-2 sm:mt-0 flex items-center gap-2",children:[g.jsx(hh,{className:"w-4 h-4"})," Open flag"]})]},c.id))]}),g.jsxs("div",{className:" border-t border-border/50 pt-4 space-y-3",children:[g.jsxs("p",{className:"text-sm",children:[g.jsx("strong",{children:"Gemini Nano model status:"})," ",g.jsx("span",{className:`font-medium ${n==="available"?"text-green-600":n==="downloading"?"text-blue-600":"text-yellow-600"}`,children:n==="unknown"?"Checking...":n.charAt(0).toUpperCase()+n.slice(1)})]}),n==="downloading"&&g.jsxs("div",{className:"space-y-3",children:[g.jsx(Bu,{value:e}),g.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["Downloading model... ",e,"%"]}),g.jsx("p",{className:"text-xs text-center text-muted-foreground italic",children:"This may take a few minutes. Please wait patiently while Chrome downloads the on-device Gemini Nano model."})]}),n!=="available"&&g.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[g.jsx(rn,{onClick:a,size:"sm",variant:"default",disabled:n==="downloading",className:"flex items-center gap-2",children:n==="downloading"?g.jsxs(g.Fragment,{children:[g.jsx(Bs,{className:"w-4 h-4 animate-spin"}),"Downloading..."]}):g.jsxs(g.Fragment,{children:[g.jsx(Fs,{className:"w-4 h-4"}),"Download Gemini Nano Model"]})}),n==="downloading"&&g.jsx("p",{className:"text-xs text-muted-foreground italic",children:"This may take a few minutes. Please wait..."})]})]})]})]})})}function R1(n){const t=B.useRef({value:n,previous:n});return B.useMemo(()=>(t.current.value!==n&&(t.current.previous=t.current.value,t.current.value=n),t.current.previous),[n])}var Xy=[" ","Enter","ArrowUp","ArrowDown"],Jy=[" ","Enter"],Mo="Select",[nc,rc,Zy]=y2(Mo),[us,_x]=Rs(Mo,[Zy,ch]),ic=ch(),[Qy,co]=us(Mo),[ew,tw]=us(Mo),D1=n=>{const{__scopeSelect:t,children:e,open:r,defaultOpen:a,onOpenChange:i,value:c,defaultValue:s,onValueChange:u,dir:d,name:m,autoComplete:b,disabled:x,required:p,form:L}=n,k=ic(t),[C,S]=B.useState(null),[F,V]=B.useState(null),[W,be]=B.useState(!1),ue=lh(d),[re,Q]=Nl({prop:r,defaultProp:a??!1,onChange:i,caller:Mo}),[H,de]=Nl({prop:c,defaultProp:s,onChange:u,caller:Mo}),O=B.useRef(null),R=C?L||!!C.closest("form"):!0,[ee,ne]=B.useState(new Set),Se=Array.from(ee).map(we=>we.props.value).join(";");return g.jsx(b2,{...k,children:g.jsxs(Qy,{required:p,scope:t,trigger:C,onTriggerChange:S,valueNode:F,onValueNodeChange:V,valueNodeHasChildren:W,onValueNodeHasChildrenChange:be,contentId:ts(),value:H,onValueChange:de,open:re,onOpenChange:Q,dir:ue,triggerPointerDownPosRef:O,disabled:x,children:[g.jsx(nc.Provider,{scope:t,children:g.jsx(ew,{scope:n.__scopeSelect,onNativeOptionAdd:B.useCallback(we=>{ne(je=>new Set(je).add(we))},[]),onNativeOptionRemove:B.useCallback(we=>{ne(je=>{const Ne=new Set(je);return Ne.delete(we),Ne})},[]),children:e})}),R?g.jsxs(i0,{"aria-hidden":!0,required:p,tabIndex:-1,name:m,autoComplete:b,value:H,onChange:we=>de(we.target.value),disabled:x,form:L,children:[H===void 0?g.jsx("option",{value:""}):null,Array.from(ee)]},Se):null]})})};D1.displayName=Mo;var M1="SelectTrigger",F1=B.forwardRef((n,t)=>{const{__scopeSelect:e,disabled:r=!1,...a}=n,i=ic(e),c=co(M1,e),s=c.disabled||r,u=Hn(t,c.onTriggerChange),d=rc(e),m=B.useRef("touch"),[b,x,p]=o0(k=>{const C=d().filter(V=>!V.disabled),S=C.find(V=>V.value===c.value),F=s0(C,k,S);F!==void 0&&c.onValueChange(F.value)}),L=k=>{s||(c.onOpenChange(!0),p()),k&&(c.triggerPointerDownPosRef.current={x:Math.round(k.pageX),y:Math.round(k.pageY)})};return g.jsx(w2,{asChild:!0,...i,children:g.jsx(mn.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":a0(c.value)?"":void 0,...a,ref:u,onClick:En(a.onClick,k=>{k.currentTarget.focus(),m.current!=="mouse"&&L(k)}),onPointerDown:En(a.onPointerDown,k=>{m.current=k.pointerType;const C=k.target;C.hasPointerCapture(k.pointerId)&&C.releasePointerCapture(k.pointerId),k.button===0&&k.ctrlKey===!1&&k.pointerType==="mouse"&&(L(k),k.preventDefault())}),onKeyDown:En(a.onKeyDown,k=>{const C=b.current!=="";!(k.ctrlKey||k.altKey||k.metaKey)&&k.key.length===1&&x(k.key),!(C&&k.key===" ")&&Xy.includes(k.key)&&(L(),k.preventDefault())})})})});F1.displayName=M1;var B1="SelectValue",z1=B.forwardRef((n,t)=>{const{__scopeSelect:e,className:r,style:a,children:i,placeholder:c="",...s}=n,u=co(B1,e),{onValueNodeHasChildrenChange:d}=u,m=i!==void 0,b=Hn(t,u.onValueNodeChange);return Vi(()=>{d(m)},[d,m]),g.jsx(mn.span,{...s,ref:b,style:{pointerEvents:"none"},children:a0(u.value)?g.jsx(g.Fragment,{children:c}):i})});z1.displayName=B1;var nw="SelectIcon",q1=B.forwardRef((n,t)=>{const{__scopeSelect:e,children:r,...a}=n;return g.jsx(mn.span,{"aria-hidden":!0,...a,ref:t,children:r||"▼"})});q1.displayName=nw;var rw="SelectPortal",U1=n=>g.jsx(ih,{asChild:!0,...n});U1.displayName=rw;var Fo="SelectContent",H1=B.forwardRef((n,t)=>{const e=co(Fo,n.__scopeSelect),[r,a]=B.useState();if(Vi(()=>{a(new DocumentFragment)},[]),!e.open){const i=r;return i?uh.createPortal(g.jsx(W1,{scope:n.__scopeSelect,children:g.jsx(nc.Slot,{scope:n.__scopeSelect,children:g.jsx("div",{children:n.children})})}),i):null}return g.jsx(V1,{...n,ref:t})});H1.displayName=Fo;var Ui=10,[W1,uo]=us(Fo),iw="SelectContentImpl",aw=rh("SelectContent.RemoveScroll"),V1=B.forwardRef((n,t)=>{const{__scopeSelect:e,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:c,side:s,sideOffset:u,align:d,alignOffset:m,arrowPadding:b,collisionBoundary:x,collisionPadding:p,sticky:L,hideWhenDetached:k,avoidCollisions:C,...S}=n,F=co(Fo,e),[V,W]=B.useState(null),[be,ue]=B.useState(null),re=Hn(t,Z=>W(Z)),[Q,H]=B.useState(null),[de,O]=B.useState(null),R=rc(e),[ee,ne]=B.useState(!1),Se=B.useRef(!1);B.useEffect(()=>{if(V)return ah(V)},[V]),_2();const we=B.useCallback(Z=>{const[le,...ae]=R().map(Re=>Re.ref.current),[Le]=ae.slice(-1),De=document.activeElement;for(const Re of Z)if(Re===De||(Re==null||Re.scrollIntoView({block:"nearest"}),Re===le&&be&&(be.scrollTop=0),Re===Le&&be&&(be.scrollTop=be.scrollHeight),Re==null||Re.focus(),document.activeElement!==De))return},[R,be]),je=B.useCallback(()=>we([Q,V]),[we,Q,V]);B.useEffect(()=>{ee&&je()},[ee,je]);const{onOpenChange:Ne,triggerPointerDownPosRef:Te}=F;B.useEffect(()=>{if(V){let Z={x:0,y:0};const le=Le=>{var De,Re;Z={x:Math.abs(Math.round(Le.pageX)-(((De=Te.current)==null?void 0:De.x)??0)),y:Math.abs(Math.round(Le.pageY)-(((Re=Te.current)==null?void 0:Re.y)??0))}},ae=Le=>{Z.x<=10&&Z.y<=10?Le.preventDefault():V.contains(Le.target)||Ne(!1),document.removeEventListener("pointermove",le),Te.current=null};return Te.current!==null&&(document.addEventListener("pointermove",le),document.addEventListener("pointerup",ae,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",le),document.removeEventListener("pointerup",ae,{capture:!0})}}},[V,Ne,Te]),B.useEffect(()=>{const Z=()=>Ne(!1);return window.addEventListener("blur",Z),window.addEventListener("resize",Z),()=>{window.removeEventListener("blur",Z),window.removeEventListener("resize",Z)}},[Ne]);const[Ve,Be]=o0(Z=>{const le=R().filter(De=>!De.disabled),ae=le.find(De=>De.ref.current===document.activeElement),Le=s0(le,Z,ae);Le&&setTimeout(()=>Le.ref.current.focus())}),T=B.useCallback((Z,le,ae)=>{const Le=!Se.current&&!ae;(F.value!==void 0&&F.value===le||Le)&&(H(Z),Le&&(Se.current=!0))},[F.value]),D=B.useCallback(()=>V==null?void 0:V.focus(),[V]),q=B.useCallback((Z,le,ae)=>{const Le=!Se.current&&!ae;(F.value!==void 0&&F.value===le||Le)&&O(Z)},[F.value]),X=r==="popper"?hu:K1,te=X===hu?{side:s,sideOffset:u,align:d,alignOffset:m,arrowPadding:b,collisionBoundary:x,collisionPadding:p,sticky:L,hideWhenDetached:k,avoidCollisions:C}:{};return g.jsx(W1,{scope:e,content:V,viewport:be,onViewportChange:ue,itemRefCallback:T,selectedItem:Q,onItemLeave:D,itemTextRefCallback:q,focusSelectedItem:je,selectedItemText:de,position:r,isPositioned:ee,searchRef:Ve,children:g.jsx(oh,{as:aw,allowPinchZoom:!0,children:g.jsx(sh,{asChild:!0,trapped:F.open,onMountAutoFocus:Z=>{Z.preventDefault()},onUnmountAutoFocus:En(a,Z=>{var le;(le=F.trigger)==null||le.focus({preventScroll:!0}),Z.preventDefault()}),children:g.jsx(N2,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:c,onFocusOutside:Z=>Z.preventDefault(),onDismiss:()=>F.onOpenChange(!1),children:g.jsx(X,{role:"listbox",id:F.contentId,"data-state":F.open?"open":"closed",dir:F.dir,onContextMenu:Z=>Z.preventDefault(),...S,...te,onPlaced:()=>ne(!0),ref:re,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:En(S.onKeyDown,Z=>{const le=Z.ctrlKey||Z.altKey||Z.metaKey;if(Z.key==="Tab"&&Z.preventDefault(),!le&&Z.key.length===1&&Be(Z.key),["ArrowUp","ArrowDown","Home","End"].includes(Z.key)){let Le=R().filter(De=>!De.disabled).map(De=>De.ref.current);if(["ArrowUp","End"].includes(Z.key)&&(Le=Le.slice().reverse()),["ArrowUp","ArrowDown"].includes(Z.key)){const De=Z.target,Re=Le.indexOf(De);Le=Le.slice(Re+1)}setTimeout(()=>we(Le)),Z.preventDefault()}})})})})})})});V1.displayName=iw;var ow="SelectItemAlignedPosition",K1=B.forwardRef((n,t)=>{const{__scopeSelect:e,onPlaced:r,...a}=n,i=co(Fo,e),c=uo(Fo,e),[s,u]=B.useState(null),[d,m]=B.useState(null),b=Hn(t,re=>m(re)),x=rc(e),p=B.useRef(!1),L=B.useRef(!0),{viewport:k,selectedItem:C,selectedItemText:S,focusSelectedItem:F}=c,V=B.useCallback(()=>{if(i.trigger&&i.valueNode&&s&&d&&k&&C&&S){const re=i.trigger.getBoundingClientRect(),Q=d.getBoundingClientRect(),H=i.valueNode.getBoundingClientRect(),de=S.getBoundingClientRect();if(i.dir!=="rtl"){const De=de.left-Q.left,Re=H.left-De,Ke=re.left-Re,Ie=re.width+Ke,J=Math.max(Ie,Q.width),Ot=window.innerWidth-Ui,St=eu(Re,[Ui,Math.max(Ui,Ot-J)]);s.style.minWidth=Ie+"px",s.style.left=St+"px"}else{const De=Q.right-de.right,Re=window.innerWidth-H.right-De,Ke=window.innerWidth-re.right-Re,Ie=re.width+Ke,J=Math.max(Ie,Q.width),Ot=window.innerWidth-Ui,St=eu(Re,[Ui,Math.max(Ui,Ot-J)]);s.style.minWidth=Ie+"px",s.style.right=St+"px"}const O=x(),R=window.innerHeight-Ui*2,ee=k.scrollHeight,ne=window.getComputedStyle(d),Se=parseInt(ne.borderTopWidth,10),we=parseInt(ne.paddingTop,10),je=parseInt(ne.borderBottomWidth,10),Ne=parseInt(ne.paddingBottom,10),Te=Se+we+ee+Ne+je,Ve=Math.min(C.offsetHeight*5,Te),Be=window.getComputedStyle(k),T=parseInt(Be.paddingTop,10),D=parseInt(Be.paddingBottom,10),q=re.top+re.height/2-Ui,X=R-q,te=C.offsetHeight/2,Z=C.offsetTop+te,le=Se+we+Z,ae=Te-le;if(le<=q){const De=O.length>0&&C===O[O.length-1].ref.current;s.style.bottom="0px";const Re=d.clientHeight-k.offsetTop-k.offsetHeight,Ke=Math.max(X,te+(De?D:0)+Re+je),Ie=le+Ke;s.style.height=Ie+"px"}else{const De=O.length>0&&C===O[0].ref.current;s.style.top="0px";const Ke=Math.max(q,Se+k.offsetTop+(De?T:0)+te)+ae;s.style.height=Ke+"px",k.scrollTop=le-q+k.offsetTop}s.style.margin=`${Ui}px 0`,s.style.minHeight=Ve+"px",s.style.maxHeight=R+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[x,i.trigger,i.valueNode,s,d,k,C,S,i.dir,r]);Vi(()=>V(),[V]);const[W,be]=B.useState();Vi(()=>{d&&be(window.getComputedStyle(d).zIndex)},[d]);const ue=B.useCallback(re=>{re&&L.current===!0&&(V(),F==null||F(),L.current=!1)},[V,F]);return g.jsx(lw,{scope:e,contentWrapper:s,shouldExpandOnScrollRef:p,onScrollButtonChange:ue,children:g.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:W},children:g.jsx(mn.div,{...a,ref:b,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});K1.displayName=ow;var sw="SelectPopperPosition",hu=B.forwardRef((n,t)=>{const{__scopeSelect:e,align:r="start",collisionPadding:a=Ui,...i}=n,c=ic(e);return g.jsx(S2,{...c,...i,ref:t,align:r,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});hu.displayName=sw;var[lw,zu]=us(Fo,{}),pu="SelectViewport",$1=B.forwardRef((n,t)=>{const{__scopeSelect:e,nonce:r,...a}=n,i=uo(pu,e),c=zu(pu,e),s=Hn(t,i.onViewportChange),u=B.useRef(0);return g.jsxs(g.Fragment,{children:[g.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),g.jsx(nc.Slot,{scope:e,children:g.jsx(mn.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:En(a.onScroll,d=>{const m=d.currentTarget,{contentWrapper:b,shouldExpandOnScrollRef:x}=c;if(x!=null&&x.current&&b){const p=Math.abs(u.current-m.scrollTop);if(p>0){const L=window.innerHeight-Ui*2,k=parseFloat(b.style.minHeight),C=parseFloat(b.style.height),S=Math.max(k,C);if(S<L){const F=S+p,V=Math.min(L,F),W=F-V;b.style.height=V+"px",b.style.bottom==="0px"&&(m.scrollTop=W>0?W:0,b.style.justifyContent="flex-end")}}}u.current=m.scrollTop})})})]})});$1.displayName=pu;var G1="SelectGroup",[cw,uw]=us(G1),fw=B.forwardRef((n,t)=>{const{__scopeSelect:e,...r}=n,a=ts();return g.jsx(cw,{scope:e,id:a,children:g.jsx(mn.div,{role:"group","aria-labelledby":a,...r,ref:t})})});fw.displayName=G1;var Y1="SelectLabel",dw=B.forwardRef((n,t)=>{const{__scopeSelect:e,...r}=n,a=uw(Y1,e);return g.jsx(mn.div,{id:a.id,...r,ref:t})});dw.displayName=Y1;var Ml="SelectItem",[hw,X1]=us(Ml),J1=B.forwardRef((n,t)=>{const{__scopeSelect:e,value:r,disabled:a=!1,textValue:i,...c}=n,s=co(Ml,e),u=uo(Ml,e),d=s.value===r,[m,b]=B.useState(i??""),[x,p]=B.useState(!1),L=Hn(t,F=>{var V;return(V=u.itemRefCallback)==null?void 0:V.call(u,F,r,a)}),k=ts(),C=B.useRef("touch"),S=()=>{a||(s.onValueChange(r),s.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return g.jsx(hw,{scope:e,value:r,disabled:a,textId:k,isSelected:d,onItemTextChange:B.useCallback(F=>{b(V=>V||((F==null?void 0:F.textContent)??"").trim())},[]),children:g.jsx(nc.ItemSlot,{scope:e,value:r,disabled:a,textValue:m,children:g.jsx(mn.div,{role:"option","aria-labelledby":k,"data-highlighted":x?"":void 0,"aria-selected":d&&x,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...c,ref:L,onFocus:En(c.onFocus,()=>p(!0)),onBlur:En(c.onBlur,()=>p(!1)),onClick:En(c.onClick,()=>{C.current!=="mouse"&&S()}),onPointerUp:En(c.onPointerUp,()=>{C.current==="mouse"&&S()}),onPointerDown:En(c.onPointerDown,F=>{C.current=F.pointerType}),onPointerMove:En(c.onPointerMove,F=>{var V;C.current=F.pointerType,a?(V=u.onItemLeave)==null||V.call(u):C.current==="mouse"&&F.currentTarget.focus({preventScroll:!0})}),onPointerLeave:En(c.onPointerLeave,F=>{var V;F.currentTarget===document.activeElement&&((V=u.onItemLeave)==null||V.call(u))}),onKeyDown:En(c.onKeyDown,F=>{var W;((W=u.searchRef)==null?void 0:W.current)!==""&&F.key===" "||(Jy.includes(F.key)&&S(),F.key===" "&&F.preventDefault())})})})})});J1.displayName=Ml;var Ns="SelectItemText",Z1=B.forwardRef((n,t)=>{const{__scopeSelect:e,className:r,style:a,...i}=n,c=co(Ns,e),s=uo(Ns,e),u=X1(Ns,e),d=tw(Ns,e),[m,b]=B.useState(null),x=Hn(t,S=>b(S),u.onItemTextChange,S=>{var F;return(F=s.itemTextRefCallback)==null?void 0:F.call(s,S,u.value,u.disabled)}),p=m==null?void 0:m.textContent,L=B.useMemo(()=>g.jsx("option",{value:u.value,disabled:u.disabled,children:p},u.value),[u.disabled,u.value,p]),{onNativeOptionAdd:k,onNativeOptionRemove:C}=d;return Vi(()=>(k(L),()=>C(L)),[k,C,L]),g.jsxs(g.Fragment,{children:[g.jsx(mn.span,{id:u.textId,...i,ref:x}),u.isSelected&&c.valueNode&&!c.valueNodeHasChildren?uh.createPortal(i.children,c.valueNode):null]})});Z1.displayName=Ns;var Q1="SelectItemIndicator",e0=B.forwardRef((n,t)=>{const{__scopeSelect:e,...r}=n;return X1(Q1,e).isSelected?g.jsx(mn.span,{"aria-hidden":!0,...r,ref:t}):null});e0.displayName=Q1;var mu="SelectScrollUpButton",t0=B.forwardRef((n,t)=>{const e=uo(mu,n.__scopeSelect),r=zu(mu,n.__scopeSelect),[a,i]=B.useState(!1),c=Hn(t,r.onScrollButtonChange);return Vi(()=>{if(e.viewport&&e.isPositioned){let s=function(){const d=u.scrollTop>0;i(d)};const u=e.viewport;return s(),u.addEventListener("scroll",s),()=>u.removeEventListener("scroll",s)}},[e.viewport,e.isPositioned]),a?g.jsx(r0,{...n,ref:c,onAutoScroll:()=>{const{viewport:s,selectedItem:u}=e;s&&u&&(s.scrollTop=s.scrollTop-u.offsetHeight)}}):null});t0.displayName=mu;var gu="SelectScrollDownButton",n0=B.forwardRef((n,t)=>{const e=uo(gu,n.__scopeSelect),r=zu(gu,n.__scopeSelect),[a,i]=B.useState(!1),c=Hn(t,r.onScrollButtonChange);return Vi(()=>{if(e.viewport&&e.isPositioned){let s=function(){const d=u.scrollHeight-u.clientHeight,m=Math.ceil(u.scrollTop)<d;i(m)};const u=e.viewport;return s(),u.addEventListener("scroll",s),()=>u.removeEventListener("scroll",s)}},[e.viewport,e.isPositioned]),a?g.jsx(r0,{...n,ref:c,onAutoScroll:()=>{const{viewport:s,selectedItem:u}=e;s&&u&&(s.scrollTop=s.scrollTop+u.offsetHeight)}}):null});n0.displayName=gu;var r0=B.forwardRef((n,t)=>{const{__scopeSelect:e,onAutoScroll:r,...a}=n,i=uo("SelectScrollButton",e),c=B.useRef(null),s=rc(e),u=B.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return B.useEffect(()=>()=>u(),[u]),Vi(()=>{var m;const d=s().find(b=>b.ref.current===document.activeElement);(m=d==null?void 0:d.ref.current)==null||m.scrollIntoView({block:"nearest"})},[s]),g.jsx(mn.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:En(a.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(r,50))}),onPointerMove:En(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),c.current===null&&(c.current=window.setInterval(r,50))}),onPointerLeave:En(a.onPointerLeave,()=>{u()})})}),pw="SelectSeparator",mw=B.forwardRef((n,t)=>{const{__scopeSelect:e,...r}=n;return g.jsx(mn.div,{"aria-hidden":!0,...r,ref:t})});mw.displayName=pw;var vu="SelectArrow",gw=B.forwardRef((n,t)=>{const{__scopeSelect:e,...r}=n,a=ic(e),i=co(vu,e),c=uo(vu,e);return i.open&&c.position==="popper"?g.jsx(A2,{...a,...r,ref:t}):null});gw.displayName=vu;var vw="SelectBubbleInput",i0=B.forwardRef(({__scopeSelect:n,value:t,...e},r)=>{const a=B.useRef(null),i=Hn(r,a),c=R1(t);return B.useEffect(()=>{const s=a.current;if(!s)return;const u=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(u,"value").set;if(c!==t&&m){const b=new Event("change",{bubbles:!0});m.call(s,t),s.dispatchEvent(b)}},[c,t]),g.jsx(mn.select,{...e,style:{...x2,...e.style},ref:i,defaultValue:t})});i0.displayName=vw;function a0(n){return n===""||n===void 0}function o0(n){const t=ca(n),e=B.useRef(""),r=B.useRef(0),a=B.useCallback(c=>{const s=e.current+c;t(s),function u(d){e.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>u(""),1e3))}(s)},[t]),i=B.useCallback(()=>{e.current="",window.clearTimeout(r.current)},[]);return B.useEffect(()=>()=>window.clearTimeout(r.current),[]),[e,a,i]}function s0(n,t,e){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,i=e?n.indexOf(e):-1;let c=bw(n,Math.max(i,0));a.length===1&&(c=c.filter(d=>d!==e));const u=c.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return u!==e?u:void 0}function bw(n,t){return n.map((e,r)=>n[(t+r)%n.length])}var yw=D1,ww=F1,xw=z1,_w=q1,Nw=U1,Sw=H1,Aw=$1,kw=J1,Lw=Z1,Pw=e0,jw=t0,Cw=n0;function Xd({...n}){return g.jsx(yw,{"data-slot":"select",...n})}function Jd({...n}){return g.jsx(xw,{"data-slot":"select-value",...n})}function Zd({className:n,size:t="default",children:e,...r}){return g.jsxs(ww,{"data-slot":"select-trigger","data-size":t,className:Vt("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...r,children:[e,g.jsx(_w,{asChild:!0,children:g.jsx(bu,{className:"size-4 opacity-50"})})]})}function Qd({className:n,children:t,position:e="popper",...r}){return g.jsx(Nw,{children:g.jsxs(Sw,{"data-slot":"select-content",className:Vt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",e==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:e,...r,children:[g.jsx(Ew,{}),g.jsx(Aw,{className:Vt("p-1",e==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),g.jsx(Iw,{})]})})}function eh({className:n,children:t,...e}){return g.jsxs(kw,{"data-slot":"select-item",className:Vt("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",n),...e,children:[g.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:g.jsx(Pw,{children:g.jsx(Io,{className:"size-4"})})}),g.jsx(Lw,{children:t})]})}function Ew({className:n,...t}){return g.jsx(jw,{"data-slot":"select-scroll-up-button",className:Vt("flex cursor-default items-center justify-center py-1",n),...t,children:g.jsx(B2,{className:"size-4"})})}function Iw({className:n,...t}){return g.jsx(Cw,{"data-slot":"select-scroll-down-button",className:Vt("flex cursor-default items-center justify-center py-1",n),...t,children:g.jsx(bu,{className:"size-4"})})}function Tw(){var p,L;const[n,t]=B.useState("en"),[e,r]=B.useState("ar"),[a,i]=B.useState("unknown"),[c,s]=B.useState(0),[u,d]=B.useState(!1),m=async(k=n,C=e)=>{if(!("Translator"in self)){console.log("Translate API is NOT available in this Chrome build."),i("unavailable");return}try{const S=await self.Translator.availability({sourceLanguage:k,targetLanguage:C});console.log("Translate API availability:",S),i(S??"unknown")}catch(S){console.error("Translator API exists but availability check failed:",S),i("unknown")}};B.useEffect(()=>{m(n,e)},[n,e]);const b=async()=>{d(!0),s(0);try{const k=await self.Translator.create({sourceLanguage:n,targetLanguage:e,monitor(C){C.addEventListener("downloadprogress",S=>{const F=Math.floor(S.loaded*100);console.log(`Download progress: ${F}%`),s(F)}),C.addEventListener("statechange",S=>{console.log("State changed:",S.state),S.state==="available"?(i("available"),d(!1),s(100)):S.state==="downloading"&&i("downloading")})}});console.log("Translator ready:",k)}catch(k){console.error("Failed to initialize Translator:",k),d(!1)}},x=[{code:"en",name:"English"},{code:"ar",name:"Arabic"},{code:"fr",name:"French"},{code:"es",name:"Spanish"},{code:"de",name:"German"},{code:"it",name:"Italian"},{code:"ru",name:"Russian"},{code:"zh",name:"Chinese"},{code:"ja",name:"Japanese"}];return g.jsx("div",{children:g.jsxs(Ls,{className:"shadow-sm border border-border/50",children:[g.jsxs(Ps,{className:"flex flex-row items-center gap-3",children:[g.jsx(E2,{className:"w-5 h-5 text-primary"}),g.jsx(js,{className:"text-xl",children:"Translation Availability Checker"})]}),g.jsxs(Cs,{className:"space-y-6 text-muted-foreground",children:[g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-sm mb-1",children:"Source Language"}),g.jsxs(Xd,{value:n,onValueChange:t,children:[g.jsx(Zd,{children:g.jsx(Jd,{placeholder:"Select source"})}),g.jsx(Qd,{children:x.map(k=>g.jsx(eh,{value:k.code,children:k.name},k.code))})]})]}),g.jsxs("div",{children:[g.jsx("p",{className:"text-sm mb-1",children:"Target Language"}),g.jsxs(Xd,{value:e,onValueChange:r,children:[g.jsx(Zd,{children:g.jsx(Jd,{placeholder:"Select target"})}),g.jsx(Qd,{children:x.map(k=>g.jsx(eh,{value:k.code,children:k.name},k.code))})]})]})]}),g.jsx("div",{className:"pt-3 border-t border-border/50",children:g.jsxs("p",{className:"text-sm",children:["Translation from"," ",g.jsx("span",{className:"font-medium",children:(p=x.find(k=>k.code===n))==null?void 0:p.name})," ","to"," ",g.jsx("span",{className:"font-medium",children:(L=x.find(k=>k.code===e))==null?void 0:L.name})," ","is currently"," ",g.jsx("span",{className:`font-medium ${a==="available"?"text-green-600":a==="downloading"?"text-blue-600":a==="downloadable"?"text-yellow-600":"text-red-600"}`,children:a==="unknown"?"checking...":a.charAt(0).toUpperCase()+a.slice(1)}),"."]})}),a!=="available"&&g.jsxs("div",{className:"space-y-3",children:[g.jsx(rn,{variant:"default",size:"sm",disabled:u,onClick:b,className:"flex items-center gap-2",children:u?g.jsxs(g.Fragment,{children:[g.jsx(Bs,{className:"w-4 h-4 animate-spin"}),"Downloading model..."]}):g.jsxs(g.Fragment,{children:[g.jsx(Fs,{className:"w-4 h-4"}),"Download Translation Model"]})}),u&&g.jsxs(g.Fragment,{children:[g.jsx(Bu,{value:c}),g.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:[c,"% downloaded — this may take a few minutes."]})]})]})]})]})})}function Ow(){const[n,t]=B.useState("unknown"),[e,r]=B.useState(0),[a,i]=B.useState(!1),c=async()=>{if(!("Summarizer"in self)){console.log("Summarizer API is NOT available in this Chrome build."),t("unavailable");return}try{const u=await self.Summarizer.availability();console.log("Summarizer API availability:",u),t(u??"unknown")}catch(u){console.error("Summarizer API exists but availability check failed:",u),t("unknown")}};B.useEffect(()=>{c()},[]);const s=async()=>{i(!0),r(0);try{const u=await self.Summarizer.create({monitor(d){d.addEventListener("downloadprogress",m=>{const b=Math.floor(m.loaded*100);console.log(`Download progress: ${b}%`),r(b)}),d.addEventListener("statechange",m=>{console.log("State changed:",m.state),m.state==="available"?(t("available"),i(!1),r(100)):m.state==="downloading"&&t("downloading")})}});console.log("Summarizer ready:",u)}catch(u){console.error("Failed to initialize Summarizer:",u),i(!1)}};return g.jsx("div",{children:g.jsxs(Ls,{className:"shadow-sm border border-border/50",children:[g.jsxs(Ps,{className:"flex flex-row items-center gap-3",children:[g.jsx(O2,{className:"w-5 h-5 text-primary"}),g.jsx(js,{className:"text-xl",children:"Summarizer Availability Checker"})]}),g.jsxs(Cs,{className:"space-y-6 text-muted-foreground",children:[g.jsx("div",{className:"border-t pt-3 border-border/50",children:g.jsxs("p",{className:"text-sm",children:["The built-in"," ",g.jsx("span",{className:"font-medium text-foreground",children:"Gemini Nano Summarizer"})," ","is currently"," ",g.jsx("span",{className:`font-medium ${n==="available"?"text-green-600":n==="downloading"?"text-blue-600":n==="downloadable"?"text-yellow-600":"text-red-600"}`,children:n==="unknown"?"checking...":n.charAt(0).toUpperCase()+n.slice(1)}),"."]})}),n!=="available"&&g.jsxs("div",{className:"space-y-3",children:[g.jsx(rn,{variant:"default",size:"sm",disabled:a,onClick:s,className:"flex items-center gap-2",children:a?g.jsxs(g.Fragment,{children:[g.jsx(Bs,{className:"w-4 h-4 animate-spin"}),"Downloading Summarizer..."]}):g.jsxs(g.Fragment,{children:[g.jsx(Fs,{className:"w-4 h-4"}),"Download Summarizer Model"]})}),a&&g.jsxs(g.Fragment,{children:[g.jsx(Bu,{value:e}),g.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:[e,"% downloaded — this may take a few minutes."]})]})]})]})]})})}function Rw(){return g.jsxs("div",{className:"max-w-3xl mx-auto p-6 space-y-8",children:[g.jsxs("div",{className:" space-y-2",children:[g.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex  items-center gap-2",children:[g.jsx(dh,{className:"w-7 h-7 text-primary"}),"Help & Setup Guide"]}),g.jsx("p",{className:"text-muted-foreground",children:"Follow these steps to enable Gemini Nano features in Chrome."})]}),g.jsx(Lm,{}),g.jsx(Yy,{}),g.jsx(Tw,{}),g.jsx(Ow,{})]})}const Dw=()=>g.jsxs("div",{style:{padding:"16px",fontFamily:"monospace",lineHeight:"1.7",fontSize:"14px",letterSpacing:"0.3px",maxWidth:"500px"},children:[g.jsx("h1",{style:{fontSize:"18px",marginBottom:"8px"},children:"About Amber"}),g.jsx("p",{children:"Version: 1.0.0"}),g.jsx("p",{children:"Year: 2025"}),g.jsx("h2",{style:{fontSize:"16px",marginTop:"16px",marginBottom:"8px"},children:"Privacy Policy"}),g.jsx("p",{children:"Amber does not collect, store, or share any personal data on remote servers. All your data and highlights are saved locally on your machine. The extension is completely free and open source, licensed under the MIT License."}),g.jsx("p",{children:"By using Amber, you acknowledge that your data remains entirely under your control. No information is transmitted to third parties, and no analytics or tracking tools are included. Users are free to inspect, modify, or distribute the source code in accordance with the terms of the MIT License."}),g.jsx("p",{children:"This extension is provided “as is”, without warranty of any kind, express or implied, including but not limited to the warranties of merchantability, fitness for a particular purpose, and noninfringement. In no event shall the authors or copyright holders be liable for any claim, damages, or other liability arising from, out of, or in connection with the software or the use or other dealings in the software."}),g.jsx("h2",{style:{fontSize:"16px",marginTop:"16px",marginBottom:"4px"},children:"Contact"}),g.jsxs("p",{children:["Email:"," ",g.jsx("a",{href:"mailto:ab.devextensions@gmail.com",style:{textDecoration:"none",color:"inherit"},children:"ab.devextensions@gmail.com"})]}),g.jsxs("p",{children:["GitHub:"," ",g.jsx("a",{href:"https://github.com/Abdelrahman286",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",color:"inherit"},children:"github.com/Abdelrahman286"})]})]});var ac="Checkbox",[Mw,Nx]=Rs(ac),[Fw,qu]=Mw(ac);function Bw(n){const{__scopeCheckbox:t,checked:e,children:r,defaultChecked:a,disabled:i,form:c,name:s,onCheckedChange:u,required:d,value:m="on",internal_do_not_use_render:b}=n,[x,p]=Nl({prop:e,defaultProp:a??!1,onChange:u,caller:ac}),[L,k]=B.useState(null),[C,S]=B.useState(null),F=B.useRef(!1),V=L?!!c||!!L.closest("form"):!0,W={checked:x,disabled:i,setChecked:p,control:L,setControl:k,name:s,form:c,value:m,hasConsumerStoppedPropagationRef:F,required:d,defaultChecked:ao(a)?!1:a,isFormControl:V,bubbleInput:C,setBubbleInput:S};return g.jsx(Fw,{scope:t,...W,children:zw(b)?b(W):r})}var l0="CheckboxTrigger",c0=B.forwardRef(({__scopeCheckbox:n,onKeyDown:t,onClick:e,...r},a)=>{const{control:i,value:c,disabled:s,checked:u,required:d,setControl:m,setChecked:b,hasConsumerStoppedPropagationRef:x,isFormControl:p,bubbleInput:L}=qu(l0,n),k=Hn(a,m),C=B.useRef(u);return B.useEffect(()=>{const S=i==null?void 0:i.form;if(S){const F=()=>b(C.current);return S.addEventListener("reset",F),()=>S.removeEventListener("reset",F)}},[i,b]),g.jsx(mn.button,{type:"button",role:"checkbox","aria-checked":ao(u)?"mixed":u,"aria-required":d,"data-state":m0(u),"data-disabled":s?"":void 0,disabled:s,value:c,...r,ref:k,onKeyDown:En(t,S=>{S.key==="Enter"&&S.preventDefault()}),onClick:En(e,S=>{b(F=>ao(F)?!0:!F),L&&p&&(x.current=S.isPropagationStopped(),x.current||S.stopPropagation())})})});c0.displayName=l0;var u0=B.forwardRef((n,t)=>{const{__scopeCheckbox:e,name:r,checked:a,defaultChecked:i,required:c,disabled:s,value:u,onCheckedChange:d,form:m,...b}=n;return g.jsx(Bw,{__scopeCheckbox:e,checked:a,defaultChecked:i,disabled:s,required:c,onCheckedChange:d,name:r,form:m,value:u,internal_do_not_use_render:({isFormControl:x})=>g.jsxs(g.Fragment,{children:[g.jsx(c0,{...b,ref:t,__scopeCheckbox:e}),x&&g.jsx(p0,{__scopeCheckbox:e})]})})});u0.displayName=ac;var f0="CheckboxIndicator",d0=B.forwardRef((n,t)=>{const{__scopeCheckbox:e,forceMount:r,...a}=n,i=qu(f0,e);return g.jsx(Ds,{present:r||ao(i.checked)||i.checked===!0,children:g.jsx(mn.span,{"data-state":m0(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...n.style}})})});d0.displayName=f0;var h0="CheckboxBubbleInput",p0=B.forwardRef(({__scopeCheckbox:n,...t},e)=>{const{control:r,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:c,required:s,disabled:u,name:d,value:m,form:b,bubbleInput:x,setBubbleInput:p}=qu(h0,n),L=Hn(e,p),k=R1(i),C=k2(r);B.useEffect(()=>{const F=x;if(!F)return;const V=window.HTMLInputElement.prototype,be=Object.getOwnPropertyDescriptor(V,"checked").set,ue=!a.current;if(k!==i&&be){const re=new Event("click",{bubbles:ue});F.indeterminate=ao(i),be.call(F,ao(i)?!1:i),F.dispatchEvent(re)}},[x,k,i,a]);const S=B.useRef(ao(i)?!1:i);return g.jsx(mn.input,{type:"checkbox","aria-hidden":!0,defaultChecked:c??S.current,required:s,disabled:u,name:d,value:m,form:b,...t,tabIndex:-1,ref:L,style:{...t.style,...C,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});p0.displayName=h0;function zw(n){return typeof n=="function"}function ao(n){return n==="indeterminate"}function m0(n){return ao(n)?"indeterminate":n?"checked":"unchecked"}function Fl({className:n,...t}){return g.jsx(u0,{"data-slot":"checkbox",className:Vt("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),...t,children:g.jsx(d0,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:g.jsx(Io,{className:"size-3.5"})})})}const qw=({open:n,onOpenChange:t,highlights:e})=>{const[r,a]=B.useState("choose"),[i,c]=B.useState(!1),[s,u]=B.useState(0),[d,m]=B.useState(!1),[b,x]=B.useState(0),[p,L]=B.useState(0),k=e[s],C=V=>{V?x(W=>W+1):L(W=>W+1),m(!1),s+1<e.length?u(W=>W+1):a("results")},S=()=>{a("choose"),x(0),L(0),u(0),m(!1)},F=()=>{a("results")};return g.jsx(Tu,{open:n,onOpenChange:t,children:g.jsxs(Ou,{className:"max-w-md",children:[g.jsxs(Ru,{children:[g.jsxs(Du,{className:"flex items-center gap-2",children:[g.jsx(j2,{className:"w-4 h-4"}),"Flashcards"]}),g.jsxs(My,{children:[e==null?void 0:e.length," highlights available"]})]}),e.length===0?g.jsx("p",{className:"text-sm text-muted-foreground p-2",children:"No highlights for selected folders/websites."}):g.jsxs("div",{className:"mt-4",children:[r==="choose"&&g.jsxs("div",{className:"space-y-4 text-center",children:[g.jsx("p",{className:"text-sm text-muted-foreground",children:"What should be displayed on the front of each card?"}),g.jsxs("div",{className:"flex justify-center gap-3",children:[g.jsx(rn,{variant:i?"outline":"default",onClick:()=>c(!1),children:"Show Highlight First"}),g.jsx(rn,{variant:i?"default":"outline",onClick:()=>c(!0),children:"Show Note First"})]}),g.jsxs(rn,{className:"mt-6 flex items-center gap-2",onClick:()=>a("ready"),children:[g.jsx(hf,{className:"w-4 h-4"})," Start Flashcards"]})]}),r==="ready"&&g.jsxs("div",{className:"text-center space-y-4",children:[g.jsxs("p",{className:"text-sm text-muted-foreground",children:["You’re about to start reviewing"," ",g.jsx("strong",{children:e.length})," cards."]}),g.jsxs(rn,{className:"flex items-center gap-2",onClick:()=>a("show"),children:[g.jsx(hf,{className:"w-4 h-4"})," Begin"]})]}),r==="show"&&k&&g.jsxs("div",{className:"flex flex-col items-center",children:[g.jsx("div",{className:"relative w-full h-60 sm:h-64 cursor-pointer perspective",onClick:()=>m(V=>!V),children:g.jsxs(I2.div,{initial:!1,animate:{rotateY:d?180:0},transition:{duration:.6},className:"absolute w-full h-full rounded-xl border border-border bg-background text-center text-sm flex items-center justify-center p-4",style:{border:`3px solid ${k.color||"rgba(0,0,0,0.25)"}`,transformStyle:"preserve-3d"},children:[g.jsx("div",{className:"absolute w-full h-full backface-hidden rounded-xl overflow-hidden",style:{backfaceVisibility:"hidden"},children:g.jsx("div",{className:"h-full w-full overflow-y-auto p-2 break-words flex justify-center items-center",children:i?k.notes||"No notes":k.selectionString})}),g.jsx("div",{className:"absolute w-full h-full rounded-xl overflow-hidden ",style:{transform:"rotateY(180deg)",backfaceVisibility:"hidden"},children:g.jsx("div",{className:"h-full w-full overflow-y-auto p-2 break-words flex justify-center items-center",children:i?k.selectionString:k.notes||"No notes"})})]},k.id)}),g.jsxs("div",{className:"flex gap-4 mt-6",children:[g.jsxs(rn,{onClick:()=>C(!0),className:"bg-green-600 hover:bg-green-700 text-white flex items-center gap-1",children:[g.jsx(Io,{className:"w-4 h-4"})," I Know"]}),g.jsxs(rn,{onClick:()=>C(!1),className:"bg-red-600 hover:bg-red-700 text-white flex items-center gap-1",children:[g.jsx(oo,{className:"w-4 h-4"})," I Don’t Know"]})]}),g.jsxs("div",{className:"flex justify-between items-center w-full mt-4",children:[g.jsxs("p",{className:"text-xs text-muted-foreground",children:["Card ",s+1," of ",e.length]}),g.jsxs(rn,{variant:"ghost",size:"sm",onClick:F,className:"flex items-center gap-1 text-muted-foreground hover:text-foreground",children:[g.jsx(df,{className:"w-4 h-4"}),"Exit"]})]})]}),r==="results"&&g.jsxs("div",{className:"text-center space-y-4",children:[g.jsx("h3",{className:"text-lg font-semibold",children:"Session Summary"}),g.jsxs("p",{className:"text-sm text-muted-foreground",children:["You knew ",g.jsx("strong",{children:b})," out of"," ",g.jsx("strong",{children:e.length})," cards."]}),g.jsxs("div",{className:"flex justify-center gap-4 mt-3",children:[g.jsxs("span",{className:"text-green-700 font-medium flex items-center gap-1",children:[g.jsx(Io,{className:"w-4 h-4"})," ",b," Known"]}),g.jsxs("span",{className:"text-red-700 font-medium flex items-center gap-1",children:[g.jsx(oo,{className:"w-4 h-4"})," ",p," Unknown"]})]}),g.jsxs("div",{className:"flex justify-center gap-3 mt-4",children:[g.jsxs(rn,{onClick:S,className:"flex items-center gap-2",variant:"outline",children:[g.jsx(hm,{className:"w-4 h-4"})," Restart"]}),g.jsxs(rn,{onClick:()=>t(!1),className:"flex items-center gap-2",children:[g.jsx(df,{className:"w-4 h-4"})," Close"]})]})]})]})]})})},th="hideFlashcardsAlert",Uw=()=>{const[n,t]=B.useState(!1);B.useEffect(()=>{localStorage.getItem(th)||t(!0)},[]);const e=()=>t(!1),r=()=>{localStorage.setItem(th,"true"),t(!1)};return n?g.jsxs("div",{className:"relative flex flex-col sm:flex-row sm:items-start gap-3 rounded-xl border border-blue-200 bg-blue-50 p-4 text-blue-900 shadow-sm",children:[g.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[g.jsx(fh,{className:"w-5 h-5 mt-0.5 text-blue-500 flex-shrink-0"}),g.jsxs("div",{className:"text-sm leading-relaxed",children:[g.jsx("strong",{children:"Flashcards"})," help you turn your highlights into study cards. Select folders or websites to generate cards instantly."]})]}),g.jsxs("div",{className:"flex gap-2 justify-end sm:justify-start mt-2 sm:mt-0",children:[g.jsx(rn,{variant:"ghost",size:"sm",onClick:e,className:"border-blue-200 text-blue-700 ",children:"Cancel"}),g.jsx(rn,{variant:"default",size:"sm",onClick:r,className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Don’t show again"})]})]}):null},Hw=()=>{const[n,t]=B.useState([]),[e,r]=B.useState([]),[a,i]=B.useState([]),[c,s]=B.useState([]),[u,d]=B.useState([]),[m,b]=B.useState(!0),[x,p]=B.useState(!1),[L,k]=B.useState(""),[C,S]=B.useState("");B.useEffect(()=>{(async()=>{b(!0);const[re,Q]=await Promise.all([lr.folders.toArray(),lr.websites.toArray()]);t(re),r(Q),b(!1)})()},[]);const F=(ue,re,Q)=>{re==="folder"?s(H=>Q?[...H,ue]:H.filter(de=>de!==ue)):d(H=>Q?[...H,ue]:H.filter(de=>de!==ue))},V=async()=>{const ue=await lr.highlights.where("folderId").anyOf(c).or("urlId").anyOf(u).toArray();i(ue),p(!0)},W=B.useMemo(()=>n.filter(ue=>ue.name.toLowerCase().includes(L.toLowerCase())),[n,L]),be=B.useMemo(()=>e.filter(ue=>ue.url.toLowerCase().includes(C.toLowerCase())),[e,C]);return m?g.jsxs("div",{className:"flex items-center justify-center h-64 text-muted-foreground",children:[g.jsx(Bs,{className:"animate-spin w-5 h-5 mr-2"})," Loading data…"]}):g.jsxs("div",{className:"flex flex-col gap-4 p-4 max-w-6xl mx-auto",children:[g.jsx(Uw,{}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[g.jsx(yh,{className:"w-5 h-5 text-primary"}),"Flashcards"]}),g.jsxs(rn,{onClick:V,disabled:c.length===0&&u.length===0,className:"flex items-center gap-2",children:[g.jsx(q2,{className:"w-4 h-4"}),"Create Flashcards"]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{className:"rounded-2xl border bg-background shadow-sm flex flex-col h-[70vh] min-h-0",children:[g.jsxs("div",{className:"flex items-center justify-between p-3 border-b",children:[g.jsxs("div",{className:"flex items-center gap-2 text-base font-medium",children:[g.jsx(gh,{className:"w-4 h-4 text-muted-foreground"}),"Folders"]}),n.length>0&&g.jsx(rn,{variant:"ghost",size:"sm",onClick:()=>s(c.length===n.length?[]:n.map(ue=>ue.id)),children:c.length===n.length?"Unselect all":"Select all"})]}),g.jsx("div",{className:"p-2",children:g.jsxs("div",{className:"relative flex items-center",children:[g.jsx(Sl,{className:"absolute left-3 text-muted-foreground w-4 h-4"}),g.jsx(ss,{value:L,onChange:ue=>k(ue.target.value),placeholder:"Search folders...",className:"pl-9 pr-8 h-8 text-sm"}),L&&g.jsx("button",{onClick:()=>k(""),className:"absolute right-3 text-muted-foreground hover:text-foreground transition",children:g.jsx(oo,{className:"w-4 h-4"})})]})}),g.jsx("div",{className:"flex-1 min-h-0 px-2",children:g.jsx(so,{className:"h-full",children:g.jsx("div",{className:"space-y-2 py-2",children:W.length===0?g.jsx("p",{className:"text-sm text-muted-foreground p-2",children:"No folders found."}):W.map(ue=>g.jsx("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-muted transition",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Fl,{checked:c.includes(ue.id),onCheckedChange:re=>F(ue.id,"folder",!!re)}),g.jsx(Ms,{className:"w-4 h-4 text-muted-foreground"}),g.jsx("span",{className:"text-sm font-medium truncate",children:ue.name})]})},ue.id))})})})]}),g.jsxs("div",{className:"rounded-2xl border bg-background shadow-sm flex flex-col h-[70vh] min-h-0",children:[g.jsxs("div",{className:"flex items-center justify-between p-3 border-b",children:[g.jsxs("div",{className:"flex items-center gap-2 text-base font-medium",children:[g.jsx(ks,{className:"w-4 h-4 text-muted-foreground"}),"Websites"]}),e.length>0&&g.jsx(rn,{variant:"ghost",size:"sm",onClick:()=>d(u.length===e.length?[]:e.map(ue=>ue.id)),children:u.length===e.length?"Unselect all":"Select all"})]}),g.jsx("div",{className:"p-2",children:g.jsxs("div",{className:"relative flex items-center",children:[g.jsx(Sl,{className:"absolute left-3 text-muted-foreground w-4 h-4"}),g.jsx(ss,{value:C,onChange:ue=>S(ue.target.value),placeholder:"Search websites...",className:"pl-9 pr-8 h-8 text-sm"}),C&&g.jsx("button",{onClick:()=>S(""),className:"absolute right-3 text-muted-foreground hover:text-foreground transition",children:g.jsx(oo,{className:"w-4 h-4"})})]})}),g.jsx("div",{className:"flex-1 min-h-0 px-2",children:g.jsx(so,{className:"h-full",children:g.jsx("div",{className:"space-y-2 py-2",children:be.length===0?g.jsx("p",{className:"text-sm text-muted-foreground p-2",children:"No websites found."}):be.map(ue=>g.jsx("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-muted transition",children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Fl,{checked:u.includes(ue.id),onCheckedChange:re=>F(ue.id,"website",!!re)}),g.jsx("span",{className:"text-sm font-medium truncate",children:ue.url})]})},ue.id))})})})]})]}),g.jsx(qw,{open:x,onOpenChange:p,highlights:a})]})},Ww={theme:"system",setTheme:()=>null},g0=B.createContext(Ww);function Vw({children:n,defaultTheme:t="system",storageKey:e="vite-ui-theme",...r}){const[a,i]=B.useState(()=>localStorage.getItem(e)||t);B.useEffect(()=>{const s=window.document.documentElement;if(s.classList.remove("light","dark"),a==="system"){const u=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";s.classList.add(u);return}s.classList.add(a)},[a]);const c={theme:a,setTheme:s=>{localStorage.setItem(e,s),i(s)}};return g.jsx(g0.Provider,{...r,value:c,children:n})}const Kw=()=>{const n=B.useContext(g0);if(n===void 0)throw new Error("useTheme must be used within a ThemeProvider");return n};var $w="Label",v0=B.forwardRef((n,t)=>g.jsx(mn.label,{...n,ref:t,onMouseDown:e=>{var a;e.target.closest("button, input, select, textarea")||((a=n.onMouseDown)==null||a.call(n,e),!e.defaultPrevented&&e.detail>1&&e.preventDefault())}}));v0.displayName=$w;var Gw=v0;function Xc({className:n,...t}){return g.jsx(Gw,{"data-slot":"label",className:Vt("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...t})}function Yw(){const[n,t]=B.useState([]),[e,r]=B.useState([]),[a,i]=B.useState([]),[c,s]=B.useState([]),[u,d]=B.useState(!1);B.useEffect(()=>{(async()=>{const[C,S]=await Promise.all([lr.folders.toArray(),lr.websites.toArray()]);t(C),r(S)})()},[]);const m=C=>{i(S=>S.includes(C)?S.filter(F=>F!==C):[...S,C])},b=C=>{s(S=>S.includes(C)?S.filter(F=>F!==C):[...S,C])},x=()=>{a.length===n.length?i([]):i(n.map(C=>C.id))},p=()=>{c.length===e.length?s([]):s(e.map(C=>C.id))},L=async()=>{d(!0);try{const C=a.length>0?await lr.folders.bulkGet(a):await lr.folders.toArray(),S=c.length>0?await lr.websites.bulkGet(c):await lr.websites.toArray(),V=(await lr.highlights.toArray()).filter(Q=>C.some(H=>(H==null?void 0:H.id)===Q.folderId)||S.some(H=>(H==null?void 0:H.id)===Q.urlId)),W={folders:C.filter(Boolean),websites:S.filter(Boolean),highlights:V},be=new Blob([JSON.stringify(W,null,2)],{type:"application/json"}),ue=URL.createObjectURL(be),re=document.createElement("a");re.href=ue,re.download=`amber-backup-${new Date().toISOString()}.json`,re.click(),URL.revokeObjectURL(ue),rl.success("Export successful!")}catch(C){console.error(C),rl.error("Failed to export data")}finally{d(!1)}},k=async C=>{var F,V,W,be;const S=(F=C.target.files)==null?void 0:F[0];if(S){d(!0);try{const ue=await S.text(),re=JSON.parse(ue);(V=re.folders)!=null&&V.length&&await lr.folders.bulkPut(re.folders),(W=re.websites)!=null&&W.length&&await lr.websites.bulkPut(re.websites),(be=re.highlights)!=null&&be.length&&await lr.highlights.bulkPut(re.highlights),rl.success("Import successful!")}catch(ue){console.error(ue),rl.error("Import failed — invalid or corrupt file")}finally{d(!1)}}};return g.jsxs("div",{className:"max-w-3xl mx-auto p-6 space-y-6",children:[g.jsxs("div",{className:"flex flex-col  space-y-3",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(bh,{className:"w-6 h-6 text-primary"}),g.jsx("h1",{className:"text-2xl font-semibold",children:"Import & Export Data"})]}),g.jsx("p",{className:"text-muted-foreground text-md max-w-md",children:"Backup or restore your Amber highlights, folders, and websites."})]}),g.jsxs(Ls,{children:[g.jsx(Ps,{children:g.jsxs(js,{className:"flex items-center gap-2",children:[g.jsx(Fs,{className:"w-5 h-5"})," Export Data"]})}),g.jsxs(Cs,{className:"space-y-6",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"flex justify-between items-center mb-2",children:[g.jsxs("h3",{className:"font-semibold flex items-center gap-1",children:[g.jsx(Ms,{className:"w-4 h-4"})," Folders"]}),n.length>0&&g.jsx(rn,{variant:"ghost",size:"sm",onClick:x,className:"text-xs flex items-center gap-1",children:a.length===n.length?g.jsxs(g.Fragment,{children:[g.jsx(mf,{className:"w-4 h-4"})," Deselect All"]}):g.jsxs(g.Fragment,{children:[g.jsx(pf,{className:"w-4 h-4"})," Select All"]})})]}),n.length===0?g.jsx("p",{className:"text-sm text-muted-foreground italic",children:"No folders found."}):g.jsx(so,{className:"h-40 border rounded-md p-1",children:g.jsx("div",{className:"space-y-1",children:n.map(C=>g.jsxs("div",{className:"flex items-center space-x-2 text-sm p-0.5",children:[g.jsx(Fl,{checked:a.includes(C.id),onCheckedChange:()=>m(C.id)}),g.jsx(Xc,{children:C.name})]},C.id))})})]}),g.jsxs("div",{children:[g.jsxs("div",{className:"flex justify-between items-center mb-2",children:[g.jsxs("h3",{className:"font-semibold flex items-center gap-1",children:[g.jsx(ks,{className:"w-4 h-4"})," Websites"]}),e.length>0&&g.jsx(rn,{variant:"ghost",size:"sm",onClick:p,className:"text-xs flex items-center gap-1",children:c.length===e.length?g.jsxs(g.Fragment,{children:[g.jsx(mf,{className:"w-4 h-4"})," Deselect All"]}):g.jsxs(g.Fragment,{children:[g.jsx(pf,{className:"w-4 h-4"})," Select All"]})})]}),e.length===0?g.jsx("p",{className:"text-sm text-muted-foreground italic",children:"No websites found."}):g.jsx(so,{className:"h-40 border rounded-md p-2",children:g.jsx("div",{className:"space-y-1",children:e.map(C=>g.jsxs("div",{className:"flex items-center space-x-2 text-sm p-0.5",children:[g.jsx(Fl,{checked:c.includes(C.id),onCheckedChange:()=>b(C.id)}),g.jsx(Xc,{className:"truncate w-full",children:C.url})]},C.id))})})]}),g.jsx(rn,{onClick:L,disabled:u||!n.length&&!e.length,className:"w-full",children:u?"Exporting...":"Export Selected as JSON"})]})]}),g.jsxs(Ls,{className:"border border-border/50 shadow-sm",children:[g.jsx(Ps,{children:g.jsxs(js,{className:"flex items-center gap-2 text-lg font-semibold",children:[g.jsx(xm,{className:"w-5 h-5 text-primary"}),"Import Data"]})}),g.jsxs(Cs,{className:"space-y-4",children:[g.jsx(Xc,{htmlFor:"importFile",className:"text-sm font-medium",children:"Select a JSON file to import:"}),g.jsxs("div",{className:"relative",children:[g.jsx(ss,{id:"importFile",type:"file",accept:"application/json",onChange:k,disabled:u,className:"cursor-pointer pr-10 file:hidden"}),g.jsx(H2,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground pointer-events-none peer-disabled:opacity-50"})]}),g.jsxs("p",{className:"text-sm text-muted-foreground",children:["The file should contain ",g.jsx("code",{children:'"folders"'}),","," ",g.jsx("code",{children:'"websites"'}),", or ",g.jsx("code",{children:'"highlights"'})," data."]})]})]})]})}const Xw=n=>new Promise(t=>setTimeout(t,n));function Jw(){const[n,t]=B.useState(!1),[e,r]=B.useState(""),[a,i]=B.useState([]),[c,s]=B.useState(!1),[u,d]=B.useState(!0),[m,b]=B.useState(0),x=100;B.useEffect(()=>{const L=k=>{(k.ctrlKey||k.metaKey)&&k.code==="KeyK"&&(k.preventDefault(),t(C=>!C))};return window.addEventListener("keydown",L),()=>window.removeEventListener("keydown",L)},[]);const p=B.useCallback(async(L=!1)=>{if(!e.trim()){i([]),b(0),d(!0);return}s(!0);try{const k=e.toLowerCase(),C=L?0:m;await Xw(300);const S=await lr.highlights.orderBy("createdAt").reverse().offset(C).limit(x).toArray(),F=S.filter(Q=>`${Q.selectionString||""} ${Q.notes||""}`.toLowerCase().includes(k)),V=F.map(Q=>Q.folderId),W=F.map(Q=>Q.urlId),be=Object.fromEntries((await lr.folders.where("id").anyOf(V).toArray()).map(Q=>[Q.id,Q.name])),ue=Object.fromEntries((await lr.websites.where("id").anyOf(W).toArray()).map(Q=>[Q.id,Q.url])),re=F.map(Q=>({...Q,folderName:be[Q.folderId],url:ue[Q.urlId]}));i(L?re:[...a,...re]),b(C+x),d(S.length===x)}catch(k){console.error("Search error:",k)}finally{s(!1)}},[e,m,a]);return B.useEffect(()=>{p(!0)},[e]),g.jsxs(Tu,{open:n,onOpenChange:t,children:[g.jsx(P1,{asChild:!0,children:g.jsxs(rn,{variant:"outline",className:"flex items-center gap-2 font-medium shadow-sm",children:[g.jsx(Sl,{className:"w-4 h-4"}),"Search",g.jsx("span",{className:"ml-2 text-xs text-muted-foreground border rounded px-1",children:"Ctrl K"})]})}),g.jsxs(Ou,{className:"sm:max-w-[50vw] w-[90vw] p-6 rounded-2xl shadow-lg",children:[g.jsx(Ru,{className:"mb-4",children:g.jsx(Du,{className:"text-xl font-semibold tracking-tight",children:"Search Highlights"})}),g.jsx("div",{className:"mb-3",children:g.jsxs("div",{className:"relative",children:[g.jsx(Sl,{className:"absolute left-3 top-2.5 w-4 h-4 text-muted-foreground"}),g.jsx(ss,{placeholder:"Search by text or notes...",value:e,onChange:L=>r(L.target.value),className:"pl-9 rounded-xl border border-border/60 shadow-sm focus:ring-2 focus:ring-primary/40 transition-all"})]})}),g.jsxs("div",{className:"  h-[60vh] overflow-y-auto",children:[a.length>0&&!c&&g.jsxs("p",{className:" text-xs text-muted-foreground mb-2",children:[a.length," result",a.length!==1&&"s"," found"]}),c&&g.jsxs("div",{className:" flex items-center justify-center py-4 text-sm text-muted-foreground",children:[g.jsx(Bs,{className:"w-5 h-5 animate-spin mr-2"}),"Searching..."]}),!c&&g.jsx("div",{className:"space-y-3   pr-2",children:a.length===0?g.jsx("p",{className:"text-sm text-muted-foreground text-center py-10",children:"No results found"}):a.map(L=>g.jsxs("div",{className:"flex items-stretch border border-border/50 rounded-lg overflow-hidden hover:bg-muted/40 transition",children:[g.jsx("div",{className:"w-1.5 flex-shrink-0",style:{backgroundColor:L.color||"#ccc"}}),g.jsxs("div",{className:"flex-1 p-3",children:[g.jsx("p",{className:"font-medium text-sm mb-1 leading-snug",children:L.selectionString}),L.notes&&g.jsx("p",{className:"text-xs text-muted-foreground mb-2 leading-relaxed",children:L.notes}),g.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground flex-wrap",children:[g.jsxs("span",{className:"flex items-center gap-1",children:[g.jsx(Ms,{className:"w-3.5 h-3.5"})," ",L.folderName||"—"]}),g.jsxs("span",{className:"flex items-center gap-1",children:[g.jsx(tm,{className:"w-3.5 h-3.5"}),L.url?g.jsx("a",{href:L.url,target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-primary transition",children:new URL(L.url).hostname.replace("www.","")}):"—"]})]})]})]},L.id))}),!c&&u&&a.length>0&&g.jsx("div",{className:"flex justify-center mt-6",children:g.jsx(rn,{variant:"secondary",size:"sm",onClick:()=>p(),className:"rounded-lg",children:"Load more"})})]})]})]})}const nh=[{id:"websites",icon:ks,label:"Highlighted Pages"},{id:"folders",icon:gh,label:"Folders"},{id:"flashcards",icon:yh,label:"Flash Cards"},{id:"import",icon:bh,label:"Import / Export"},{id:"help",icon:dh,label:"Help"},{id:"about",icon:fh,label:"About"}];function Zw(){const{state:n}=Kl(),[t,e]=B.useState(),{setTheme:r,theme:a}=Kw();return B.useEffect(()=>{const i=new URLSearchParams(window.location.search).get("section"),c=nh.map(s=>s.id);e(c.includes(i)?i:"websites")},[]),g.jsxs("div",{className:"flex min-h-screen w-full ",children:[g.jsx(Wg,{closeButton:!0,richColors:!0,duration:3e3,position:"top-center",theme:"system"}),g.jsx(cg,{collapsible:"icon",children:g.jsx(fg,{children:g.jsx(dg,{children:g.jsx(hg,{children:g.jsx(pg,{children:nh.map(i=>g.jsx(mg,{children:g.jsxs(vg,{onClick:()=>{e(i.id);const s=`${Hi.runtime.getURL("amberOptionsPage.html")}?section=${i.id}`;window.history.replaceState(null,"",s)},isActive:t===i.id,tooltip:i.label,children:[g.jsx(i.icon,{className:"w-4 h-4"}),g.jsx("span",{children:i.label})]})},i.id))})})})})}),g.jsxs("main",{className:"flex-1 flex flex-col ",children:[g.jsxs("header",{className:"flex items-center justify-between px-4 py-3 border-b bg-background ",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx(ug,{}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("img",{src:Hi.runtime.getURL("icon-128.png"),alt:"Amber Logo",className:"w-7 h-7"}),g.jsx("span",{className:"font-semibold text-lg",children:"Amber"})]})]}),g.jsxs("div",{className:"flex flex-row gap-2",children:[g.jsx(Jw,{}),g.jsx("button",{onClick:()=>r(a==="light"?"dark":"light"),className:"flex items-center gap-2 px-3 py-1.5 rounded-md border hover:bg-muted transition-colors",children:a==="light"?g.jsx(L2,{className:"w-4 h-4"}):g.jsx(P2,{className:"w-4 h-4"})})]})]}),g.jsxs("div",{className:"flex-1 p-3 bg-background ",children:[t==="websites"&&g.jsx(Ay,{}),t==="folders"&&g.jsx(zy,{}),t==="import"&&g.jsx(Yw,{}),t==="help"&&g.jsx(Rw,{}),t==="about"&&g.jsx(Dw,{}),t==="flashcards"&&g.jsx(Hw,{})]})]})]})}const Qw=B.createContext(void 0);function ex({children:n}){const[t,e]=B.useState(1);return g.jsx(Qw.Provider,{value:{myRandomNumber:t},children:n})}l2.createRoot(document.getElementById("root")).render(g.jsx(Vw,{defaultTheme:"light",storageKey:"vite-ui-theme",children:g.jsx(ex,{children:g.jsx(lg,{children:g.jsx(Zw,{})})})}));export{_n as _};
